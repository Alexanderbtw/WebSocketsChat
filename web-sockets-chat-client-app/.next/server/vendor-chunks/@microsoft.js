"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@microsoft";
exports.ids = ["vendor-chunks/@microsoft"];
exports.modules = {

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/AbortController.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/AbortController.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbortController: () => (/* binding */ AbortController)\n/* harmony export */ });\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n// Rough polyfill of https://developer.mozilla.org/en-US/docs/Web/API/AbortController\n// We don't actually ever use the API being polyfilled, we always use the polyfill because\n// it's a very new API right now.\n// Not exported from index.\n/** @private */ class AbortController {\n    constructor(){\n        this._isAborted = false;\n        this.onabort = null;\n    }\n    abort() {\n        if (!this._isAborted) {\n            this._isAborted = true;\n            if (this.onabort) {\n                this.onabort();\n            }\n        }\n    }\n    get signal() {\n        return this;\n    }\n    get aborted() {\n        return this._isAborted;\n    }\n} //# sourceMappingURL=AbortController.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0Fib3J0Q29udHJvbGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsZ0VBQWdFO0FBQ2hFLHVFQUF1RTtBQUN2RSxxRkFBcUY7QUFDckYsMEZBQTBGO0FBQzFGLGlDQUFpQztBQUNqQywyQkFBMkI7QUFDM0IsYUFBYSxHQUNOLE1BQU1BO0lBQ1RDLGFBQWM7UUFDVixJQUFJLENBQUNDLFVBQVUsR0FBRztRQUNsQixJQUFJLENBQUNDLE9BQU8sR0FBRztJQUNuQjtJQUNBQyxRQUFRO1FBQ0osSUFBSSxDQUFDLElBQUksQ0FBQ0YsVUFBVSxFQUFFO1lBQ2xCLElBQUksQ0FBQ0EsVUFBVSxHQUFHO1lBQ2xCLElBQUksSUFBSSxDQUFDQyxPQUFPLEVBQUU7Z0JBQ2QsSUFBSSxDQUFDQSxPQUFPO1lBQ2hCO1FBQ0o7SUFDSjtJQUNBLElBQUlFLFNBQVM7UUFDVCxPQUFPLElBQUk7SUFDZjtJQUNBLElBQUlDLFVBQVU7UUFDVixPQUFPLElBQUksQ0FBQ0osVUFBVTtJQUMxQjtBQUNKLEVBQ0EsMkNBQTJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLXNvY2tldHMtY2hhdC1jbGllbnQtYXBwLy4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvc2lnbmFsci9kaXN0L2VzbS9BYm9ydENvbnRyb2xsZXIuanM/NGRmOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcbi8vIFJvdWdoIHBvbHlmaWxsIG9mIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9BYm9ydENvbnRyb2xsZXJcclxuLy8gV2UgZG9uJ3QgYWN0dWFsbHkgZXZlciB1c2UgdGhlIEFQSSBiZWluZyBwb2x5ZmlsbGVkLCB3ZSBhbHdheXMgdXNlIHRoZSBwb2x5ZmlsbCBiZWNhdXNlXHJcbi8vIGl0J3MgYSB2ZXJ5IG5ldyBBUEkgcmlnaHQgbm93LlxyXG4vLyBOb3QgZXhwb3J0ZWQgZnJvbSBpbmRleC5cclxuLyoqIEBwcml2YXRlICovXHJcbmV4cG9ydCBjbGFzcyBBYm9ydENvbnRyb2xsZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5faXNBYm9ydGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5vbmFib3J0ID0gbnVsbDtcclxuICAgIH1cclxuICAgIGFib3J0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5faXNBYm9ydGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzQWJvcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9uYWJvcnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25hYm9ydCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IHNpZ25hbCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIGdldCBhYm9ydGVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Fib3J0ZWQ7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWJvcnRDb250cm9sbGVyLmpzLm1hcCJdLCJuYW1lcyI6WyJBYm9ydENvbnRyb2xsZXIiLCJjb25zdHJ1Y3RvciIsIl9pc0Fib3J0ZWQiLCJvbmFib3J0IiwiYWJvcnQiLCJzaWduYWwiLCJhYm9ydGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/AbortController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/AccessTokenHttpClient.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/AccessTokenHttpClient.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccessTokenHttpClient: () => (/* binding */ AccessTokenHttpClient)\n/* harmony export */ });\n/* harmony import */ var _HeaderNames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./HeaderNames */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/HeaderNames.js\");\n/* harmony import */ var _HttpClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./HttpClient */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/HttpClient.js\");\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n\n\n/** @private */ class AccessTokenHttpClient extends _HttpClient__WEBPACK_IMPORTED_MODULE_0__.HttpClient {\n    constructor(innerClient, accessTokenFactory){\n        super();\n        this._innerClient = innerClient;\n        this._accessTokenFactory = accessTokenFactory;\n    }\n    async send(request) {\n        let allowRetry = true;\n        if (this._accessTokenFactory && (!this._accessToken || request.url && request.url.indexOf(\"/negotiate?\") > 0)) {\n            // don't retry if the request is a negotiate or if we just got a potentially new token from the access token factory\n            allowRetry = false;\n            this._accessToken = await this._accessTokenFactory();\n        }\n        this._setAuthorizationHeader(request);\n        const response = await this._innerClient.send(request);\n        if (allowRetry && response.statusCode === 401 && this._accessTokenFactory) {\n            this._accessToken = await this._accessTokenFactory();\n            this._setAuthorizationHeader(request);\n            return await this._innerClient.send(request);\n        }\n        return response;\n    }\n    _setAuthorizationHeader(request) {\n        if (!request.headers) {\n            request.headers = {};\n        }\n        if (this._accessToken) {\n            request.headers[_HeaderNames__WEBPACK_IMPORTED_MODULE_1__.HeaderNames.Authorization] = `Bearer ${this._accessToken}`;\n        } else if (this._accessTokenFactory) {\n            if (request.headers[_HeaderNames__WEBPACK_IMPORTED_MODULE_1__.HeaderNames.Authorization]) {\n                delete request.headers[_HeaderNames__WEBPACK_IMPORTED_MODULE_1__.HeaderNames.Authorization];\n            }\n        }\n    }\n    getCookieString(url) {\n        return this._innerClient.getCookieString(url);\n    }\n} //# sourceMappingURL=AccessTokenHttpClient.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0FjY2Vzc1Rva2VuSHR0cENsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxnRUFBZ0U7QUFDaEUsdUVBQXVFO0FBQzNCO0FBQ0Y7QUFDMUMsYUFBYSxHQUNOLE1BQU1FLDhCQUE4QkQsbURBQVVBO0lBQ2pERSxZQUFZQyxXQUFXLEVBQUVDLGtCQUFrQixDQUFFO1FBQ3pDLEtBQUs7UUFDTCxJQUFJLENBQUNDLFlBQVksR0FBR0Y7UUFDcEIsSUFBSSxDQUFDRyxtQkFBbUIsR0FBR0Y7SUFDL0I7SUFDQSxNQUFNRyxLQUFLQyxPQUFPLEVBQUU7UUFDaEIsSUFBSUMsYUFBYTtRQUNqQixJQUFJLElBQUksQ0FBQ0gsbUJBQW1CLElBQUssRUFBQyxJQUFJLENBQUNJLFlBQVksSUFBS0YsUUFBUUcsR0FBRyxJQUFJSCxRQUFRRyxHQUFHLENBQUNDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxHQUFJO1lBQzdHLG9IQUFvSDtZQUNwSEgsYUFBYTtZQUNiLElBQUksQ0FBQ0MsWUFBWSxHQUFHLE1BQU0sSUFBSSxDQUFDSixtQkFBbUI7UUFDdEQ7UUFDQSxJQUFJLENBQUNPLHVCQUF1QixDQUFDTDtRQUM3QixNQUFNTSxXQUFXLE1BQU0sSUFBSSxDQUFDVCxZQUFZLENBQUNFLElBQUksQ0FBQ0M7UUFDOUMsSUFBSUMsY0FBY0ssU0FBU0MsVUFBVSxLQUFLLE9BQU8sSUFBSSxDQUFDVCxtQkFBbUIsRUFBRTtZQUN2RSxJQUFJLENBQUNJLFlBQVksR0FBRyxNQUFNLElBQUksQ0FBQ0osbUJBQW1CO1lBQ2xELElBQUksQ0FBQ08sdUJBQXVCLENBQUNMO1lBQzdCLE9BQU8sTUFBTSxJQUFJLENBQUNILFlBQVksQ0FBQ0UsSUFBSSxDQUFDQztRQUN4QztRQUNBLE9BQU9NO0lBQ1g7SUFDQUQsd0JBQXdCTCxPQUFPLEVBQUU7UUFDN0IsSUFBSSxDQUFDQSxRQUFRUSxPQUFPLEVBQUU7WUFDbEJSLFFBQVFRLE9BQU8sR0FBRyxDQUFDO1FBQ3ZCO1FBQ0EsSUFBSSxJQUFJLENBQUNOLFlBQVksRUFBRTtZQUNuQkYsUUFBUVEsT0FBTyxDQUFDakIscURBQVdBLENBQUNrQixhQUFhLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUNQLFlBQVksQ0FBQyxDQUFDO1FBQzlFLE9BRUssSUFBSSxJQUFJLENBQUNKLG1CQUFtQixFQUFFO1lBQy9CLElBQUlFLFFBQVFRLE9BQU8sQ0FBQ2pCLHFEQUFXQSxDQUFDa0IsYUFBYSxDQUFDLEVBQUU7Z0JBQzVDLE9BQU9ULFFBQVFRLE9BQU8sQ0FBQ2pCLHFEQUFXQSxDQUFDa0IsYUFBYSxDQUFDO1lBQ3JEO1FBQ0o7SUFDSjtJQUNBQyxnQkFBZ0JQLEdBQUcsRUFBRTtRQUNqQixPQUFPLElBQUksQ0FBQ04sWUFBWSxDQUFDYSxlQUFlLENBQUNQO0lBQzdDO0FBQ0osRUFDQSxpREFBaUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWItc29ja2V0cy1jaGF0LWNsaWVudC1hcHAvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0FjY2Vzc1Rva2VuSHR0cENsaWVudC5qcz9iMGE5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuaW1wb3J0IHsgSGVhZGVyTmFtZXMgfSBmcm9tIFwiLi9IZWFkZXJOYW1lc1wiO1xyXG5pbXBvcnQgeyBIdHRwQ2xpZW50IH0gZnJvbSBcIi4vSHR0cENsaWVudFwiO1xyXG4vKiogQHByaXZhdGUgKi9cclxuZXhwb3J0IGNsYXNzIEFjY2Vzc1Rva2VuSHR0cENsaWVudCBleHRlbmRzIEh0dHBDbGllbnQge1xyXG4gICAgY29uc3RydWN0b3IoaW5uZXJDbGllbnQsIGFjY2Vzc1Rva2VuRmFjdG9yeSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5faW5uZXJDbGllbnQgPSBpbm5lckNsaWVudDtcclxuICAgICAgICB0aGlzLl9hY2Nlc3NUb2tlbkZhY3RvcnkgPSBhY2Nlc3NUb2tlbkZhY3Rvcnk7XHJcbiAgICB9XHJcbiAgICBhc3luYyBzZW5kKHJlcXVlc3QpIHtcclxuICAgICAgICBsZXQgYWxsb3dSZXRyeSA9IHRydWU7XHJcbiAgICAgICAgaWYgKHRoaXMuX2FjY2Vzc1Rva2VuRmFjdG9yeSAmJiAoIXRoaXMuX2FjY2Vzc1Rva2VuIHx8IChyZXF1ZXN0LnVybCAmJiByZXF1ZXN0LnVybC5pbmRleE9mKFwiL25lZ290aWF0ZT9cIikgPiAwKSkpIHtcclxuICAgICAgICAgICAgLy8gZG9uJ3QgcmV0cnkgaWYgdGhlIHJlcXVlc3QgaXMgYSBuZWdvdGlhdGUgb3IgaWYgd2UganVzdCBnb3QgYSBwb3RlbnRpYWxseSBuZXcgdG9rZW4gZnJvbSB0aGUgYWNjZXNzIHRva2VuIGZhY3RvcnlcclxuICAgICAgICAgICAgYWxsb3dSZXRyeSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLl9hY2Nlc3NUb2tlbiA9IGF3YWl0IHRoaXMuX2FjY2Vzc1Rva2VuRmFjdG9yeSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9zZXRBdXRob3JpemF0aW9uSGVhZGVyKHJlcXVlc3QpO1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5faW5uZXJDbGllbnQuc2VuZChyZXF1ZXN0KTtcclxuICAgICAgICBpZiAoYWxsb3dSZXRyeSAmJiByZXNwb25zZS5zdGF0dXNDb2RlID09PSA0MDEgJiYgdGhpcy5fYWNjZXNzVG9rZW5GYWN0b3J5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2FjY2Vzc1Rva2VuID0gYXdhaXQgdGhpcy5fYWNjZXNzVG9rZW5GYWN0b3J5KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NldEF1dGhvcml6YXRpb25IZWFkZXIocmVxdWVzdCk7XHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9pbm5lckNsaWVudC5zZW5kKHJlcXVlc3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICB9XHJcbiAgICBfc2V0QXV0aG9yaXphdGlvbkhlYWRlcihyZXF1ZXN0KSB7XHJcbiAgICAgICAgaWYgKCFyZXF1ZXN0LmhlYWRlcnMpIHtcclxuICAgICAgICAgICAgcmVxdWVzdC5oZWFkZXJzID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9hY2Nlc3NUb2tlbikge1xyXG4gICAgICAgICAgICByZXF1ZXN0LmhlYWRlcnNbSGVhZGVyTmFtZXMuQXV0aG9yaXphdGlvbl0gPSBgQmVhcmVyICR7dGhpcy5fYWNjZXNzVG9rZW59YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZG9uJ3QgcmVtb3ZlIHRoZSBoZWFkZXIgaWYgdGhlcmUgaXNuJ3QgYW4gYWNjZXNzIHRva2VuIGZhY3RvcnksIHRoZSB1c2VyIG1hbnVhbGx5IGFkZGVkIHRoZSBoZWFkZXIgaW4gdGhpcyBjYXNlXHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5fYWNjZXNzVG9rZW5GYWN0b3J5KSB7XHJcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0LmhlYWRlcnNbSGVhZGVyTmFtZXMuQXV0aG9yaXphdGlvbl0pIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSByZXF1ZXN0LmhlYWRlcnNbSGVhZGVyTmFtZXMuQXV0aG9yaXphdGlvbl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRDb29raWVTdHJpbmcodXJsKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubmVyQ2xpZW50LmdldENvb2tpZVN0cmluZyh1cmwpO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFjY2Vzc1Rva2VuSHR0cENsaWVudC5qcy5tYXAiXSwibmFtZXMiOlsiSGVhZGVyTmFtZXMiLCJIdHRwQ2xpZW50IiwiQWNjZXNzVG9rZW5IdHRwQ2xpZW50IiwiY29uc3RydWN0b3IiLCJpbm5lckNsaWVudCIsImFjY2Vzc1Rva2VuRmFjdG9yeSIsIl9pbm5lckNsaWVudCIsIl9hY2Nlc3NUb2tlbkZhY3RvcnkiLCJzZW5kIiwicmVxdWVzdCIsImFsbG93UmV0cnkiLCJfYWNjZXNzVG9rZW4iLCJ1cmwiLCJpbmRleE9mIiwiX3NldEF1dGhvcml6YXRpb25IZWFkZXIiLCJyZXNwb25zZSIsInN0YXR1c0NvZGUiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImdldENvb2tpZVN0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/AccessTokenHttpClient.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/DefaultHttpClient.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/DefaultHttpClient.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultHttpClient: () => (/* binding */ DefaultHttpClient)\n/* harmony export */ });\n/* harmony import */ var _Errors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Errors */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Errors.js\");\n/* harmony import */ var _FetchHttpClient__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FetchHttpClient */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/FetchHttpClient.js\");\n/* harmony import */ var _HttpClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./HttpClient */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/HttpClient.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Utils.js\");\n/* harmony import */ var _XhrHttpClient__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./XhrHttpClient */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/XhrHttpClient.js\");\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n\n\n\n\n\n/** Default implementation of {@link @microsoft/signalr.HttpClient}. */ class DefaultHttpClient extends _HttpClient__WEBPACK_IMPORTED_MODULE_0__.HttpClient {\n    /** Creates a new instance of the {@link @microsoft/signalr.DefaultHttpClient}, using the provided {@link @microsoft/signalr.ILogger} to log messages. */ constructor(logger){\n        super();\n        if (typeof fetch !== \"undefined\" || _Utils__WEBPACK_IMPORTED_MODULE_1__.Platform.isNode) {\n            this._httpClient = new _FetchHttpClient__WEBPACK_IMPORTED_MODULE_2__.FetchHttpClient(logger);\n        } else if (typeof XMLHttpRequest !== \"undefined\") {\n            this._httpClient = new _XhrHttpClient__WEBPACK_IMPORTED_MODULE_3__.XhrHttpClient(logger);\n        } else {\n            throw new Error(\"No usable HttpClient found.\");\n        }\n    }\n    /** @inheritDoc */ send(request) {\n        // Check that abort was not signaled before calling send\n        if (request.abortSignal && request.abortSignal.aborted) {\n            return Promise.reject(new _Errors__WEBPACK_IMPORTED_MODULE_4__.AbortError());\n        }\n        if (!request.method) {\n            return Promise.reject(new Error(\"No method defined.\"));\n        }\n        if (!request.url) {\n            return Promise.reject(new Error(\"No url defined.\"));\n        }\n        return this._httpClient.send(request);\n    }\n    getCookieString(url) {\n        return this._httpClient.getCookieString(url);\n    }\n} //# sourceMappingURL=DefaultHttpClient.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0RlZmF1bHRIdHRwQ2xpZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLGdFQUFnRTtBQUNoRSx1RUFBdUU7QUFDakM7QUFDYztBQUNWO0FBQ1A7QUFDYTtBQUNoRCxxRUFBcUUsR0FDOUQsTUFBTUssMEJBQTBCSCxtREFBVUE7SUFDN0MsdUpBQXVKLEdBQ3ZKSSxZQUFZQyxNQUFNLENBQUU7UUFDaEIsS0FBSztRQUNMLElBQUksT0FBT0MsVUFBVSxlQUFlTCw0Q0FBUUEsQ0FBQ00sTUFBTSxFQUFFO1lBQ2pELElBQUksQ0FBQ0MsV0FBVyxHQUFHLElBQUlULDZEQUFlQSxDQUFDTTtRQUMzQyxPQUNLLElBQUksT0FBT0ksbUJBQW1CLGFBQWE7WUFDNUMsSUFBSSxDQUFDRCxXQUFXLEdBQUcsSUFBSU4seURBQWFBLENBQUNHO1FBQ3pDLE9BQ0s7WUFDRCxNQUFNLElBQUlLLE1BQU07UUFDcEI7SUFDSjtJQUNBLGdCQUFnQixHQUNoQkMsS0FBS0MsT0FBTyxFQUFFO1FBQ1Ysd0RBQXdEO1FBQ3hELElBQUlBLFFBQVFDLFdBQVcsSUFBSUQsUUFBUUMsV0FBVyxDQUFDQyxPQUFPLEVBQUU7WUFDcEQsT0FBT0MsUUFBUUMsTUFBTSxDQUFDLElBQUlsQiwrQ0FBVUE7UUFDeEM7UUFDQSxJQUFJLENBQUNjLFFBQVFLLE1BQU0sRUFBRTtZQUNqQixPQUFPRixRQUFRQyxNQUFNLENBQUMsSUFBSU4sTUFBTTtRQUNwQztRQUNBLElBQUksQ0FBQ0UsUUFBUU0sR0FBRyxFQUFFO1lBQ2QsT0FBT0gsUUFBUUMsTUFBTSxDQUFDLElBQUlOLE1BQU07UUFDcEM7UUFDQSxPQUFPLElBQUksQ0FBQ0YsV0FBVyxDQUFDRyxJQUFJLENBQUNDO0lBQ2pDO0lBQ0FPLGdCQUFnQkQsR0FBRyxFQUFFO1FBQ2pCLE9BQU8sSUFBSSxDQUFDVixXQUFXLENBQUNXLGVBQWUsQ0FBQ0Q7SUFDNUM7QUFDSixFQUNBLDZDQUE2QyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi1zb2NrZXRzLWNoYXQtY2xpZW50LWFwcC8uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L3NpZ25hbHIvZGlzdC9lc20vRGVmYXVsdEh0dHBDbGllbnQuanM/MmZlNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcbmltcG9ydCB7IEFib3J0RXJyb3IgfSBmcm9tIFwiLi9FcnJvcnNcIjtcclxuaW1wb3J0IHsgRmV0Y2hIdHRwQ2xpZW50IH0gZnJvbSBcIi4vRmV0Y2hIdHRwQ2xpZW50XCI7XHJcbmltcG9ydCB7IEh0dHBDbGllbnQgfSBmcm9tIFwiLi9IdHRwQ2xpZW50XCI7XHJcbmltcG9ydCB7IFBsYXRmb3JtIH0gZnJvbSBcIi4vVXRpbHNcIjtcclxuaW1wb3J0IHsgWGhySHR0cENsaWVudCB9IGZyb20gXCIuL1hockh0dHBDbGllbnRcIjtcclxuLyoqIERlZmF1bHQgaW1wbGVtZW50YXRpb24gb2Yge0BsaW5rIEBtaWNyb3NvZnQvc2lnbmFsci5IdHRwQ2xpZW50fS4gKi9cclxuZXhwb3J0IGNsYXNzIERlZmF1bHRIdHRwQ2xpZW50IGV4dGVuZHMgSHR0cENsaWVudCB7XHJcbiAgICAvKiogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiB0aGUge0BsaW5rIEBtaWNyb3NvZnQvc2lnbmFsci5EZWZhdWx0SHR0cENsaWVudH0sIHVzaW5nIHRoZSBwcm92aWRlZCB7QGxpbmsgQG1pY3Jvc29mdC9zaWduYWxyLklMb2dnZXJ9IHRvIGxvZyBtZXNzYWdlcy4gKi9cclxuICAgIGNvbnN0cnVjdG9yKGxvZ2dlcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmZXRjaCAhPT0gXCJ1bmRlZmluZWRcIiB8fCBQbGF0Zm9ybS5pc05vZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5faHR0cENsaWVudCA9IG5ldyBGZXRjaEh0dHBDbGllbnQobG9nZ2VyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2h0dHBDbGllbnQgPSBuZXcgWGhySHR0cENsaWVudChsb2dnZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gdXNhYmxlIEh0dHBDbGllbnQgZm91bmQuXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKiBAaW5oZXJpdERvYyAqL1xyXG4gICAgc2VuZChyZXF1ZXN0KSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgdGhhdCBhYm9ydCB3YXMgbm90IHNpZ25hbGVkIGJlZm9yZSBjYWxsaW5nIHNlbmRcclxuICAgICAgICBpZiAocmVxdWVzdC5hYm9ydFNpZ25hbCAmJiByZXF1ZXN0LmFib3J0U2lnbmFsLmFib3J0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBBYm9ydEVycm9yKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXJlcXVlc3QubWV0aG9kKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJObyBtZXRob2QgZGVmaW5lZC5cIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXJlcXVlc3QudXJsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJObyB1cmwgZGVmaW5lZC5cIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cENsaWVudC5zZW5kKHJlcXVlc3QpO1xyXG4gICAgfVxyXG4gICAgZ2V0Q29va2llU3RyaW5nKHVybCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9odHRwQ2xpZW50LmdldENvb2tpZVN0cmluZyh1cmwpO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlZmF1bHRIdHRwQ2xpZW50LmpzLm1hcCJdLCJuYW1lcyI6WyJBYm9ydEVycm9yIiwiRmV0Y2hIdHRwQ2xpZW50IiwiSHR0cENsaWVudCIsIlBsYXRmb3JtIiwiWGhySHR0cENsaWVudCIsIkRlZmF1bHRIdHRwQ2xpZW50IiwiY29uc3RydWN0b3IiLCJsb2dnZXIiLCJmZXRjaCIsImlzTm9kZSIsIl9odHRwQ2xpZW50IiwiWE1MSHR0cFJlcXVlc3QiLCJFcnJvciIsInNlbmQiLCJyZXF1ZXN0IiwiYWJvcnRTaWduYWwiLCJhYm9ydGVkIiwiUHJvbWlzZSIsInJlamVjdCIsIm1ldGhvZCIsInVybCIsImdldENvb2tpZVN0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/DefaultHttpClient.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/DefaultReconnectPolicy.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/DefaultReconnectPolicy.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultReconnectPolicy: () => (/* binding */ DefaultReconnectPolicy)\n/* harmony export */ });\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n// 0, 2, 10, 30 second delays before reconnect attempts.\nconst DEFAULT_RETRY_DELAYS_IN_MILLISECONDS = [\n    0,\n    2000,\n    10000,\n    30000,\n    null\n];\n/** @private */ class DefaultReconnectPolicy {\n    constructor(retryDelays){\n        this._retryDelays = retryDelays !== undefined ? [\n            ...retryDelays,\n            null\n        ] : DEFAULT_RETRY_DELAYS_IN_MILLISECONDS;\n    }\n    nextRetryDelayInMilliseconds(retryContext) {\n        return this._retryDelays[retryContext.previousRetryCount];\n    }\n} //# sourceMappingURL=DefaultReconnectPolicy.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0RlZmF1bHRSZWNvbm5lY3RQb2xpY3kuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGdFQUFnRTtBQUNoRSx1RUFBdUU7QUFDdkUsd0RBQXdEO0FBQ3hELE1BQU1BLHVDQUF1QztJQUFDO0lBQUc7SUFBTTtJQUFPO0lBQU87Q0FBSztBQUMxRSxhQUFhLEdBQ04sTUFBTUM7SUFDVEMsWUFBWUMsV0FBVyxDQUFFO1FBQ3JCLElBQUksQ0FBQ0MsWUFBWSxHQUFHRCxnQkFBZ0JFLFlBQVk7ZUFBSUY7WUFBYTtTQUFLLEdBQUdIO0lBQzdFO0lBQ0FNLDZCQUE2QkMsWUFBWSxFQUFFO1FBQ3ZDLE9BQU8sSUFBSSxDQUFDSCxZQUFZLENBQUNHLGFBQWFDLGtCQUFrQixDQUFDO0lBQzdEO0FBQ0osRUFDQSxrREFBa0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWItc29ja2V0cy1jaGF0LWNsaWVudC1hcHAvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0RlZmF1bHRSZWNvbm5lY3RQb2xpY3kuanM/Nzc0OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcbi8vIDAsIDIsIDEwLCAzMCBzZWNvbmQgZGVsYXlzIGJlZm9yZSByZWNvbm5lY3QgYXR0ZW1wdHMuXHJcbmNvbnN0IERFRkFVTFRfUkVUUllfREVMQVlTX0lOX01JTExJU0VDT05EUyA9IFswLCAyMDAwLCAxMDAwMCwgMzAwMDAsIG51bGxdO1xyXG4vKiogQHByaXZhdGUgKi9cclxuZXhwb3J0IGNsYXNzIERlZmF1bHRSZWNvbm5lY3RQb2xpY3kge1xyXG4gICAgY29uc3RydWN0b3IocmV0cnlEZWxheXMpIHtcclxuICAgICAgICB0aGlzLl9yZXRyeURlbGF5cyA9IHJldHJ5RGVsYXlzICE9PSB1bmRlZmluZWQgPyBbLi4ucmV0cnlEZWxheXMsIG51bGxdIDogREVGQVVMVF9SRVRSWV9ERUxBWVNfSU5fTUlMTElTRUNPTkRTO1xyXG4gICAgfVxyXG4gICAgbmV4dFJldHJ5RGVsYXlJbk1pbGxpc2Vjb25kcyhyZXRyeUNvbnRleHQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcmV0cnlEZWxheXNbcmV0cnlDb250ZXh0LnByZXZpb3VzUmV0cnlDb3VudF07XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGVmYXVsdFJlY29ubmVjdFBvbGljeS5qcy5tYXAiXSwibmFtZXMiOlsiREVGQVVMVF9SRVRSWV9ERUxBWVNfSU5fTUlMTElTRUNPTkRTIiwiRGVmYXVsdFJlY29ubmVjdFBvbGljeSIsImNvbnN0cnVjdG9yIiwicmV0cnlEZWxheXMiLCJfcmV0cnlEZWxheXMiLCJ1bmRlZmluZWQiLCJuZXh0UmV0cnlEZWxheUluTWlsbGlzZWNvbmRzIiwicmV0cnlDb250ZXh0IiwicHJldmlvdXNSZXRyeUNvdW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/DefaultReconnectPolicy.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/DynamicImports.js":
/*!********************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/DynamicImports.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   configureAbortController: () => (/* binding */ configureAbortController),\n/* harmony export */   configureFetch: () => (/* binding */ configureFetch),\n/* harmony export */   getEventSource: () => (/* binding */ getEventSource),\n/* harmony export */   getWS: () => (/* binding */ getWS)\n/* harmony export */ });\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Utils.js\");\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n\n/** @private */ function configureFetch(obj) {\n    // Node added a fetch implementation to the global scope starting in v18.\n    // We need to add a cookie jar in node to be able to share cookies with WebSocket\n    if (typeof fetch === \"undefined\" || _Utils__WEBPACK_IMPORTED_MODULE_0__.Platform.isNode) {\n        // Cookies aren't automatically handled in Node so we need to add a CookieJar to preserve cookies across requests\n        // eslint-disable-next-line @typescript-eslint/no-var-requires\n        obj._jar = new (__webpack_require__(/*! tough-cookie */ \"(ssr)/./node_modules/tough-cookie/lib/cookie.js\").CookieJar)();\n        if (typeof fetch === \"undefined\") {\n            // eslint-disable-next-line @typescript-eslint/no-var-requires\n            obj._fetchType = __webpack_require__(/*! node-fetch */ \"(ssr)/./node_modules/node-fetch/lib/index.mjs\");\n        } else {\n            // Use fetch from Node if available\n            obj._fetchType = fetch;\n        }\n        // node-fetch doesn't have a nice API for getting and setting cookies\n        // fetch-cookie will wrap a fetch implementation with a default CookieJar or a provided one\n        // eslint-disable-next-line @typescript-eslint/no-var-requires\n        obj._fetchType = __webpack_require__(/*! fetch-cookie */ \"(ssr)/./node_modules/fetch-cookie/cjs/index-wrapper.js\")(obj._fetchType, obj._jar);\n        return true;\n    }\n    return false;\n}\n/** @private */ function configureAbortController(obj) {\n    if (typeof AbortController === \"undefined\") {\n        // Node needs EventListener methods on AbortController which our custom polyfill doesn't provide\n        obj._abortControllerType = __webpack_require__(/*! abort-controller */ \"(ssr)/./node_modules/abort-controller/dist/abort-controller.js\");\n        return true;\n    }\n    return false;\n}\n/** @private */ function getWS() {\n    return __webpack_require__(/*! ws */ \"(ssr)/./node_modules/ws/index.js\");\n}\n/** @private */ function getEventSource() {\n    return __webpack_require__(/*! eventsource */ \"(ssr)/./node_modules/eventsource/lib/eventsource.js\");\n} //# sourceMappingURL=DynamicImports.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0R5bmFtaWNJbXBvcnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsZ0VBQWdFO0FBQ2hFLHVFQUF1RTtBQUNwQztBQUNuQyxhQUFhLEdBQ04sU0FBU0MsZUFBZUMsR0FBRztJQUM5Qix5RUFBeUU7SUFDekUsaUZBQWlGO0lBQ2pGLElBQUksT0FBT0MsVUFBVSxlQUFlSCw0Q0FBUUEsQ0FBQ0ksTUFBTSxFQUFFO1FBQ2pELGlIQUFpSDtRQUNqSCw4REFBOEQ7UUFDOURGLElBQUlHLElBQUksR0FBRyxJQUFJLHNHQUFtQztRQUNsRCxJQUFJLE9BQU9GLFVBQVUsYUFBYTtZQUM5Qiw4REFBOEQ7WUFDOURELElBQUlNLFVBQVUsR0FBR0YsbUJBQU9BLENBQUMsaUVBQVk7UUFDekMsT0FDSztZQUNELG1DQUFtQztZQUNuQ0osSUFBSU0sVUFBVSxHQUFHTDtRQUNyQjtRQUNBLHFFQUFxRTtRQUNyRSwyRkFBMkY7UUFDM0YsOERBQThEO1FBQzlERCxJQUFJTSxVQUFVLEdBQUdGLG1CQUFPQSxDQUFDLDRFQUFjLEVBQUVKLElBQUlNLFVBQVUsRUFBRU4sSUFBSUcsSUFBSTtRQUNqRSxPQUFPO0lBQ1g7SUFDQSxPQUFPO0FBQ1g7QUFDQSxhQUFhLEdBQ04sU0FBU0kseUJBQXlCUCxHQUFHO0lBQ3hDLElBQUksT0FBT1Esb0JBQW9CLGFBQWE7UUFDeEMsZ0dBQWdHO1FBQ2hHUixJQUFJUyxvQkFBb0IsR0FBR0wsbUJBQU9BLENBQUMsd0ZBQWtCO1FBQ3JELE9BQU87SUFDWDtJQUNBLE9BQU87QUFDWDtBQUNBLGFBQWEsR0FDTixTQUFTTTtJQUNaLE9BQU9OLG1CQUFPQSxDQUFDLDRDQUFJO0FBQ3ZCO0FBQ0EsYUFBYSxHQUNOLFNBQVNPO0lBQ1osT0FBT1AsbUJBQU9BLENBQUMsd0VBQWE7QUFDaEMsRUFDQSwwQ0FBMEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWItc29ja2V0cy1jaGF0LWNsaWVudC1hcHAvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0R5bmFtaWNJbXBvcnRzLmpzPzQwYWUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5pbXBvcnQgeyBQbGF0Zm9ybSB9IGZyb20gXCIuL1V0aWxzXCI7XHJcbi8qKiBAcHJpdmF0ZSAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY29uZmlndXJlRmV0Y2gob2JqKSB7XHJcbiAgICAvLyBOb2RlIGFkZGVkIGEgZmV0Y2ggaW1wbGVtZW50YXRpb24gdG8gdGhlIGdsb2JhbCBzY29wZSBzdGFydGluZyBpbiB2MTguXHJcbiAgICAvLyBXZSBuZWVkIHRvIGFkZCBhIGNvb2tpZSBqYXIgaW4gbm9kZSB0byBiZSBhYmxlIHRvIHNoYXJlIGNvb2tpZXMgd2l0aCBXZWJTb2NrZXRcclxuICAgIGlmICh0eXBlb2YgZmV0Y2ggPT09IFwidW5kZWZpbmVkXCIgfHwgUGxhdGZvcm0uaXNOb2RlKSB7XHJcbiAgICAgICAgLy8gQ29va2llcyBhcmVuJ3QgYXV0b21hdGljYWxseSBoYW5kbGVkIGluIE5vZGUgc28gd2UgbmVlZCB0byBhZGQgYSBDb29raWVKYXIgdG8gcHJlc2VydmUgY29va2llcyBhY3Jvc3MgcmVxdWVzdHNcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXZhci1yZXF1aXJlc1xyXG4gICAgICAgIG9iai5famFyID0gbmV3IChyZXF1aXJlKFwidG91Z2gtY29va2llXCIpKS5Db29raWVKYXIoKTtcclxuICAgICAgICBpZiAodHlwZW9mIGZldGNoID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdmFyLXJlcXVpcmVzXHJcbiAgICAgICAgICAgIG9iai5fZmV0Y2hUeXBlID0gcmVxdWlyZShcIm5vZGUtZmV0Y2hcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBVc2UgZmV0Y2ggZnJvbSBOb2RlIGlmIGF2YWlsYWJsZVxyXG4gICAgICAgICAgICBvYmouX2ZldGNoVHlwZSA9IGZldGNoO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBub2RlLWZldGNoIGRvZXNuJ3QgaGF2ZSBhIG5pY2UgQVBJIGZvciBnZXR0aW5nIGFuZCBzZXR0aW5nIGNvb2tpZXNcclxuICAgICAgICAvLyBmZXRjaC1jb29raWUgd2lsbCB3cmFwIGEgZmV0Y2ggaW1wbGVtZW50YXRpb24gd2l0aCBhIGRlZmF1bHQgQ29va2llSmFyIG9yIGEgcHJvdmlkZWQgb25lXHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXNcclxuICAgICAgICBvYmouX2ZldGNoVHlwZSA9IHJlcXVpcmUoXCJmZXRjaC1jb29raWVcIikob2JqLl9mZXRjaFR5cGUsIG9iai5famFyKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG4vKiogQHByaXZhdGUgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpZ3VyZUFib3J0Q29udHJvbGxlcihvYmopIHtcclxuICAgIGlmICh0eXBlb2YgQWJvcnRDb250cm9sbGVyID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgLy8gTm9kZSBuZWVkcyBFdmVudExpc3RlbmVyIG1ldGhvZHMgb24gQWJvcnRDb250cm9sbGVyIHdoaWNoIG91ciBjdXN0b20gcG9seWZpbGwgZG9lc24ndCBwcm92aWRlXHJcbiAgICAgICAgb2JqLl9hYm9ydENvbnRyb2xsZXJUeXBlID0gcmVxdWlyZShcImFib3J0LWNvbnRyb2xsZXJcIik7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuLyoqIEBwcml2YXRlICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRXUygpIHtcclxuICAgIHJldHVybiByZXF1aXJlKFwid3NcIik7XHJcbn1cclxuLyoqIEBwcml2YXRlICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFdmVudFNvdXJjZSgpIHtcclxuICAgIHJldHVybiByZXF1aXJlKFwiZXZlbnRzb3VyY2VcIik7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RHluYW1pY0ltcG9ydHMuanMubWFwIl0sIm5hbWVzIjpbIlBsYXRmb3JtIiwiY29uZmlndXJlRmV0Y2giLCJvYmoiLCJmZXRjaCIsImlzTm9kZSIsIl9qYXIiLCJyZXF1aXJlIiwiQ29va2llSmFyIiwiX2ZldGNoVHlwZSIsImNvbmZpZ3VyZUFib3J0Q29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsIl9hYm9ydENvbnRyb2xsZXJUeXBlIiwiZ2V0V1MiLCJnZXRFdmVudFNvdXJjZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/DynamicImports.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/Errors.js":
/*!************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/Errors.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbortError: () => (/* binding */ AbortError),\n/* harmony export */   AggregateErrors: () => (/* binding */ AggregateErrors),\n/* harmony export */   DisabledTransportError: () => (/* binding */ DisabledTransportError),\n/* harmony export */   FailedToNegotiateWithServerError: () => (/* binding */ FailedToNegotiateWithServerError),\n/* harmony export */   FailedToStartTransportError: () => (/* binding */ FailedToStartTransportError),\n/* harmony export */   HttpError: () => (/* binding */ HttpError),\n/* harmony export */   TimeoutError: () => (/* binding */ TimeoutError),\n/* harmony export */   UnsupportedTransportError: () => (/* binding */ UnsupportedTransportError)\n/* harmony export */ });\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n/** Error thrown when an HTTP request fails. */ class HttpError extends Error {\n    /** Constructs a new instance of {@link @microsoft/signalr.HttpError}.\r\n     *\r\n     * @param {string} errorMessage A descriptive error message.\r\n     * @param {number} statusCode The HTTP status code represented by this error.\r\n     */ constructor(errorMessage, statusCode){\n        const trueProto = new.target.prototype;\n        super(`${errorMessage}: Status code '${statusCode}'`);\n        this.statusCode = statusCode;\n        // Workaround issue in Typescript compiler\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\n        this.__proto__ = trueProto;\n    }\n}\n/** Error thrown when a timeout elapses. */ class TimeoutError extends Error {\n    /** Constructs a new instance of {@link @microsoft/signalr.TimeoutError}.\r\n     *\r\n     * @param {string} errorMessage A descriptive error message.\r\n     */ constructor(errorMessage = \"A timeout occurred.\"){\n        const trueProto = new.target.prototype;\n        super(errorMessage);\n        // Workaround issue in Typescript compiler\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\n        this.__proto__ = trueProto;\n    }\n}\n/** Error thrown when an action is aborted. */ class AbortError extends Error {\n    /** Constructs a new instance of {@link AbortError}.\r\n     *\r\n     * @param {string} errorMessage A descriptive error message.\r\n     */ constructor(errorMessage = \"An abort occurred.\"){\n        const trueProto = new.target.prototype;\n        super(errorMessage);\n        // Workaround issue in Typescript compiler\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\n        this.__proto__ = trueProto;\n    }\n}\n/** Error thrown when the selected transport is unsupported by the browser. */ /** @private */ class UnsupportedTransportError extends Error {\n    /** Constructs a new instance of {@link @microsoft/signalr.UnsupportedTransportError}.\r\n     *\r\n     * @param {string} message A descriptive error message.\r\n     * @param {HttpTransportType} transport The {@link @microsoft/signalr.HttpTransportType} this error occurred on.\r\n     */ constructor(message, transport){\n        const trueProto = new.target.prototype;\n        super(message);\n        this.transport = transport;\n        this.errorType = \"UnsupportedTransportError\";\n        // Workaround issue in Typescript compiler\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\n        this.__proto__ = trueProto;\n    }\n}\n/** Error thrown when the selected transport is disabled by the browser. */ /** @private */ class DisabledTransportError extends Error {\n    /** Constructs a new instance of {@link @microsoft/signalr.DisabledTransportError}.\r\n     *\r\n     * @param {string} message A descriptive error message.\r\n     * @param {HttpTransportType} transport The {@link @microsoft/signalr.HttpTransportType} this error occurred on.\r\n     */ constructor(message, transport){\n        const trueProto = new.target.prototype;\n        super(message);\n        this.transport = transport;\n        this.errorType = \"DisabledTransportError\";\n        // Workaround issue in Typescript compiler\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\n        this.__proto__ = trueProto;\n    }\n}\n/** Error thrown when the selected transport cannot be started. */ /** @private */ class FailedToStartTransportError extends Error {\n    /** Constructs a new instance of {@link @microsoft/signalr.FailedToStartTransportError}.\r\n     *\r\n     * @param {string} message A descriptive error message.\r\n     * @param {HttpTransportType} transport The {@link @microsoft/signalr.HttpTransportType} this error occurred on.\r\n     */ constructor(message, transport){\n        const trueProto = new.target.prototype;\n        super(message);\n        this.transport = transport;\n        this.errorType = \"FailedToStartTransportError\";\n        // Workaround issue in Typescript compiler\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\n        this.__proto__ = trueProto;\n    }\n}\n/** Error thrown when the negotiation with the server failed to complete. */ /** @private */ class FailedToNegotiateWithServerError extends Error {\n    /** Constructs a new instance of {@link @microsoft/signalr.FailedToNegotiateWithServerError}.\r\n     *\r\n     * @param {string} message A descriptive error message.\r\n     */ constructor(message){\n        const trueProto = new.target.prototype;\n        super(message);\n        this.errorType = \"FailedToNegotiateWithServerError\";\n        // Workaround issue in Typescript compiler\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\n        this.__proto__ = trueProto;\n    }\n}\n/** Error thrown when multiple errors have occurred. */ /** @private */ class AggregateErrors extends Error {\n    /** Constructs a new instance of {@link @microsoft/signalr.AggregateErrors}.\r\n     *\r\n     * @param {string} message A descriptive error message.\r\n     * @param {Error[]} innerErrors The collection of errors this error is aggregating.\r\n     */ constructor(message, innerErrors){\n        const trueProto = new.target.prototype;\n        super(message);\n        this.innerErrors = innerErrors;\n        // Workaround issue in Typescript compiler\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\n        this.__proto__ = trueProto;\n    }\n} //# sourceMappingURL=Errors.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0Vycm9ycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLGdFQUFnRTtBQUNoRSx1RUFBdUU7QUFDdkUsNkNBQTZDLEdBQ3RDLE1BQU1BLGtCQUFrQkM7SUFDM0I7Ozs7S0FJQyxHQUNEQyxZQUFZQyxZQUFZLEVBQUVDLFVBQVUsQ0FBRTtRQUNsQyxNQUFNQyxZQUFZLFdBQVdDLFNBQVM7UUFDdEMsS0FBSyxDQUFDLENBQUMsRUFBRUgsYUFBYSxlQUFlLEVBQUVDLFdBQVcsQ0FBQyxDQUFDO1FBQ3BELElBQUksQ0FBQ0EsVUFBVSxHQUFHQTtRQUNsQiwwQ0FBMEM7UUFDMUMsOEVBQThFO1FBQzlFLElBQUksQ0FBQ0csU0FBUyxHQUFHRjtJQUNyQjtBQUNKO0FBQ0EseUNBQXlDLEdBQ2xDLE1BQU1HLHFCQUFxQlA7SUFDOUI7OztLQUdDLEdBQ0RDLFlBQVlDLGVBQWUscUJBQXFCLENBQUU7UUFDOUMsTUFBTUUsWUFBWSxXQUFXQyxTQUFTO1FBQ3RDLEtBQUssQ0FBQ0g7UUFDTiwwQ0FBMEM7UUFDMUMsOEVBQThFO1FBQzlFLElBQUksQ0FBQ0ksU0FBUyxHQUFHRjtJQUNyQjtBQUNKO0FBQ0EsNENBQTRDLEdBQ3JDLE1BQU1JLG1CQUFtQlI7SUFDNUI7OztLQUdDLEdBQ0RDLFlBQVlDLGVBQWUsb0JBQW9CLENBQUU7UUFDN0MsTUFBTUUsWUFBWSxXQUFXQyxTQUFTO1FBQ3RDLEtBQUssQ0FBQ0g7UUFDTiwwQ0FBMEM7UUFDMUMsOEVBQThFO1FBQzlFLElBQUksQ0FBQ0ksU0FBUyxHQUFHRjtJQUNyQjtBQUNKO0FBQ0EsNEVBQTRFLEdBQzVFLGFBQWEsR0FDTixNQUFNSyxrQ0FBa0NUO0lBQzNDOzs7O0tBSUMsR0FDREMsWUFBWVMsT0FBTyxFQUFFQyxTQUFTLENBQUU7UUFDNUIsTUFBTVAsWUFBWSxXQUFXQyxTQUFTO1FBQ3RDLEtBQUssQ0FBQ0s7UUFDTixJQUFJLENBQUNDLFNBQVMsR0FBR0E7UUFDakIsSUFBSSxDQUFDQyxTQUFTLEdBQUc7UUFDakIsMENBQTBDO1FBQzFDLDhFQUE4RTtRQUM5RSxJQUFJLENBQUNOLFNBQVMsR0FBR0Y7SUFDckI7QUFDSjtBQUNBLHlFQUF5RSxHQUN6RSxhQUFhLEdBQ04sTUFBTVMsK0JBQStCYjtJQUN4Qzs7OztLQUlDLEdBQ0RDLFlBQVlTLE9BQU8sRUFBRUMsU0FBUyxDQUFFO1FBQzVCLE1BQU1QLFlBQVksV0FBV0MsU0FBUztRQUN0QyxLQUFLLENBQUNLO1FBQ04sSUFBSSxDQUFDQyxTQUFTLEdBQUdBO1FBQ2pCLElBQUksQ0FBQ0MsU0FBUyxHQUFHO1FBQ2pCLDBDQUEwQztRQUMxQyw4RUFBOEU7UUFDOUUsSUFBSSxDQUFDTixTQUFTLEdBQUdGO0lBQ3JCO0FBQ0o7QUFDQSxnRUFBZ0UsR0FDaEUsYUFBYSxHQUNOLE1BQU1VLG9DQUFvQ2Q7SUFDN0M7Ozs7S0FJQyxHQUNEQyxZQUFZUyxPQUFPLEVBQUVDLFNBQVMsQ0FBRTtRQUM1QixNQUFNUCxZQUFZLFdBQVdDLFNBQVM7UUFDdEMsS0FBSyxDQUFDSztRQUNOLElBQUksQ0FBQ0MsU0FBUyxHQUFHQTtRQUNqQixJQUFJLENBQUNDLFNBQVMsR0FBRztRQUNqQiwwQ0FBMEM7UUFDMUMsOEVBQThFO1FBQzlFLElBQUksQ0FBQ04sU0FBUyxHQUFHRjtJQUNyQjtBQUNKO0FBQ0EsMEVBQTBFLEdBQzFFLGFBQWEsR0FDTixNQUFNVyx5Q0FBeUNmO0lBQ2xEOzs7S0FHQyxHQUNEQyxZQUFZUyxPQUFPLENBQUU7UUFDakIsTUFBTU4sWUFBWSxXQUFXQyxTQUFTO1FBQ3RDLEtBQUssQ0FBQ0s7UUFDTixJQUFJLENBQUNFLFNBQVMsR0FBRztRQUNqQiwwQ0FBMEM7UUFDMUMsOEVBQThFO1FBQzlFLElBQUksQ0FBQ04sU0FBUyxHQUFHRjtJQUNyQjtBQUNKO0FBQ0EscURBQXFELEdBQ3JELGFBQWEsR0FDTixNQUFNWSx3QkFBd0JoQjtJQUNqQzs7OztLQUlDLEdBQ0RDLFlBQVlTLE9BQU8sRUFBRU8sV0FBVyxDQUFFO1FBQzlCLE1BQU1iLFlBQVksV0FBV0MsU0FBUztRQUN0QyxLQUFLLENBQUNLO1FBQ04sSUFBSSxDQUFDTyxXQUFXLEdBQUdBO1FBQ25CLDBDQUEwQztRQUMxQyw4RUFBOEU7UUFDOUUsSUFBSSxDQUFDWCxTQUFTLEdBQUdGO0lBQ3JCO0FBQ0osRUFDQSxrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWItc29ja2V0cy1jaGF0LWNsaWVudC1hcHAvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0Vycm9ycy5qcz9mMzk1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuLyoqIEVycm9yIHRocm93biB3aGVuIGFuIEhUVFAgcmVxdWVzdCBmYWlscy4gKi9cclxuZXhwb3J0IGNsYXNzIEh0dHBFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIC8qKiBDb25zdHJ1Y3RzIGEgbmV3IGluc3RhbmNlIG9mIHtAbGluayBAbWljcm9zb2Z0L3NpZ25hbHIuSHR0cEVycm9yfS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXJyb3JNZXNzYWdlIEEgZGVzY3JpcHRpdmUgZXJyb3IgbWVzc2FnZS5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGF0dXNDb2RlIFRoZSBIVFRQIHN0YXR1cyBjb2RlIHJlcHJlc2VudGVkIGJ5IHRoaXMgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGVycm9yTWVzc2FnZSwgc3RhdHVzQ29kZSkge1xyXG4gICAgICAgIGNvbnN0IHRydWVQcm90byA9IG5ldy50YXJnZXQucHJvdG90eXBlO1xyXG4gICAgICAgIHN1cGVyKGAke2Vycm9yTWVzc2FnZX06IFN0YXR1cyBjb2RlICcke3N0YXR1c0NvZGV9J2ApO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XHJcbiAgICAgICAgLy8gV29ya2Fyb3VuZCBpc3N1ZSBpbiBUeXBlc2NyaXB0IGNvbXBpbGVyXHJcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8xMzk2NSNpc3N1ZWNvbW1lbnQtMjc4NTcwMjAwXHJcbiAgICAgICAgdGhpcy5fX3Byb3RvX18gPSB0cnVlUHJvdG87XHJcbiAgICB9XHJcbn1cclxuLyoqIEVycm9yIHRocm93biB3aGVuIGEgdGltZW91dCBlbGFwc2VzLiAqL1xyXG5leHBvcnQgY2xhc3MgVGltZW91dEVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgLyoqIENvbnN0cnVjdHMgYSBuZXcgaW5zdGFuY2Ugb2Yge0BsaW5rIEBtaWNyb3NvZnQvc2lnbmFsci5UaW1lb3V0RXJyb3J9LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlcnJvck1lc3NhZ2UgQSBkZXNjcmlwdGl2ZSBlcnJvciBtZXNzYWdlLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihlcnJvck1lc3NhZ2UgPSBcIkEgdGltZW91dCBvY2N1cnJlZC5cIikge1xyXG4gICAgICAgIGNvbnN0IHRydWVQcm90byA9IG5ldy50YXJnZXQucHJvdG90eXBlO1xyXG4gICAgICAgIHN1cGVyKGVycm9yTWVzc2FnZSk7XHJcbiAgICAgICAgLy8gV29ya2Fyb3VuZCBpc3N1ZSBpbiBUeXBlc2NyaXB0IGNvbXBpbGVyXHJcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8xMzk2NSNpc3N1ZWNvbW1lbnQtMjc4NTcwMjAwXHJcbiAgICAgICAgdGhpcy5fX3Byb3RvX18gPSB0cnVlUHJvdG87XHJcbiAgICB9XHJcbn1cclxuLyoqIEVycm9yIHRocm93biB3aGVuIGFuIGFjdGlvbiBpcyBhYm9ydGVkLiAqL1xyXG5leHBvcnQgY2xhc3MgQWJvcnRFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIC8qKiBDb25zdHJ1Y3RzIGEgbmV3IGluc3RhbmNlIG9mIHtAbGluayBBYm9ydEVycm9yfS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXJyb3JNZXNzYWdlIEEgZGVzY3JpcHRpdmUgZXJyb3IgbWVzc2FnZS5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZXJyb3JNZXNzYWdlID0gXCJBbiBhYm9ydCBvY2N1cnJlZC5cIikge1xyXG4gICAgICAgIGNvbnN0IHRydWVQcm90byA9IG5ldy50YXJnZXQucHJvdG90eXBlO1xyXG4gICAgICAgIHN1cGVyKGVycm9yTWVzc2FnZSk7XHJcbiAgICAgICAgLy8gV29ya2Fyb3VuZCBpc3N1ZSBpbiBUeXBlc2NyaXB0IGNvbXBpbGVyXHJcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8xMzk2NSNpc3N1ZWNvbW1lbnQtMjc4NTcwMjAwXHJcbiAgICAgICAgdGhpcy5fX3Byb3RvX18gPSB0cnVlUHJvdG87XHJcbiAgICB9XHJcbn1cclxuLyoqIEVycm9yIHRocm93biB3aGVuIHRoZSBzZWxlY3RlZCB0cmFuc3BvcnQgaXMgdW5zdXBwb3J0ZWQgYnkgdGhlIGJyb3dzZXIuICovXHJcbi8qKiBAcHJpdmF0ZSAqL1xyXG5leHBvcnQgY2xhc3MgVW5zdXBwb3J0ZWRUcmFuc3BvcnRFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIC8qKiBDb25zdHJ1Y3RzIGEgbmV3IGluc3RhbmNlIG9mIHtAbGluayBAbWljcm9zb2Z0L3NpZ25hbHIuVW5zdXBwb3J0ZWRUcmFuc3BvcnRFcnJvcn0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgQSBkZXNjcmlwdGl2ZSBlcnJvciBtZXNzYWdlLlxyXG4gICAgICogQHBhcmFtIHtIdHRwVHJhbnNwb3J0VHlwZX0gdHJhbnNwb3J0IFRoZSB7QGxpbmsgQG1pY3Jvc29mdC9zaWduYWxyLkh0dHBUcmFuc3BvcnRUeXBlfSB0aGlzIGVycm9yIG9jY3VycmVkIG9uLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCB0cmFuc3BvcnQpIHtcclxuICAgICAgICBjb25zdCB0cnVlUHJvdG8gPSBuZXcudGFyZ2V0LnByb3RvdHlwZTtcclxuICAgICAgICBzdXBlcihtZXNzYWdlKTtcclxuICAgICAgICB0aGlzLnRyYW5zcG9ydCA9IHRyYW5zcG9ydDtcclxuICAgICAgICB0aGlzLmVycm9yVHlwZSA9ICdVbnN1cHBvcnRlZFRyYW5zcG9ydEVycm9yJztcclxuICAgICAgICAvLyBXb3JrYXJvdW5kIGlzc3VlIGluIFR5cGVzY3JpcHQgY29tcGlsZXJcclxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzEzOTY1I2lzc3VlY29tbWVudC0yNzg1NzAyMDBcclxuICAgICAgICB0aGlzLl9fcHJvdG9fXyA9IHRydWVQcm90bztcclxuICAgIH1cclxufVxyXG4vKiogRXJyb3IgdGhyb3duIHdoZW4gdGhlIHNlbGVjdGVkIHRyYW5zcG9ydCBpcyBkaXNhYmxlZCBieSB0aGUgYnJvd3Nlci4gKi9cclxuLyoqIEBwcml2YXRlICovXHJcbmV4cG9ydCBjbGFzcyBEaXNhYmxlZFRyYW5zcG9ydEVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgLyoqIENvbnN0cnVjdHMgYSBuZXcgaW5zdGFuY2Ugb2Yge0BsaW5rIEBtaWNyb3NvZnQvc2lnbmFsci5EaXNhYmxlZFRyYW5zcG9ydEVycm9yfS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBBIGRlc2NyaXB0aXZlIGVycm9yIG1lc3NhZ2UuXHJcbiAgICAgKiBAcGFyYW0ge0h0dHBUcmFuc3BvcnRUeXBlfSB0cmFuc3BvcnQgVGhlIHtAbGluayBAbWljcm9zb2Z0L3NpZ25hbHIuSHR0cFRyYW5zcG9ydFR5cGV9IHRoaXMgZXJyb3Igb2NjdXJyZWQgb24uXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHRyYW5zcG9ydCkge1xyXG4gICAgICAgIGNvbnN0IHRydWVQcm90byA9IG5ldy50YXJnZXQucHJvdG90eXBlO1xyXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xyXG4gICAgICAgIHRoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xyXG4gICAgICAgIHRoaXMuZXJyb3JUeXBlID0gJ0Rpc2FibGVkVHJhbnNwb3J0RXJyb3InO1xyXG4gICAgICAgIC8vIFdvcmthcm91bmQgaXNzdWUgaW4gVHlwZXNjcmlwdCBjb21waWxlclxyXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMTM5NjUjaXNzdWVjb21tZW50LTI3ODU3MDIwMFxyXG4gICAgICAgIHRoaXMuX19wcm90b19fID0gdHJ1ZVByb3RvO1xyXG4gICAgfVxyXG59XHJcbi8qKiBFcnJvciB0aHJvd24gd2hlbiB0aGUgc2VsZWN0ZWQgdHJhbnNwb3J0IGNhbm5vdCBiZSBzdGFydGVkLiAqL1xyXG4vKiogQHByaXZhdGUgKi9cclxuZXhwb3J0IGNsYXNzIEZhaWxlZFRvU3RhcnRUcmFuc3BvcnRFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIC8qKiBDb25zdHJ1Y3RzIGEgbmV3IGluc3RhbmNlIG9mIHtAbGluayBAbWljcm9zb2Z0L3NpZ25hbHIuRmFpbGVkVG9TdGFydFRyYW5zcG9ydEVycm9yfS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBBIGRlc2NyaXB0aXZlIGVycm9yIG1lc3NhZ2UuXHJcbiAgICAgKiBAcGFyYW0ge0h0dHBUcmFuc3BvcnRUeXBlfSB0cmFuc3BvcnQgVGhlIHtAbGluayBAbWljcm9zb2Z0L3NpZ25hbHIuSHR0cFRyYW5zcG9ydFR5cGV9IHRoaXMgZXJyb3Igb2NjdXJyZWQgb24uXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHRyYW5zcG9ydCkge1xyXG4gICAgICAgIGNvbnN0IHRydWVQcm90byA9IG5ldy50YXJnZXQucHJvdG90eXBlO1xyXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xyXG4gICAgICAgIHRoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xyXG4gICAgICAgIHRoaXMuZXJyb3JUeXBlID0gJ0ZhaWxlZFRvU3RhcnRUcmFuc3BvcnRFcnJvcic7XHJcbiAgICAgICAgLy8gV29ya2Fyb3VuZCBpc3N1ZSBpbiBUeXBlc2NyaXB0IGNvbXBpbGVyXHJcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8xMzk2NSNpc3N1ZWNvbW1lbnQtMjc4NTcwMjAwXHJcbiAgICAgICAgdGhpcy5fX3Byb3RvX18gPSB0cnVlUHJvdG87XHJcbiAgICB9XHJcbn1cclxuLyoqIEVycm9yIHRocm93biB3aGVuIHRoZSBuZWdvdGlhdGlvbiB3aXRoIHRoZSBzZXJ2ZXIgZmFpbGVkIHRvIGNvbXBsZXRlLiAqL1xyXG4vKiogQHByaXZhdGUgKi9cclxuZXhwb3J0IGNsYXNzIEZhaWxlZFRvTmVnb3RpYXRlV2l0aFNlcnZlckVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgLyoqIENvbnN0cnVjdHMgYSBuZXcgaW5zdGFuY2Ugb2Yge0BsaW5rIEBtaWNyb3NvZnQvc2lnbmFsci5GYWlsZWRUb05lZ290aWF0ZVdpdGhTZXJ2ZXJFcnJvcn0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgQSBkZXNjcmlwdGl2ZSBlcnJvciBtZXNzYWdlLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XHJcbiAgICAgICAgY29uc3QgdHJ1ZVByb3RvID0gbmV3LnRhcmdldC5wcm90b3R5cGU7XHJcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XHJcbiAgICAgICAgdGhpcy5lcnJvclR5cGUgPSAnRmFpbGVkVG9OZWdvdGlhdGVXaXRoU2VydmVyRXJyb3InO1xyXG4gICAgICAgIC8vIFdvcmthcm91bmQgaXNzdWUgaW4gVHlwZXNjcmlwdCBjb21waWxlclxyXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMTM5NjUjaXNzdWVjb21tZW50LTI3ODU3MDIwMFxyXG4gICAgICAgIHRoaXMuX19wcm90b19fID0gdHJ1ZVByb3RvO1xyXG4gICAgfVxyXG59XHJcbi8qKiBFcnJvciB0aHJvd24gd2hlbiBtdWx0aXBsZSBlcnJvcnMgaGF2ZSBvY2N1cnJlZC4gKi9cclxuLyoqIEBwcml2YXRlICovXHJcbmV4cG9ydCBjbGFzcyBBZ2dyZWdhdGVFcnJvcnMgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICAvKiogQ29uc3RydWN0cyBhIG5ldyBpbnN0YW5jZSBvZiB7QGxpbmsgQG1pY3Jvc29mdC9zaWduYWxyLkFnZ3JlZ2F0ZUVycm9yc30uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgQSBkZXNjcmlwdGl2ZSBlcnJvciBtZXNzYWdlLlxyXG4gICAgICogQHBhcmFtIHtFcnJvcltdfSBpbm5lckVycm9ycyBUaGUgY29sbGVjdGlvbiBvZiBlcnJvcnMgdGhpcyBlcnJvciBpcyBhZ2dyZWdhdGluZy5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgaW5uZXJFcnJvcnMpIHtcclxuICAgICAgICBjb25zdCB0cnVlUHJvdG8gPSBuZXcudGFyZ2V0LnByb3RvdHlwZTtcclxuICAgICAgICBzdXBlcihtZXNzYWdlKTtcclxuICAgICAgICB0aGlzLmlubmVyRXJyb3JzID0gaW5uZXJFcnJvcnM7XHJcbiAgICAgICAgLy8gV29ya2Fyb3VuZCBpc3N1ZSBpbiBUeXBlc2NyaXB0IGNvbXBpbGVyXHJcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8xMzk2NSNpc3N1ZWNvbW1lbnQtMjc4NTcwMjAwXHJcbiAgICAgICAgdGhpcy5fX3Byb3RvX18gPSB0cnVlUHJvdG87XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXJyb3JzLmpzLm1hcCJdLCJuYW1lcyI6WyJIdHRwRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwiZXJyb3JNZXNzYWdlIiwic3RhdHVzQ29kZSIsInRydWVQcm90byIsInByb3RvdHlwZSIsIl9fcHJvdG9fXyIsIlRpbWVvdXRFcnJvciIsIkFib3J0RXJyb3IiLCJVbnN1cHBvcnRlZFRyYW5zcG9ydEVycm9yIiwibWVzc2FnZSIsInRyYW5zcG9ydCIsImVycm9yVHlwZSIsIkRpc2FibGVkVHJhbnNwb3J0RXJyb3IiLCJGYWlsZWRUb1N0YXJ0VHJhbnNwb3J0RXJyb3IiLCJGYWlsZWRUb05lZ290aWF0ZVdpdGhTZXJ2ZXJFcnJvciIsIkFnZ3JlZ2F0ZUVycm9ycyIsImlubmVyRXJyb3JzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/Errors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/FetchHttpClient.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/FetchHttpClient.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FetchHttpClient: () => (/* binding */ FetchHttpClient)\n/* harmony export */ });\n/* harmony import */ var _Errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Errors */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Errors.js\");\n/* harmony import */ var _HttpClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./HttpClient */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/HttpClient.js\");\n/* harmony import */ var _ILogger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ILogger */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/ILogger.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Utils.js\");\n/* harmony import */ var _DynamicImports__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DynamicImports */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/DynamicImports.js\");\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n\n\n\n\n\nclass FetchHttpClient extends _HttpClient__WEBPACK_IMPORTED_MODULE_0__.HttpClient {\n    constructor(logger){\n        super();\n        this._logger = logger;\n        // This is how you do \"reference\" arguments\n        const fetchObj = {\n            _fetchType: undefined,\n            _jar: undefined\n        };\n        if ((0,_DynamicImports__WEBPACK_IMPORTED_MODULE_1__.configureFetch)(fetchObj)) {\n            this._fetchType = fetchObj._fetchType;\n            this._jar = fetchObj._jar;\n        } else {\n            this._fetchType = fetch.bind((0,_Utils__WEBPACK_IMPORTED_MODULE_2__.getGlobalThis)());\n        }\n        this._abortControllerType = AbortController;\n        const abortObj = {\n            _abortControllerType: this._abortControllerType\n        };\n        if ((0,_DynamicImports__WEBPACK_IMPORTED_MODULE_1__.configureAbortController)(abortObj)) {\n            this._abortControllerType = abortObj._abortControllerType;\n        }\n    }\n    /** @inheritDoc */ async send(request) {\n        // Check that abort was not signaled before calling send\n        if (request.abortSignal && request.abortSignal.aborted) {\n            throw new _Errors__WEBPACK_IMPORTED_MODULE_3__.AbortError();\n        }\n        if (!request.method) {\n            throw new Error(\"No method defined.\");\n        }\n        if (!request.url) {\n            throw new Error(\"No url defined.\");\n        }\n        const abortController = new this._abortControllerType();\n        let error;\n        // Hook our abortSignal into the abort controller\n        if (request.abortSignal) {\n            request.abortSignal.onabort = ()=>{\n                abortController.abort();\n                error = new _Errors__WEBPACK_IMPORTED_MODULE_3__.AbortError();\n            };\n        }\n        // If a timeout has been passed in, setup a timeout to call abort\n        // Type needs to be any to fit window.setTimeout and NodeJS.setTimeout\n        let timeoutId = null;\n        if (request.timeout) {\n            const msTimeout = request.timeout;\n            timeoutId = setTimeout(()=>{\n                abortController.abort();\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_4__.LogLevel.Warning, `Timeout from HTTP request.`);\n                error = new _Errors__WEBPACK_IMPORTED_MODULE_3__.TimeoutError();\n            }, msTimeout);\n        }\n        if (request.content === \"\") {\n            request.content = undefined;\n        }\n        if (request.content) {\n            // Explicitly setting the Content-Type header for React Native on Android platform.\n            request.headers = request.headers || {};\n            if ((0,_Utils__WEBPACK_IMPORTED_MODULE_2__.isArrayBuffer)(request.content)) {\n                request.headers[\"Content-Type\"] = \"application/octet-stream\";\n            } else {\n                request.headers[\"Content-Type\"] = \"text/plain;charset=UTF-8\";\n            }\n        }\n        let response;\n        try {\n            response = await this._fetchType(request.url, {\n                body: request.content,\n                cache: \"no-cache\",\n                credentials: request.withCredentials === true ? \"include\" : \"same-origin\",\n                headers: {\n                    \"X-Requested-With\": \"XMLHttpRequest\",\n                    ...request.headers\n                },\n                method: request.method,\n                mode: \"cors\",\n                redirect: \"follow\",\n                signal: abortController.signal\n            });\n        } catch (e) {\n            if (error) {\n                throw error;\n            }\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_4__.LogLevel.Warning, `Error from HTTP request. ${e}.`);\n            throw e;\n        } finally{\n            if (timeoutId) {\n                clearTimeout(timeoutId);\n            }\n            if (request.abortSignal) {\n                request.abortSignal.onabort = null;\n            }\n        }\n        if (!response.ok) {\n            const errorMessage = await deserializeContent(response, \"text\");\n            throw new _Errors__WEBPACK_IMPORTED_MODULE_3__.HttpError(errorMessage || response.statusText, response.status);\n        }\n        const content = deserializeContent(response, request.responseType);\n        const payload = await content;\n        return new _HttpClient__WEBPACK_IMPORTED_MODULE_0__.HttpResponse(response.status, response.statusText, payload);\n    }\n    getCookieString(url) {\n        let cookies = \"\";\n        if (_Utils__WEBPACK_IMPORTED_MODULE_2__.Platform.isNode && this._jar) {\n            // @ts-ignore: unused variable\n            this._jar.getCookies(url, (e, c)=>cookies = c.join(\"; \"));\n        }\n        return cookies;\n    }\n}\nfunction deserializeContent(response, responseType) {\n    let content;\n    switch(responseType){\n        case \"arraybuffer\":\n            content = response.arrayBuffer();\n            break;\n        case \"text\":\n            content = response.text();\n            break;\n        case \"blob\":\n        case \"document\":\n        case \"json\":\n            throw new Error(`${responseType} is not supported.`);\n        default:\n            content = response.text();\n            break;\n    }\n    return content;\n} //# sourceMappingURL=FetchHttpClient.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0ZldGNoSHR0cENsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxnRUFBZ0U7QUFDaEUsdUVBQXVFO0FBQ1I7QUFDUDtBQUNuQjtBQUM0QjtBQUNXO0FBQ3JFLE1BQU1XLHdCQUF3QlIsbURBQVVBO0lBQzNDUyxZQUFZQyxNQUFNLENBQUU7UUFDaEIsS0FBSztRQUNMLElBQUksQ0FBQ0MsT0FBTyxHQUFHRDtRQUNmLDJDQUEyQztRQUMzQyxNQUFNRSxXQUFXO1lBQUVDLFlBQVlDO1lBQVdDLE1BQU1EO1FBQVU7UUFDMUQsSUFBSVAsK0RBQWNBLENBQUNLLFdBQVc7WUFDMUIsSUFBSSxDQUFDQyxVQUFVLEdBQUdELFNBQVNDLFVBQVU7WUFDckMsSUFBSSxDQUFDRSxJQUFJLEdBQUdILFNBQVNHLElBQUk7UUFDN0IsT0FDSztZQUNELElBQUksQ0FBQ0YsVUFBVSxHQUFHRyxNQUFNQyxJQUFJLENBQUNiLHFEQUFhQTtRQUM5QztRQUNBLElBQUksQ0FBQ2Msb0JBQW9CLEdBQUdDO1FBQzVCLE1BQU1DLFdBQVc7WUFBRUYsc0JBQXNCLElBQUksQ0FBQ0Esb0JBQW9CO1FBQUM7UUFDbkUsSUFBSVoseUVBQXdCQSxDQUFDYyxXQUFXO1lBQ3BDLElBQUksQ0FBQ0Ysb0JBQW9CLEdBQUdFLFNBQVNGLG9CQUFvQjtRQUM3RDtJQUNKO0lBQ0EsZ0JBQWdCLEdBQ2hCLE1BQU1HLEtBQUtDLE9BQU8sRUFBRTtRQUNoQix3REFBd0Q7UUFDeEQsSUFBSUEsUUFBUUMsV0FBVyxJQUFJRCxRQUFRQyxXQUFXLENBQUNDLE9BQU8sRUFBRTtZQUNwRCxNQUFNLElBQUkzQiwrQ0FBVUE7UUFDeEI7UUFDQSxJQUFJLENBQUN5QixRQUFRRyxNQUFNLEVBQUU7WUFDakIsTUFBTSxJQUFJQyxNQUFNO1FBQ3BCO1FBQ0EsSUFBSSxDQUFDSixRQUFRSyxHQUFHLEVBQUU7WUFDZCxNQUFNLElBQUlE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SUFBTUgsVUFBVUcsRUFBRUMsSUFBSSxDQUFDO1FBQ3pEO1FBQ0EsT0FBT0o7SUFDWDtBQUNKO0FBQ0EsU0FBU04sbUJBQW1CWixRQUFRLEVBQUVlLFlBQVk7SUFDOUMsSUFBSWpCO0lBQ0osT0FBUWlCO1FBQ0osS0FBSztZQUNEakIsVUFBVUUsU0FBU3VCLFdBQVc7WUFDOUI7UUFDSixLQUFLO1lBQ0R6QixVQUFVRSxTQUFTd0IsSUFBSTtZQUN2QjtRQUNKLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztZQUNELE1BQU0sSUFBSXRDLE1BQU0sQ0FBQyxFQUFFNkIsYUFBYSxrQkFBa0IsQ0FBQztRQUN2RDtZQUNJakIsVUFBVUUsU0FBU3dCLElBQUk7WUFDdkI7SUFDUjtJQUNBLE9BQU8xQjtBQUNYLEVBQ0EsMkNBQTJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLXNvY2tldHMtY2hhdC1jbGllbnQtYXBwLy4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvc2lnbmFsci9kaXN0L2VzbS9GZXRjaEh0dHBDbGllbnQuanM/ZTdhNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcbmltcG9ydCB7IEFib3J0RXJyb3IsIEh0dHBFcnJvciwgVGltZW91dEVycm9yIH0gZnJvbSBcIi4vRXJyb3JzXCI7XHJcbmltcG9ydCB7IEh0dHBDbGllbnQsIEh0dHBSZXNwb25zZSB9IGZyb20gXCIuL0h0dHBDbGllbnRcIjtcclxuaW1wb3J0IHsgTG9nTGV2ZWwgfSBmcm9tIFwiLi9JTG9nZ2VyXCI7XHJcbmltcG9ydCB7IFBsYXRmb3JtLCBnZXRHbG9iYWxUaGlzLCBpc0FycmF5QnVmZmVyIH0gZnJvbSBcIi4vVXRpbHNcIjtcclxuaW1wb3J0IHsgY29uZmlndXJlQWJvcnRDb250cm9sbGVyLCBjb25maWd1cmVGZXRjaCB9IGZyb20gXCIuL0R5bmFtaWNJbXBvcnRzXCI7XHJcbmV4cG9ydCBjbGFzcyBGZXRjaEh0dHBDbGllbnQgZXh0ZW5kcyBIdHRwQ2xpZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKGxvZ2dlcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5fbG9nZ2VyID0gbG9nZ2VyO1xyXG4gICAgICAgIC8vIFRoaXMgaXMgaG93IHlvdSBkbyBcInJlZmVyZW5jZVwiIGFyZ3VtZW50c1xyXG4gICAgICAgIGNvbnN0IGZldGNoT2JqID0geyBfZmV0Y2hUeXBlOiB1bmRlZmluZWQsIF9qYXI6IHVuZGVmaW5lZCB9O1xyXG4gICAgICAgIGlmIChjb25maWd1cmVGZXRjaChmZXRjaE9iaikpIHtcclxuICAgICAgICAgICAgdGhpcy5fZmV0Y2hUeXBlID0gZmV0Y2hPYmouX2ZldGNoVHlwZTtcclxuICAgICAgICAgICAgdGhpcy5famFyID0gZmV0Y2hPYmouX2phcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZldGNoVHlwZSA9IGZldGNoLmJpbmQoZ2V0R2xvYmFsVGhpcygpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fYWJvcnRDb250cm9sbGVyVHlwZSA9IEFib3J0Q29udHJvbGxlcjtcclxuICAgICAgICBjb25zdCBhYm9ydE9iaiA9IHsgX2Fib3J0Q29udHJvbGxlclR5cGU6IHRoaXMuX2Fib3J0Q29udHJvbGxlclR5cGUgfTtcclxuICAgICAgICBpZiAoY29uZmlndXJlQWJvcnRDb250cm9sbGVyKGFib3J0T2JqKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9hYm9ydENvbnRyb2xsZXJUeXBlID0gYWJvcnRPYmouX2Fib3J0Q29udHJvbGxlclR5cGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqIEBpbmhlcml0RG9jICovXHJcbiAgICBhc3luYyBzZW5kKHJlcXVlc3QpIHtcclxuICAgICAgICAvLyBDaGVjayB0aGF0IGFib3J0IHdhcyBub3Qgc2lnbmFsZWQgYmVmb3JlIGNhbGxpbmcgc2VuZFxyXG4gICAgICAgIGlmIChyZXF1ZXN0LmFib3J0U2lnbmFsICYmIHJlcXVlc3QuYWJvcnRTaWduYWwuYWJvcnRlZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgQWJvcnRFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXJlcXVlc3QubWV0aG9kKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIG1ldGhvZCBkZWZpbmVkLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFyZXF1ZXN0LnVybCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB1cmwgZGVmaW5lZC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyB0aGlzLl9hYm9ydENvbnRyb2xsZXJUeXBlKCk7XHJcbiAgICAgICAgbGV0IGVycm9yO1xyXG4gICAgICAgIC8vIEhvb2sgb3VyIGFib3J0U2lnbmFsIGludG8gdGhlIGFib3J0IGNvbnRyb2xsZXJcclxuICAgICAgICBpZiAocmVxdWVzdC5hYm9ydFNpZ25hbCkge1xyXG4gICAgICAgICAgICByZXF1ZXN0LmFib3J0U2lnbmFsLm9uYWJvcnQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcclxuICAgICAgICAgICAgICAgIGVycm9yID0gbmV3IEFib3J0RXJyb3IoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSWYgYSB0aW1lb3V0IGhhcyBiZWVuIHBhc3NlZCBpbiwgc2V0dXAgYSB0aW1lb3V0IHRvIGNhbGwgYWJvcnRcclxuICAgICAgICAvLyBUeXBlIG5lZWRzIHRvIGJlIGFueSB0byBmaXQgd2luZG93LnNldFRpbWVvdXQgYW5kIE5vZGVKUy5zZXRUaW1lb3V0XHJcbiAgICAgICAgbGV0IHRpbWVvdXRJZCA9IG51bGw7XHJcbiAgICAgICAgaWYgKHJlcXVlc3QudGltZW91dCkge1xyXG4gICAgICAgICAgICBjb25zdCBtc1RpbWVvdXQgPSByZXF1ZXN0LnRpbWVvdXQ7XHJcbiAgICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYWJvcnRDb250cm9sbGVyLmFib3J0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLldhcm5pbmcsIGBUaW1lb3V0IGZyb20gSFRUUCByZXF1ZXN0LmApO1xyXG4gICAgICAgICAgICAgICAgZXJyb3IgPSBuZXcgVGltZW91dEVycm9yKCk7XHJcbiAgICAgICAgICAgIH0sIG1zVGltZW91dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZXF1ZXN0LmNvbnRlbnQgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgcmVxdWVzdC5jb250ZW50ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVxdWVzdC5jb250ZW50KSB7XHJcbiAgICAgICAgICAgIC8vIEV4cGxpY2l0bHkgc2V0dGluZyB0aGUgQ29udGVudC1UeXBlIGhlYWRlciBmb3IgUmVhY3QgTmF0aXZlIG9uIEFuZHJvaWQgcGxhdGZvcm0uXHJcbiAgICAgICAgICAgIHJlcXVlc3QuaGVhZGVycyA9IHJlcXVlc3QuaGVhZGVycyB8fCB7fTtcclxuICAgICAgICAgICAgaWYgKGlzQXJyYXlCdWZmZXIocmVxdWVzdC5jb250ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgcmVxdWVzdC5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdID0gXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3QuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXSA9IFwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHJlc3BvbnNlO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5fZmV0Y2hUeXBlKHJlcXVlc3QudXJsLCB7XHJcbiAgICAgICAgICAgICAgICBib2R5OiByZXF1ZXN0LmNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICBjYWNoZTogXCJuby1jYWNoZVwiLFxyXG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID09PSB0cnVlID8gXCJpbmNsdWRlXCIgOiBcInNhbWUtb3JpZ2luXCIsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJYLVJlcXVlc3RlZC1XaXRoXCI6IFwiWE1MSHR0cFJlcXVlc3RcIixcclxuICAgICAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0LmhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcclxuICAgICAgICAgICAgICAgIG1vZGU6IFwiY29yc1wiLFxyXG4gICAgICAgICAgICAgICAgcmVkaXJlY3Q6IFwiZm9sbG93XCIsXHJcbiAgICAgICAgICAgICAgICBzaWduYWw6IGFib3J0Q29udHJvbGxlci5zaWduYWwsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuV2FybmluZywgYEVycm9yIGZyb20gSFRUUCByZXF1ZXN0LiAke2V9LmApO1xyXG4gICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgaWYgKHRpbWVvdXRJZCkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHJlcXVlc3QuYWJvcnRTaWduYWwpIHtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3QuYWJvcnRTaWduYWwub25hYm9ydCA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBhd2FpdCBkZXNlcmlhbGl6ZUNvbnRlbnQocmVzcG9uc2UsIFwidGV4dFwiKTtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcihlcnJvck1lc3NhZ2UgfHwgcmVzcG9uc2Uuc3RhdHVzVGV4dCwgcmVzcG9uc2Uuc3RhdHVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IGRlc2VyaWFsaXplQ29udGVudChyZXNwb25zZSwgcmVxdWVzdC5yZXNwb25zZVR5cGUpO1xyXG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCBjb250ZW50O1xyXG4gICAgICAgIHJldHVybiBuZXcgSHR0cFJlc3BvbnNlKHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2Uuc3RhdHVzVGV4dCwgcGF5bG9hZCk7XHJcbiAgICB9XHJcbiAgICBnZXRDb29raWVTdHJpbmcodXJsKSB7XHJcbiAgICAgICAgbGV0IGNvb2tpZXMgPSBcIlwiO1xyXG4gICAgICAgIGlmIChQbGF0Zm9ybS5pc05vZGUgJiYgdGhpcy5famFyKSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IHVudXNlZCB2YXJpYWJsZVxyXG4gICAgICAgICAgICB0aGlzLl9qYXIuZ2V0Q29va2llcyh1cmwsIChlLCBjKSA9PiBjb29raWVzID0gYy5qb2luKFwiOyBcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29va2llcztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZUNvbnRlbnQocmVzcG9uc2UsIHJlc3BvbnNlVHlwZSkge1xyXG4gICAgbGV0IGNvbnRlbnQ7XHJcbiAgICBzd2l0Y2ggKHJlc3BvbnNlVHlwZSkge1xyXG4gICAgICAgIGNhc2UgXCJhcnJheWJ1ZmZlclwiOlxyXG4gICAgICAgICAgICBjb250ZW50ID0gcmVzcG9uc2UuYXJyYXlCdWZmZXIoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcInRleHRcIjpcclxuICAgICAgICAgICAgY29udGVudCA9IHJlc3BvbnNlLnRleHQoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcImJsb2JcIjpcclxuICAgICAgICBjYXNlIFwiZG9jdW1lbnRcIjpcclxuICAgICAgICBjYXNlIFwianNvblwiOlxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7cmVzcG9uc2VUeXBlfSBpcyBub3Qgc3VwcG9ydGVkLmApO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGNvbnRlbnQgPSByZXNwb25zZS50ZXh0KCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbnRlbnQ7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmV0Y2hIdHRwQ2xpZW50LmpzLm1hcCJdLCJuYW1lcyI6WyJBYm9ydEVycm9yIiwiSHR0cEVycm9yIiwiVGltZW91dEVycm9yIiwiSHR0cENsaWVudCIsIkh0dHBSZXNwb25zZSIsIkxvZ0xldmVsIiwiUGxhdGZvcm0iLCJnZXRHbG9iYWxUaGlzIiwiaXNBcnJheUJ1ZmZlciIsImNvbmZpZ3VyZUFib3J0Q29udHJvbGxlciIsImNvbmZpZ3VyZUZldGNoIiwiRmV0Y2hIdHRwQ2xpZW50IiwiY29uc3RydWN0b3IiLCJsb2dnZXIiLCJfbG9nZ2VyIiwiZmV0Y2hPYmoiLCJfZmV0Y2hUeXBlIiwidW5kZWZpbmVkIiwiX2phciIsImZldGNoIiwiYmluZCIsIl9hYm9ydENvbnRyb2xsZXJUeXBlIiwiQWJvcnRDb250cm9sbGVyIiwiYWJvcnRPYmoiLCJzZW5kIiwicmVxdWVzdCIsImFib3J0U2lnbmFsIiwiYWJvcnRlZCIsIm1ldGhvZCIsIkVycm9yIiwidXJsIiwiYWJvcnRDb250cm9sbGVyIiwiZXJyb3IiLCJvbmFib3J0IiwiYWJvcnQiLCJ0aW1lb3V0SWQiLCJ0aW1lb3V0IiwibXNUaW1lb3V0Iiwic2V0VGltZW91dCIsImxvZyIsIldhcm5pbmciLCJjb250ZW50IiwiaGVhZGVycyIsInJlc3BvbnNlIiwiYm9keSIsImNhY2hlIiwiY3JlZGVudGlhbHMiLCJ3aXRoQ3JlZGVudGlhbHMiLCJtb2RlIiwicmVkaXJlY3QiLCJzaWduYWwiLCJlIiwiY2xlYXJUaW1lb3V0Iiwib2siLCJlcnJvck1lc3NhZ2UiLCJkZXNlcmlhbGl6ZUNvbnRlbnQiLCJzdGF0dXNUZXh0Iiwic3RhdHVzIiwicmVzcG9uc2VUeXBlIiwicGF5bG9hZCIsImdldENvb2tpZVN0cmluZyIsImNvb2tpZXMiLCJpc05vZGUiLCJnZXRDb29raWVzIiwiYyIsImpvaW4iLCJhcnJheUJ1ZmZlciIsInRleHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/FetchHttpClient.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/HandshakeProtocol.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/HandshakeProtocol.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HandshakeProtocol: () => (/* binding */ HandshakeProtocol)\n/* harmony export */ });\n/* harmony import */ var _TextMessageFormat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextMessageFormat */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/TextMessageFormat.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Utils.js\");\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n\n\n/** @private */ class HandshakeProtocol {\n    // Handshake request is always JSON\n    writeHandshakeRequest(handshakeRequest) {\n        return _TextMessageFormat__WEBPACK_IMPORTED_MODULE_0__.TextMessageFormat.write(JSON.stringify(handshakeRequest));\n    }\n    parseHandshakeResponse(data) {\n        let messageData;\n        let remainingData;\n        if ((0,_Utils__WEBPACK_IMPORTED_MODULE_1__.isArrayBuffer)(data)) {\n            // Format is binary but still need to read JSON text from handshake response\n            const binaryData = new Uint8Array(data);\n            const separatorIndex = binaryData.indexOf(_TextMessageFormat__WEBPACK_IMPORTED_MODULE_0__.TextMessageFormat.RecordSeparatorCode);\n            if (separatorIndex === -1) {\n                throw new Error(\"Message is incomplete.\");\n            }\n            // content before separator is handshake response\n            // optional content after is additional messages\n            const responseLength = separatorIndex + 1;\n            messageData = String.fromCharCode.apply(null, Array.prototype.slice.call(binaryData.slice(0, responseLength)));\n            remainingData = binaryData.byteLength > responseLength ? binaryData.slice(responseLength).buffer : null;\n        } else {\n            const textData = data;\n            const separatorIndex = textData.indexOf(_TextMessageFormat__WEBPACK_IMPORTED_MODULE_0__.TextMessageFormat.RecordSeparator);\n            if (separatorIndex === -1) {\n                throw new Error(\"Message is incomplete.\");\n            }\n            // content before separator is handshake response\n            // optional content after is additional messages\n            const responseLength = separatorIndex + 1;\n            messageData = textData.substring(0, responseLength);\n            remainingData = textData.length > responseLength ? textData.substring(responseLength) : null;\n        }\n        // At this point we should have just the single handshake message\n        const messages = _TextMessageFormat__WEBPACK_IMPORTED_MODULE_0__.TextMessageFormat.parse(messageData);\n        const response = JSON.parse(messages[0]);\n        if (response.type) {\n            throw new Error(\"Expected a handshake response from the server.\");\n        }\n        const responseMessage = response;\n        // multiple messages could have arrived with handshake\n        // return additional data to be parsed as usual, or null if all parsed\n        return [\n            remainingData,\n            responseMessage\n        ];\n    }\n} //# sourceMappingURL=HandshakeProtocol.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0hhbmRzaGFrZVByb3RvY29sLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLGdFQUFnRTtBQUNoRSx1RUFBdUU7QUFDZjtBQUNoQjtBQUN4QyxhQUFhLEdBQ04sTUFBTUU7SUFDVCxtQ0FBbUM7SUFDbkNDLHNCQUFzQkMsZ0JBQWdCLEVBQUU7UUFDcEMsT0FBT0osaUVBQWlCQSxDQUFDSyxLQUFLLENBQUNDLEtBQUtDLFNBQVMsQ0FBQ0g7SUFDbEQ7SUFDQUksdUJBQXVCQyxJQUFJLEVBQUU7UUFDekIsSUFBSUM7UUFDSixJQUFJQztRQUNKLElBQUlWLHFEQUFhQSxDQUFDUSxPQUFPO1lBQ3JCLDRFQUE0RTtZQUM1RSxNQUFNRyxhQUFhLElBQUlDLFdBQVdKO1lBQ2xDLE1BQU1LLGlCQUFpQkYsV0FBV0csT0FBTyxDQUFDZixpRUFBaUJBLENBQUNnQixtQkFBbUI7WUFDL0UsSUFBSUYsbUJBQW1CLENBQUMsR0FBRztnQkFDdkIsTUFBTSxJQUFJRyxNQUFNO1lBQ3BCO1lBQ0EsaURBQWlEO1lBQ2pELGdEQUFnRDtZQUNoRCxNQUFNQyxpQkFBaUJKLGlCQUFpQjtZQUN4Q0osY0FBY1MsT0FBT0MsWUFBWSxDQUFDQyxLQUFLLENBQUMsTUFBTUMsTUFBTUMsU0FBUyxDQUFDQyxLQUFLLENBQUNDLElBQUksQ0FBQ2IsV0FBV1ksS0FBSyxDQUFDLEdBQUdOO1lBQzdGUCxnQkFBZ0IsV0FBWWUsVUFBVSxHQUFHUixpQkFBa0JOLFdBQVdZLEtBQUssQ0FBQ04sZ0JBQWdCUyxNQUFNLEdBQUc7UUFDekcsT0FDSztZQUNELE1BQU1DLFdBQVduQjtZQUNqQixNQUFNSyxpQkFBaUJjLFNBQVNiLE9BQU8sQ0FBQ2YsaUVBQWlCQSxDQUFDNkIsZUFBZTtZQUN6RSxJQUFJZixtQkFBbUIsQ0FBQyxHQUFHO2dCQUN2QixNQUFNLElBQUlHLE1BQU07WUFDcEI7WUFDQSxpREFBaUQ7WUFDakQsZ0RBQWdEO1lBQ2hELE1BQU1DLGlCQUFpQkosaUJBQWlCO1lBQ3hDSixjQUFja0IsU0FBU0UsU0FBUyxDQUFDLEdBQUdaO1lBQ3BDUCxnQkFBZ0IsU0FBVW9CLE1BQU0sR0FBR2IsaUJBQWtCVSxTQUFTRSxTQUFTLENBQUNaLGtCQUFrQjtRQUM5RjtRQUNBLGlFQUFpRTtRQUNqRSxNQUFNYyxXQUFXaEMsaUVBQWlCQSxDQUFDaUMsS0FBSyxDQUFDdkI7UUFDekMsTUFBTXdCLFdBQVc1QixLQUFLMkIsS0FBSyxDQUFDRCxRQUFRLENBQUMsRUFBRTtRQUN2QyxJQUFJRSxTQUFTQyxJQUFJLEVBQUU7WUFDZixNQUFNLElBQUlsQixNQUFNO1FBQ3BCO1FBQ0EsTUFBTW1CLGtCQUFrQkY7UUFDeEIsc0RBQXNEO1FBQ3RELHNFQUFzRTtRQUN0RSxPQUFPO1lBQUN2QjtZQUFleUI7U0FBZ0I7SUFDM0M7QUFDSixFQUNBLDZDQUE2QyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi1zb2NrZXRzLWNoYXQtY2xpZW50LWFwcC8uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L3NpZ25hbHIvZGlzdC9lc20vSGFuZHNoYWtlUHJvdG9jb2wuanM/ZTM3MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcbmltcG9ydCB7IFRleHRNZXNzYWdlRm9ybWF0IH0gZnJvbSBcIi4vVGV4dE1lc3NhZ2VGb3JtYXRcIjtcclxuaW1wb3J0IHsgaXNBcnJheUJ1ZmZlciB9IGZyb20gXCIuL1V0aWxzXCI7XHJcbi8qKiBAcHJpdmF0ZSAqL1xyXG5leHBvcnQgY2xhc3MgSGFuZHNoYWtlUHJvdG9jb2wge1xyXG4gICAgLy8gSGFuZHNoYWtlIHJlcXVlc3QgaXMgYWx3YXlzIEpTT05cclxuICAgIHdyaXRlSGFuZHNoYWtlUmVxdWVzdChoYW5kc2hha2VSZXF1ZXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIFRleHRNZXNzYWdlRm9ybWF0LndyaXRlKEpTT04uc3RyaW5naWZ5KGhhbmRzaGFrZVJlcXVlc3QpKTtcclxuICAgIH1cclxuICAgIHBhcnNlSGFuZHNoYWtlUmVzcG9uc2UoZGF0YSkge1xyXG4gICAgICAgIGxldCBtZXNzYWdlRGF0YTtcclxuICAgICAgICBsZXQgcmVtYWluaW5nRGF0YTtcclxuICAgICAgICBpZiAoaXNBcnJheUJ1ZmZlcihkYXRhKSkge1xyXG4gICAgICAgICAgICAvLyBGb3JtYXQgaXMgYmluYXJ5IGJ1dCBzdGlsbCBuZWVkIHRvIHJlYWQgSlNPTiB0ZXh0IGZyb20gaGFuZHNoYWtlIHJlc3BvbnNlXHJcbiAgICAgICAgICAgIGNvbnN0IGJpbmFyeURhdGEgPSBuZXcgVWludDhBcnJheShkYXRhKTtcclxuICAgICAgICAgICAgY29uc3Qgc2VwYXJhdG9ySW5kZXggPSBiaW5hcnlEYXRhLmluZGV4T2YoVGV4dE1lc3NhZ2VGb3JtYXQuUmVjb3JkU2VwYXJhdG9yQ29kZSk7XHJcbiAgICAgICAgICAgIGlmIChzZXBhcmF0b3JJbmRleCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1lc3NhZ2UgaXMgaW5jb21wbGV0ZS5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY29udGVudCBiZWZvcmUgc2VwYXJhdG9yIGlzIGhhbmRzaGFrZSByZXNwb25zZVxyXG4gICAgICAgICAgICAvLyBvcHRpb25hbCBjb250ZW50IGFmdGVyIGlzIGFkZGl0aW9uYWwgbWVzc2FnZXNcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VMZW5ndGggPSBzZXBhcmF0b3JJbmRleCArIDE7XHJcbiAgICAgICAgICAgIG1lc3NhZ2VEYXRhID0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChiaW5hcnlEYXRhLnNsaWNlKDAsIHJlc3BvbnNlTGVuZ3RoKSkpO1xyXG4gICAgICAgICAgICByZW1haW5pbmdEYXRhID0gKGJpbmFyeURhdGEuYnl0ZUxlbmd0aCA+IHJlc3BvbnNlTGVuZ3RoKSA/IGJpbmFyeURhdGEuc2xpY2UocmVzcG9uc2VMZW5ndGgpLmJ1ZmZlciA6IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCB0ZXh0RGF0YSA9IGRhdGE7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlcGFyYXRvckluZGV4ID0gdGV4dERhdGEuaW5kZXhPZihUZXh0TWVzc2FnZUZvcm1hdC5SZWNvcmRTZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICBpZiAoc2VwYXJhdG9ySW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXNzYWdlIGlzIGluY29tcGxldGUuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvbnRlbnQgYmVmb3JlIHNlcGFyYXRvciBpcyBoYW5kc2hha2UgcmVzcG9uc2VcclxuICAgICAgICAgICAgLy8gb3B0aW9uYWwgY29udGVudCBhZnRlciBpcyBhZGRpdGlvbmFsIG1lc3NhZ2VzXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlTGVuZ3RoID0gc2VwYXJhdG9ySW5kZXggKyAxO1xyXG4gICAgICAgICAgICBtZXNzYWdlRGF0YSA9IHRleHREYXRhLnN1YnN0cmluZygwLCByZXNwb25zZUxlbmd0aCk7XHJcbiAgICAgICAgICAgIHJlbWFpbmluZ0RhdGEgPSAodGV4dERhdGEubGVuZ3RoID4gcmVzcG9uc2VMZW5ndGgpID8gdGV4dERhdGEuc3Vic3RyaW5nKHJlc3BvbnNlTGVuZ3RoKSA6IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEF0IHRoaXMgcG9pbnQgd2Ugc2hvdWxkIGhhdmUganVzdCB0aGUgc2luZ2xlIGhhbmRzaGFrZSBtZXNzYWdlXHJcbiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSBUZXh0TWVzc2FnZUZvcm1hdC5wYXJzZShtZXNzYWdlRGF0YSk7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBKU09OLnBhcnNlKG1lc3NhZ2VzWzBdKTtcclxuICAgICAgICBpZiAocmVzcG9uc2UudHlwZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBhIGhhbmRzaGFrZSByZXNwb25zZSBmcm9tIHRoZSBzZXJ2ZXIuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZXNwb25zZU1lc3NhZ2UgPSByZXNwb25zZTtcclxuICAgICAgICAvLyBtdWx0aXBsZSBtZXNzYWdlcyBjb3VsZCBoYXZlIGFycml2ZWQgd2l0aCBoYW5kc2hha2VcclxuICAgICAgICAvLyByZXR1cm4gYWRkaXRpb25hbCBkYXRhIHRvIGJlIHBhcnNlZCBhcyB1c3VhbCwgb3IgbnVsbCBpZiBhbGwgcGFyc2VkXHJcbiAgICAgICAgcmV0dXJuIFtyZW1haW5pbmdEYXRhLCByZXNwb25zZU1lc3NhZ2VdO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUhhbmRzaGFrZVByb3RvY29sLmpzLm1hcCJdLCJuYW1lcyI6WyJUZXh0TWVzc2FnZUZvcm1hdCIsImlzQXJyYXlCdWZmZXIiLCJIYW5kc2hha2VQcm90b2NvbCIsIndyaXRlSGFuZHNoYWtlUmVxdWVzdCIsImhhbmRzaGFrZVJlcXVlc3QiLCJ3cml0ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwYXJzZUhhbmRzaGFrZVJlc3BvbnNlIiwiZGF0YSIsIm1lc3NhZ2VEYXRhIiwicmVtYWluaW5nRGF0YSIsImJpbmFyeURhdGEiLCJVaW50OEFycmF5Iiwic2VwYXJhdG9ySW5kZXgiLCJpbmRleE9mIiwiUmVjb3JkU2VwYXJhdG9yQ29kZSIsIkVycm9yIiwicmVzcG9uc2VMZW5ndGgiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJhcHBseSIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwiYnl0ZUxlbmd0aCIsImJ1ZmZlciIsInRleHREYXRhIiwiUmVjb3JkU2VwYXJhdG9yIiwic3Vic3RyaW5nIiwibGVuZ3RoIiwibWVzc2FnZXMiLCJwYXJzZSIsInJlc3BvbnNlIiwidHlwZSIsInJlc3BvbnNlTWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/HandshakeProtocol.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/HeaderNames.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/HeaderNames.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HeaderNames: () => (/* binding */ HeaderNames)\n/* harmony export */ });\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\nclass HeaderNames {\n}\nHeaderNames.Authorization = \"Authorization\";\nHeaderNames.Cookie = \"Cookie\"; //# sourceMappingURL=HeaderNames.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0hlYWRlck5hbWVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxnRUFBZ0U7QUFDaEUsdUVBQXVFO0FBQ2hFLE1BQU1BO0FBQ2I7QUFDQUEsWUFBWUMsYUFBYSxHQUFHO0FBQzVCRCxZQUFZRSxNQUFNLEdBQUcsVUFDckIsdUNBQXVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLXNvY2tldHMtY2hhdC1jbGllbnQtYXBwLy4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvc2lnbmFsci9kaXN0L2VzbS9IZWFkZXJOYW1lcy5qcz9lNTdkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuZXhwb3J0IGNsYXNzIEhlYWRlck5hbWVzIHtcclxufVxyXG5IZWFkZXJOYW1lcy5BdXRob3JpemF0aW9uID0gXCJBdXRob3JpemF0aW9uXCI7XHJcbkhlYWRlck5hbWVzLkNvb2tpZSA9IFwiQ29va2llXCI7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUhlYWRlck5hbWVzLmpzLm1hcCJdLCJuYW1lcyI6WyJIZWFkZXJOYW1lcyIsIkF1dGhvcml6YXRpb24iLCJDb29raWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/HeaderNames.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/HttpClient.js":
/*!****************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/HttpClient.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HttpClient: () => (/* binding */ HttpClient),\n/* harmony export */   HttpResponse: () => (/* binding */ HttpResponse)\n/* harmony export */ });\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n/** Represents an HTTP response. */ class HttpResponse {\n    constructor(statusCode, statusText, content){\n        this.statusCode = statusCode;\n        this.statusText = statusText;\n        this.content = content;\n    }\n}\n/** Abstraction over an HTTP client.\r\n *\r\n * This class provides an abstraction over an HTTP client so that a different implementation can be provided on different platforms.\r\n */ class HttpClient {\n    get(url, options) {\n        return this.send({\n            ...options,\n            method: \"GET\",\n            url\n        });\n    }\n    post(url, options) {\n        return this.send({\n            ...options,\n            method: \"POST\",\n            url\n        });\n    }\n    delete(url, options) {\n        return this.send({\n            ...options,\n            method: \"DELETE\",\n            url\n        });\n    }\n    /** Gets all cookies that apply to the specified URL.\r\n     *\r\n     * @param url The URL that the cookies are valid for.\r\n     * @returns {string} A string containing all the key-value cookie pairs for the specified URL.\r\n     */ // @ts-ignore\n    getCookieString(url) {\n        return \"\";\n    }\n} //# sourceMappingURL=HttpClient.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0h0dHBDbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxnRUFBZ0U7QUFDaEUsdUVBQXVFO0FBQ3ZFLGlDQUFpQyxHQUMxQixNQUFNQTtJQUNUQyxZQUFZQyxVQUFVLEVBQUVDLFVBQVUsRUFBRUMsT0FBTyxDQUFFO1FBQ3pDLElBQUksQ0FBQ0YsVUFBVSxHQUFHQTtRQUNsQixJQUFJLENBQUNDLFVBQVUsR0FBR0E7UUFDbEIsSUFBSSxDQUFDQyxPQUFPLEdBQUdBO0lBQ25CO0FBQ0o7QUFDQTs7O0NBR0MsR0FDTSxNQUFNQztJQUNUQyxJQUFJQyxHQUFHLEVBQUVDLE9BQU8sRUFBRTtRQUNkLE9BQU8sSUFBSSxDQUFDQyxJQUFJLENBQUM7WUFDYixHQUFHRCxPQUFPO1lBQ1ZFLFFBQVE7WUFDUkg7UUFDSjtJQUNKO0lBQ0FJLEtBQUtKLEdBQUcsRUFBRUMsT0FBTyxFQUFFO1FBQ2YsT0FBTyxJQUFJLENBQUNDLElBQUksQ0FBQztZQUNiLEdBQUdELE9BQU87WUFDVkUsUUFBUTtZQUNSSDtRQUNKO0lBQ0o7SUFDQUssT0FBT0wsR0FBRyxFQUFFQyxPQUFPLEVBQUU7UUFDakIsT0FBTyxJQUFJLENBQUNDLElBQUksQ0FBQztZQUNiLEdBQUdELE9BQU87WUFDVkUsUUFBUTtZQUNSSDtRQUNKO0lBQ0o7SUFDQTs7OztLQUlDLEdBQ0QsYUFBYTtJQUNiTSxnQkFBZ0JOLEdBQUcsRUFBRTtRQUNqQixPQUFPO0lBQ1g7QUFDSixFQUNBLHNDQUFzQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi1zb2NrZXRzLWNoYXQtY2xpZW50LWFwcC8uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L3NpZ25hbHIvZGlzdC9lc20vSHR0cENsaWVudC5qcz8yZTNjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuLyoqIFJlcHJlc2VudHMgYW4gSFRUUCByZXNwb25zZS4gKi9cclxuZXhwb3J0IGNsYXNzIEh0dHBSZXNwb25zZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihzdGF0dXNDb2RlLCBzdGF0dXNUZXh0LCBjb250ZW50KSB7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQgPSBzdGF0dXNUZXh0O1xyXG4gICAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XHJcbiAgICB9XHJcbn1cclxuLyoqIEFic3RyYWN0aW9uIG92ZXIgYW4gSFRUUCBjbGllbnQuXHJcbiAqXHJcbiAqIFRoaXMgY2xhc3MgcHJvdmlkZXMgYW4gYWJzdHJhY3Rpb24gb3ZlciBhbiBIVFRQIGNsaWVudCBzbyB0aGF0IGEgZGlmZmVyZW50IGltcGxlbWVudGF0aW9uIGNhbiBiZSBwcm92aWRlZCBvbiBkaWZmZXJlbnQgcGxhdGZvcm1zLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEh0dHBDbGllbnQge1xyXG4gICAgZ2V0KHVybCwgb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNlbmQoe1xyXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIHVybCxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHBvc3QodXJsLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZCh7XHJcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybCxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGRlbGV0ZSh1cmwsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZW5kKHtcclxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgICAgICB1cmwsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKiogR2V0cyBhbGwgY29va2llcyB0aGF0IGFwcGx5IHRvIHRoZSBzcGVjaWZpZWQgVVJMLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB1cmwgVGhlIFVSTCB0aGF0IHRoZSBjb29raWVzIGFyZSB2YWxpZCBmb3IuXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBBIHN0cmluZyBjb250YWluaW5nIGFsbCB0aGUga2V5LXZhbHVlIGNvb2tpZSBwYWlycyBmb3IgdGhlIHNwZWNpZmllZCBVUkwuXHJcbiAgICAgKi9cclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGdldENvb2tpZVN0cmluZyh1cmwpIHtcclxuICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1IdHRwQ2xpZW50LmpzLm1hcCJdLCJuYW1lcyI6WyJIdHRwUmVzcG9uc2UiLCJjb25zdHJ1Y3RvciIsInN0YXR1c0NvZGUiLCJzdGF0dXNUZXh0IiwiY29udGVudCIsIkh0dHBDbGllbnQiLCJnZXQiLCJ1cmwiLCJvcHRpb25zIiwic2VuZCIsIm1ldGhvZCIsInBvc3QiLCJkZWxldGUiLCJnZXRDb29raWVTdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/HttpClient.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/HttpConnection.js":
/*!********************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/HttpConnection.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HttpConnection: () => (/* binding */ HttpConnection),\n/* harmony export */   TransportSendQueue: () => (/* binding */ TransportSendQueue)\n/* harmony export */ });\n/* harmony import */ var _AccessTokenHttpClient__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AccessTokenHttpClient */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/AccessTokenHttpClient.js\");\n/* harmony import */ var _DefaultHttpClient__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DefaultHttpClient */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/DefaultHttpClient.js\");\n/* harmony import */ var _DynamicImports__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DynamicImports */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/DynamicImports.js\");\n/* harmony import */ var _Errors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Errors */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Errors.js\");\n/* harmony import */ var _ILogger__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ILogger */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/ILogger.js\");\n/* harmony import */ var _ITransport__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ITransport */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/ITransport.js\");\n/* harmony import */ var _LongPollingTransport__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./LongPollingTransport */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/LongPollingTransport.js\");\n/* harmony import */ var _ServerSentEventsTransport__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ServerSentEventsTransport */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/ServerSentEventsTransport.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Utils.js\");\n/* harmony import */ var _WebSocketTransport__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./WebSocketTransport */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/WebSocketTransport.js\");\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n\n\n\n\n\n\n\n\n\n\nconst MAX_REDIRECTS = 100;\n/** @private */ class HttpConnection {\n    constructor(url, options = {}){\n        this._stopPromiseResolver = ()=>{};\n        this.features = {};\n        this._negotiateVersion = 1;\n        _Utils__WEBPACK_IMPORTED_MODULE_0__.Arg.isRequired(url, \"url\");\n        this._logger = (0,_Utils__WEBPACK_IMPORTED_MODULE_0__.createLogger)(options.logger);\n        this.baseUrl = this._resolveUrl(url);\n        options = options || {};\n        options.logMessageContent = options.logMessageContent === undefined ? false : options.logMessageContent;\n        if (typeof options.withCredentials === \"boolean\" || options.withCredentials === undefined) {\n            options.withCredentials = options.withCredentials === undefined ? true : options.withCredentials;\n        } else {\n            throw new Error(\"withCredentials option was not a 'boolean' or 'undefined' value\");\n        }\n        options.timeout = options.timeout === undefined ? 100 * 1000 : options.timeout;\n        let webSocketModule = null;\n        let eventSourceModule = null;\n        if (_Utils__WEBPACK_IMPORTED_MODULE_0__.Platform.isNode && \"function\" !== \"undefined\") {\n            webSocketModule = (0,_DynamicImports__WEBPACK_IMPORTED_MODULE_1__.getWS)();\n            eventSourceModule = (0,_DynamicImports__WEBPACK_IMPORTED_MODULE_1__.getEventSource)();\n        }\n        if (!_Utils__WEBPACK_IMPORTED_MODULE_0__.Platform.isNode && typeof WebSocket !== \"undefined\" && !options.WebSocket) {\n            options.WebSocket = WebSocket;\n        } else if (_Utils__WEBPACK_IMPORTED_MODULE_0__.Platform.isNode && !options.WebSocket) {\n            if (webSocketModule) {\n                options.WebSocket = webSocketModule;\n            }\n        }\n        if (!_Utils__WEBPACK_IMPORTED_MODULE_0__.Platform.isNode && typeof EventSource !== \"undefined\" && !options.EventSource) {\n            options.EventSource = EventSource;\n        } else if (_Utils__WEBPACK_IMPORTED_MODULE_0__.Platform.isNode && !options.EventSource) {\n            if (typeof eventSourceModule !== \"undefined\") {\n                options.EventSource = eventSourceModule;\n            }\n        }\n        this._httpClient = new _AccessTokenHttpClient__WEBPACK_IMPORTED_MODULE_2__.AccessTokenHttpClient(options.httpClient || new _DefaultHttpClient__WEBPACK_IMPORTED_MODULE_3__.DefaultHttpClient(this._logger), options.accessTokenFactory);\n        this._connectionState = \"Disconnected\" /* ConnectionState.Disconnected */ ;\n        this._connectionStarted = false;\n        this._options = options;\n        this.onreceive = null;\n        this.onclose = null;\n    }\n    async start(transferFormat) {\n        transferFormat = transferFormat || _ITransport__WEBPACK_IMPORTED_MODULE_4__.TransferFormat.Binary;\n        _Utils__WEBPACK_IMPORTED_MODULE_0__.Arg.isIn(transferFormat, _ITransport__WEBPACK_IMPORTED_MODULE_4__.TransferFormat, \"transferFormat\");\n        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Debug, `Starting connection with transfer format '${_ITransport__WEBPACK_IMPORTED_MODULE_4__.TransferFormat[transferFormat]}'.`);\n        if (this._connectionState !== \"Disconnected\" /* ConnectionState.Disconnected */ ) {\n            return Promise.reject(new Error(\"Cannot start an HttpConnection that is not in the 'Disconnected' state.\"));\n        }\n        this._connectionState = \"Connecting\" /* ConnectionState.Connecting */ ;\n        this._startInternalPromise = this._startInternal(transferFormat);\n        await this._startInternalPromise;\n        // The TypeScript compiler thinks that connectionState must be Connecting here. The TypeScript compiler is wrong.\n        if (this._connectionState === \"Disconnecting\" /* ConnectionState.Disconnecting */ ) {\n            // stop() was called and transitioned the client into the Disconnecting state.\n            const message = \"Failed to start the HttpConnection before stop() was called.\";\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Error, message);\n            // We cannot await stopPromise inside startInternal since stopInternal awaits the startInternalPromise.\n            await this._stopPromise;\n            return Promise.reject(new _Errors__WEBPACK_IMPORTED_MODULE_6__.AbortError(message));\n        } else if (this._connectionState !== \"Connected\" /* ConnectionState.Connected */ ) {\n            // stop() was called and transitioned the client into the Disconnecting state.\n            const message = \"HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!\";\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Error, message);\n            return Promise.reject(new _Errors__WEBPACK_IMPORTED_MODULE_6__.AbortError(message));\n        }\n        this._connectionStarted = true;\n    }\n    send(data) {\n        if (this._connectionState !== \"Connected\" /* ConnectionState.Connected */ ) {\n            return Promise.reject(new Error(\"Cannot send data if the connection is not in the 'Connected' State.\"));\n        }\n        if (!this._sendQueue) {\n            this._sendQueue = new TransportSendQueue(this.transport);\n        }\n        // Transport will not be null if state is connected\n        return this._sendQueue.send(data);\n    }\n    async stop(error) {\n        if (this._connectionState === \"Disconnected\" /* ConnectionState.Disconnected */ ) {\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Debug, `Call to HttpConnection.stop(${error}) ignored because the connection is already in the disconnected state.`);\n            return Promise.resolve();\n        }\n        if (this._connectionState === \"Disconnecting\" /* ConnectionState.Disconnecting */ ) {\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Debug, `Call to HttpConnection.stop(${error}) ignored because the connection is already in the disconnecting state.`);\n            return this._stopPromise;\n        }\n        this._connectionState = \"Disconnecting\" /* ConnectionState.Disconnecting */ ;\n        this._stopPromise = new Promise((resolve)=>{\n            // Don't complete stop() until stopConnection() completes.\n            this._stopPromiseResolver = resolve;\n        });\n        // stopInternal should never throw so just observe it.\n        await this._stopInternal(error);\n        await this._stopPromise;\n    }\n    async _stopInternal(error) {\n        // Set error as soon as possible otherwise there is a race between\n        // the transport closing and providing an error and the error from a close message\n        // We would prefer the close message error.\n        this._stopError = error;\n        try {\n            await this._startInternalPromise;\n        } catch (e) {\n        // This exception is returned to the user as a rejected Promise from the start method.\n        }\n        // The transport's onclose will trigger stopConnection which will run our onclose event.\n        // The transport should always be set if currently connected. If it wasn't set, it's likely because\n        // stop was called during start() and start() failed.\n        if (this.transport) {\n            try {\n                await this.transport.stop();\n            } catch (e) {\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Error, `HttpConnection.transport.stop() threw error '${e}'.`);\n                this._stopConnection();\n            }\n            this.transport = undefined;\n        } else {\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Debug, \"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.\");\n        }\n    }\n    async _startInternal(transferFormat) {\n        // Store the original base url and the access token factory since they may change\n        // as part of negotiating\n        let url = this.baseUrl;\n        this._accessTokenFactory = this._options.accessTokenFactory;\n        this._httpClient._accessTokenFactory = this._accessTokenFactory;\n        try {\n            if (this._options.skipNegotiation) {\n                if (this._options.transport === _ITransport__WEBPACK_IMPORTED_MODULE_4__.HttpTransportType.WebSockets) {\n                    // No need to add a connection ID in this case\n                    this.transport = this._constructTransport(_ITransport__WEBPACK_IMPORTED_MODULE_4__.HttpTransportType.WebSockets);\n                    // We should just call connect directly in this case.\n                    // No fallback or negotiate in this case.\n                    await this._startTransport(url, transferFormat);\n                } else {\n                    throw new Error(\"Negotiation can only be skipped when using the WebSocket transport directly.\");\n                }\n            } else {\n                let negotiateResponse = null;\n                let redirects = 0;\n                do {\n                    negotiateResponse = await this._getNegotiationResponse(url);\n                    // the user tries to stop the connection when it is being started\n                    if (this._connectionState === \"Disconnecting\" /* ConnectionState.Disconnecting */  || this._connectionState === \"Disconnected\" /* ConnectionState.Disconnected */ ) {\n                        throw new _Errors__WEBPACK_IMPORTED_MODULE_6__.AbortError(\"The connection was stopped during negotiation.\");\n                    }\n                    if (negotiateResponse.error) {\n                        throw new Error(negotiateResponse.error);\n                    }\n                    if (negotiateResponse.ProtocolVersion) {\n                        throw new Error(\"Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.\");\n                    }\n                    if (negotiateResponse.url) {\n                        url = negotiateResponse.url;\n                    }\n                    if (negotiateResponse.accessToken) {\n                        // Replace the current access token factory with one that uses\n                        // the returned access token\n                        const accessToken = negotiateResponse.accessToken;\n                        this._accessTokenFactory = ()=>accessToken;\n                        // set the factory to undefined so the AccessTokenHttpClient won't retry with the same token, since we know it won't change until a connection restart\n                        this._httpClient._accessToken = accessToken;\n                        this._httpClient._accessTokenFactory = undefined;\n                    }\n                    redirects++;\n                }while (negotiateResponse.url && redirects < MAX_REDIRECTS);\n                if (redirects === MAX_REDIRECTS && negotiateResponse.url) {\n                    throw new Error(\"Negotiate redirection limit exceeded.\");\n                }\n                await this._createTransport(url, this._options.transport, negotiateResponse, transferFormat);\n            }\n            if (this.transport instanceof _LongPollingTransport__WEBPACK_IMPORTED_MODULE_7__.LongPollingTransport) {\n                this.features.inherentKeepAlive = true;\n            }\n            if (this._connectionState === \"Connecting\" /* ConnectionState.Connecting */ ) {\n                // Ensure the connection transitions to the connected state prior to completing this.startInternalPromise.\n                // start() will handle the case when stop was called and startInternal exits still in the disconnecting state.\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Debug, \"The HttpConnection connected successfully.\");\n                this._connectionState = \"Connected\" /* ConnectionState.Connected */ ;\n            }\n        // stop() is waiting on us via this.startInternalPromise so keep this.transport around so it can clean up.\n        // This is the only case startInternal can exit in neither the connected nor disconnected state because stopConnection()\n        // will transition to the disconnected state. start() will wait for the transition using the stopPromise.\n        } catch (e) {\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Error, \"Failed to start the connection: \" + e);\n            this._connectionState = \"Disconnected\" /* ConnectionState.Disconnected */ ;\n            this.transport = undefined;\n            // if start fails, any active calls to stop assume that start will complete the stop promise\n            this._stopPromiseResolver();\n            return Promise.reject(e);\n        }\n    }\n    async _getNegotiationResponse(url) {\n        const headers = {};\n        const [name, value] = (0,_Utils__WEBPACK_IMPORTED_MODULE_0__.getUserAgentHeader)();\n        headers[name] = value;\n        const negotiateUrl = this._resolveNegotiateUrl(url);\n        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Debug, `Sending negotiation request: ${negotiateUrl}.`);\n        try {\n            const response = await this._httpClient.post(negotiateUrl, {\n                content: \"\",\n                headers: {\n                    ...headers,\n                    ...this._options.headers\n                },\n                timeout: this._options.timeout,\n                withCredentials: this._options.withCredentials\n            });\n            if (response.statusCode !== 200) {\n                return Promise.reject(new Error(`Unexpected status code returned from negotiate '${response.statusCode}'`));\n            }\n            const negotiateResponse = JSON.parse(response.content);\n            if (!negotiateResponse.negotiateVersion || negotiateResponse.negotiateVersion < 1) {\n                // Negotiate version 0 doesn't use connectionToken\n                // So we set it equal to connectionId so all our logic can use connectionToken without being aware of the negotiate version\n                negotiateResponse.connectionToken = negotiateResponse.connectionId;\n            }\n            if (negotiateResponse.useStatefulReconnect && this._options._useStatefulReconnect !== true) {\n                return Promise.reject(new _Errors__WEBPACK_IMPORTED_MODULE_6__.FailedToNegotiateWithServerError(\"Client didn't negotiate Stateful Reconnect but the server did.\"));\n            }\n            return negotiateResponse;\n        } catch (e) {\n            let errorMessage = \"Failed to complete negotiation with the server: \" + e;\n            if (e instanceof _Errors__WEBPACK_IMPORTED_MODULE_6__.HttpError) {\n                if (e.statusCode === 404) {\n                    errorMessage = errorMessage + \" Either this is not a SignalR endpoint or there is a proxy blocking the connection.\";\n                }\n            }\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Error, errorMessage);\n            return Promise.reject(new _Errors__WEBPACK_IMPORTED_MODULE_6__.FailedToNegotiateWithServerError(errorMessage));\n        }\n    }\n    _createConnectUrl(url, connectionToken) {\n        if (!connectionToken) {\n            return url;\n        }\n        return url + (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + `id=${connectionToken}`;\n    }\n    async _createTransport(url, requestedTransport, negotiateResponse, requestedTransferFormat) {\n        let connectUrl = this._createConnectUrl(url, negotiateResponse.connectionToken);\n        if (this._isITransport(requestedTransport)) {\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Debug, \"Connection was provided an instance of ITransport, using that directly.\");\n            this.transport = requestedTransport;\n            await this._startTransport(connectUrl, requestedTransferFormat);\n            this.connectionId = negotiateResponse.connectionId;\n            return;\n        }\n        const transportExceptions = [];\n        const transports = negotiateResponse.availableTransports || [];\n        let negotiate = negotiateResponse;\n        for (const endpoint of transports){\n            const transportOrError = this._resolveTransportOrError(endpoint, requestedTransport, requestedTransferFormat, (negotiate === null || negotiate === void 0 ? void 0 : negotiate.useStatefulReconnect) === true);\n            if (transportOrError instanceof Error) {\n                // Store the error and continue, we don't want to cause a re-negotiate in these cases\n                transportExceptions.push(`${endpoint.transport} failed:`);\n                transportExceptions.push(transportOrError);\n            } else if (this._isITransport(transportOrError)) {\n                this.transport = transportOrError;\n                if (!negotiate) {\n                    try {\n                        negotiate = await this._getNegotiationResponse(url);\n                    } catch (ex) {\n                        return Promise.reject(ex);\n                    }\n                    connectUrl = this._createConnectUrl(url, negotiate.connectionToken);\n                }\n                try {\n                    await this._startTransport(connectUrl, requestedTransferFormat);\n                    this.connectionId = negotiate.connectionId;\n                    return;\n                } catch (ex) {\n                    this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Error, `Failed to start the transport '${endpoint.transport}': ${ex}`);\n                    negotiate = undefined;\n                    transportExceptions.push(new _Errors__WEBPACK_IMPORTED_MODULE_6__.FailedToStartTransportError(`${endpoint.transport} failed: ${ex}`, _ITransport__WEBPACK_IMPORTED_MODULE_4__.HttpTransportType[endpoint.transport]));\n                    if (this._connectionState !== \"Connecting\" /* ConnectionState.Connecting */ ) {\n                        const message = \"Failed to select transport before stop() was called.\";\n                        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Debug, message);\n                        return Promise.reject(new _Errors__WEBPACK_IMPORTED_MODULE_6__.AbortError(message));\n                    }\n                }\n            }\n        }\n        if (transportExceptions.length > 0) {\n            return Promise.reject(new _Errors__WEBPACK_IMPORTED_MODULE_6__.AggregateErrors(`Unable to connect to the server with any of the available transports. ${transportExceptions.join(\" \")}`, transportExceptions));\n        }\n        return Promise.reject(new Error(\"None of the transports supported by the client are supported by the server.\"));\n    }\n    _constructTransport(transport) {\n        switch(transport){\n            case _ITransport__WEBPACK_IMPORTED_MODULE_4__.HttpTransportType.WebSockets:\n                if (!this._options.WebSocket) {\n                    throw new Error(\"'WebSocket' is not supported in your environment.\");\n                }\n                return new _WebSocketTransport__WEBPACK_IMPORTED_MODULE_8__.WebSocketTransport(this._httpClient, this._accessTokenFactory, this._logger, this._options.logMessageContent, this._options.WebSocket, this._options.headers || {});\n            case _ITransport__WEBPACK_IMPORTED_MODULE_4__.HttpTransportType.ServerSentEvents:\n                if (!this._options.EventSource) {\n                    throw new Error(\"'EventSource' is not supported in your environment.\");\n                }\n                return new _ServerSentEventsTransport__WEBPACK_IMPORTED_MODULE_9__.ServerSentEventsTransport(this._httpClient, this._httpClient._accessToken, this._logger, this._options);\n            case _ITransport__WEBPACK_IMPORTED_MODULE_4__.HttpTransportType.LongPolling:\n                return new _LongPollingTransport__WEBPACK_IMPORTED_MODULE_7__.LongPollingTransport(this._httpClient, this._logger, this._options);\n            default:\n                throw new Error(`Unknown transport: ${transport}.`);\n        }\n    }\n    _startTransport(url, transferFormat) {\n        this.transport.onreceive = this.onreceive;\n        if (this.features.reconnect) {\n            this.transport.onclose = async (e)=>{\n                let callStop = false;\n                if (this.features.reconnect) {\n                    try {\n                        this.features.disconnected();\n                        await this.transport.connect(url, transferFormat);\n                        await this.features.resend();\n                    } catch  {\n                        callStop = true;\n                    }\n                } else {\n                    this._stopConnection(e);\n                    return;\n                }\n                if (callStop) {\n                    this._stopConnection(e);\n                }\n            };\n        } else {\n            this.transport.onclose = (e)=>this._stopConnection(e);\n        }\n        return this.transport.connect(url, transferFormat);\n    }\n    _resolveTransportOrError(endpoint, requestedTransport, requestedTransferFormat, useStatefulReconnect) {\n        const transport = _ITransport__WEBPACK_IMPORTED_MODULE_4__.HttpTransportType[endpoint.transport];\n        if (transport === null || transport === undefined) {\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Debug, `Skipping transport '${endpoint.transport}' because it is not supported by this client.`);\n            return new Error(`Skipping transport '${endpoint.transport}' because it is not supported by this client.`);\n        } else {\n            if (transportMatches(requestedTransport, transport)) {\n                const transferFormats = endpoint.transferFormats.map((s)=>_ITransport__WEBPACK_IMPORTED_MODULE_4__.TransferFormat[s]);\n                if (transferFormats.indexOf(requestedTransferFormat) >= 0) {\n                    if (transport === _ITransport__WEBPACK_IMPORTED_MODULE_4__.HttpTransportType.WebSockets && !this._options.WebSocket || transport === _ITransport__WEBPACK_IMPORTED_MODULE_4__.HttpTransportType.ServerSentEvents && !this._options.EventSource) {\n                        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Debug, `Skipping transport '${_ITransport__WEBPACK_IMPORTED_MODULE_4__.HttpTransportType[transport]}' because it is not supported in your environment.'`);\n                        return new _Errors__WEBPACK_IMPORTED_MODULE_6__.UnsupportedTransportError(`'${_ITransport__WEBPACK_IMPORTED_MODULE_4__.HttpTransportType[transport]}' is not supported in your environment.`, transport);\n                    } else {\n                        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Debug, `Selecting transport '${_ITransport__WEBPACK_IMPORTED_MODULE_4__.HttpTransportType[transport]}'.`);\n                        try {\n                            this.features.reconnect = transport === _ITransport__WEBPACK_IMPORTED_MODULE_4__.HttpTransportType.WebSockets ? useStatefulReconnect : undefined;\n                            return this._constructTransport(transport);\n                        } catch (ex) {\n                            return ex;\n                        }\n                    }\n                } else {\n                    this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Debug, `Skipping transport '${_ITransport__WEBPACK_IMPORTED_MODULE_4__.HttpTransportType[transport]}' because it does not support the requested transfer format '${_ITransport__WEBPACK_IMPORTED_MODULE_4__.TransferFormat[requestedTransferFormat]}'.`);\n                    return new Error(`'${_ITransport__WEBPACK_IMPORTED_MODULE_4__.HttpTransportType[transport]}' does not support ${_ITransport__WEBPACK_IMPORTED_MODULE_4__.TransferFormat[requestedTransferFormat]}.`);\n                }\n            } else {\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Debug, `Skipping transport '${_ITransport__WEBPACK_IMPORTED_MODULE_4__.HttpTransportType[transport]}' because it was disabled by the client.`);\n                return new _Errors__WEBPACK_IMPORTED_MODULE_6__.DisabledTransportError(`'${_ITransport__WEBPACK_IMPORTED_MODULE_4__.HttpTransportType[transport]}' is disabled by the client.`, transport);\n            }\n        }\n    }\n    _isITransport(transport) {\n        return transport && typeof transport === \"object\" && \"connect\" in transport;\n    }\n    _stopConnection(error) {\n        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Debug, `HttpConnection.stopConnection(${error}) called while in state ${this._connectionState}.`);\n        this.transport = undefined;\n        // If we have a stopError, it takes precedence over the error from the transport\n        error = this._stopError || error;\n        this._stopError = undefined;\n        if (this._connectionState === \"Disconnected\" /* ConnectionState.Disconnected */ ) {\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Debug, `Call to HttpConnection.stopConnection(${error}) was ignored because the connection is already in the disconnected state.`);\n            return;\n        }\n        if (this._connectionState === \"Connecting\" /* ConnectionState.Connecting */ ) {\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Warning, `Call to HttpConnection.stopConnection(${error}) was ignored because the connection is still in the connecting state.`);\n            throw new Error(`HttpConnection.stopConnection(${error}) was called while the connection is still in the connecting state.`);\n        }\n        if (this._connectionState === \"Disconnecting\" /* ConnectionState.Disconnecting */ ) {\n            // A call to stop() induced this call to stopConnection and needs to be completed.\n            // Any stop() awaiters will be scheduled to continue after the onclose callback fires.\n            this._stopPromiseResolver();\n        }\n        if (error) {\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Error, `Connection disconnected with error '${error}'.`);\n        } else {\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Information, \"Connection disconnected.\");\n        }\n        if (this._sendQueue) {\n            this._sendQueue.stop().catch((e)=>{\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Error, `TransportSendQueue.stop() threw error '${e}'.`);\n            });\n            this._sendQueue = undefined;\n        }\n        this.connectionId = undefined;\n        this._connectionState = \"Disconnected\" /* ConnectionState.Disconnected */ ;\n        if (this._connectionStarted) {\n            this._connectionStarted = false;\n            try {\n                if (this.onclose) {\n                    this.onclose(error);\n                }\n            } catch (e) {\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Error, `HttpConnection.onclose(${error}) threw error '${e}'.`);\n            }\n        }\n    }\n    _resolveUrl(url) {\n        // startsWith is not supported in IE\n        if (url.lastIndexOf(\"https://\", 0) === 0 || url.lastIndexOf(\"http://\", 0) === 0) {\n            return url;\n        }\n        if (!_Utils__WEBPACK_IMPORTED_MODULE_0__.Platform.isBrowser) {\n            throw new Error(`Cannot resolve '${url}'.`);\n        }\n        // Setting the url to the href propery of an anchor tag handles normalization\n        // for us. There are 3 main cases.\n        // 1. Relative path normalization e.g \"b\" -> \"http://localhost:5000/a/b\"\n        // 2. Absolute path normalization e.g \"/a/b\" -> \"http://localhost:5000/a/b\"\n        // 3. Networkpath reference normalization e.g \"//localhost:5000/a/b\" -> \"http://localhost:5000/a/b\"\n        const aTag = window.document.createElement(\"a\");\n        aTag.href = url;\n        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_5__.LogLevel.Information, `Normalizing '${url}' to '${aTag.href}'.`);\n        return aTag.href;\n    }\n    _resolveNegotiateUrl(url) {\n        const negotiateUrl = new URL(url);\n        if (negotiateUrl.pathname.endsWith(\"/\")) {\n            negotiateUrl.pathname += \"negotiate\";\n        } else {\n            negotiateUrl.pathname += \"/negotiate\";\n        }\n        const searchParams = new URLSearchParams(negotiateUrl.searchParams);\n        if (!searchParams.has(\"negotiateVersion\")) {\n            searchParams.append(\"negotiateVersion\", this._negotiateVersion.toString());\n        }\n        if (searchParams.has(\"useStatefulReconnect\")) {\n            if (searchParams.get(\"useStatefulReconnect\") === \"true\") {\n                this._options._useStatefulReconnect = true;\n            }\n        } else if (this._options._useStatefulReconnect === true) {\n            searchParams.append(\"useStatefulReconnect\", \"true\");\n        }\n        negotiateUrl.search = searchParams.toString();\n        return negotiateUrl.toString();\n    }\n}\nfunction transportMatches(requestedTransport, actualTransport) {\n    return !requestedTransport || (actualTransport & requestedTransport) !== 0;\n}\n/** @private */ class TransportSendQueue {\n    constructor(_transport){\n        this._transport = _transport;\n        this._buffer = [];\n        this._executing = true;\n        this._sendBufferedData = new PromiseSource();\n        this._transportResult = new PromiseSource();\n        this._sendLoopPromise = this._sendLoop();\n    }\n    send(data) {\n        this._bufferData(data);\n        if (!this._transportResult) {\n            this._transportResult = new PromiseSource();\n        }\n        return this._transportResult.promise;\n    }\n    stop() {\n        this._executing = false;\n        this._sendBufferedData.resolve();\n        return this._sendLoopPromise;\n    }\n    _bufferData(data) {\n        if (this._buffer.length && typeof this._buffer[0] !== typeof data) {\n            throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof data}`);\n        }\n        this._buffer.push(data);\n        this._sendBufferedData.resolve();\n    }\n    async _sendLoop() {\n        while(true){\n            await this._sendBufferedData.promise;\n            if (!this._executing) {\n                if (this._transportResult) {\n                    this._transportResult.reject(\"Connection stopped.\");\n                }\n                break;\n            }\n            this._sendBufferedData = new PromiseSource();\n            const transportResult = this._transportResult;\n            this._transportResult = undefined;\n            const data = typeof this._buffer[0] === \"string\" ? this._buffer.join(\"\") : TransportSendQueue._concatBuffers(this._buffer);\n            this._buffer.length = 0;\n            try {\n                await this._transport.send(data);\n                transportResult.resolve();\n            } catch (error) {\n                transportResult.reject(error);\n            }\n        }\n    }\n    static _concatBuffers(arrayBuffers) {\n        const totalLength = arrayBuffers.map((b)=>b.byteLength).reduce((a, b)=>a + b);\n        const result = new Uint8Array(totalLength);\n        let offset = 0;\n        for (const item of arrayBuffers){\n            result.set(new Uint8Array(item), offset);\n            offset += item.byteLength;\n        }\n        return result.buffer;\n    }\n}\nclass PromiseSource {\n    constructor(){\n        this.promise = new Promise((resolve, reject)=>([this._resolver, this._rejecter] = [\n                resolve,\n                reject\n            ]));\n    }\n    resolve() {\n        this._resolver();\n    }\n    reject(reason) {\n        this._rejecter(reason);\n    }\n} //# sourceMappingURL=HttpConnection.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0h0dHBDb25uZWN0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGdFQUFnRTtBQUNoRSx1RUFBdUU7QUFDUDtBQUNSO0FBQ0M7QUFDMkg7QUFDL0k7QUFDNEI7QUFDSDtBQUNVO0FBQ0U7QUFDaEI7QUFDMUQsTUFBTXFCLGdCQUFnQjtBQUN0QixhQUFhLEdBQ04sTUFBTUM7SUFDVEMsWUFBWUMsR0FBRyxFQUFFQyxVQUFVLENBQUMsQ0FBQyxDQUFFO1FBQzNCLElBQUksQ0FBQ0Msb0JBQW9CLEdBQUcsS0FBUTtRQUNwQyxJQUFJLENBQUNDLFFBQVEsR0FBRyxDQUFDO1FBQ2pCLElBQUksQ0FBQ0MsaUJBQWlCLEdBQUc7UUFDekJaLHVDQUFHQSxDQUFDYSxVQUFVLENBQUNMLEtBQUs7UUFDcEIsSUFBSSxDQUFDTSxPQUFPLEdBQUdiLG9EQUFZQSxDQUFDUSxRQUFRTSxNQUFNO1FBQzFDLElBQUksQ0FBQ0MsT0FBTyxHQUFHLElBQUksQ0FBQ0MsV0FBVyxDQUFDVDtRQUNoQ0MsVUFBVUEsV0FBVyxDQUFDO1FBQ3RCQSxRQUFRUyxpQkFBaUIsR0FBR1QsUUFBUVMsaUJBQWlCLEtBQUtDLFlBQVksUUFBUVYsUUFBUVMsaUJBQWlCO1FBQ3ZHLElBQUksT0FBT1QsUUFBUVcsZUFBZSxLQUFLLGFBQWFYLFFBQVFXLGVBQWUsS0FBS0QsV0FBVztZQUN2RlYsUUFBUVcsZUFBZSxHQUFHWCxRQUFRVyxlQUFlLEtBQUtELFlBQVksT0FBT1YsUUFBUVcsZUFBZTtRQUNwRyxPQUNLO1lBQ0QsTUFBTSxJQUFJQyxNQUFNO1FBQ3BCO1FBQ0FaLFFBQVFhLE9BQU8sR0FBR2IsUUFBUWEsT0FBTyxLQUFLSCxZQUFZLE1BQU0sT0FBT1YsUUFBUWEsT0FBTztRQUM5RSxJQUFJQyxrQkFBa0I7UUFDdEIsSUFBSUMsb0JBQW9CO1FBQ3hCLElBQUlyQiw0Q0FBUUEsQ0FBQ3NCLE1B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LFFBQVFULGFBQWM7WUFDN0JNLE9BQU9JLEdBQUcsQ0FBQyxJQUFJSCxXQUFXRSxPQUFPRDtZQUNqQ0EsVUFBVUMsS0FBS04sVUFBVTtRQUM3QjtRQUNBLE9BQU9HLE9BQU9LLE1BQU07SUFDeEI7QUFDSjtBQUNBLE1BQU1uQjtJQUNGekksYUFBYztRQUNWLElBQUksQ0FBQzhJLE9BQU8sR0FBRyxJQUFJMUcsUUFBUSxDQUFDYSxTQUFTWixTQUFXLEVBQUMsSUFBSSxDQUFDd0gsU0FBUyxFQUFFLElBQUksQ0FBQ0MsU0FBUyxDQUFDLEdBQUc7Z0JBQUM3RztnQkFBU1o7YUFBTztJQUN4RztJQUNBWSxVQUFVO1FBQ04sSUFBSSxDQUFDNEcsU0FBUztJQUNsQjtJQUNBeEgsT0FBTzBILE1BQU0sRUFBRTtRQUNYLElBQUksQ0FBQ0QsU0FBUyxDQUFDQztJQUNuQjtBQUNKLEVBQ0EsMENBQTBDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLXNvY2tldHMtY2hhdC1jbGllbnQtYXBwLy4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvc2lnbmFsci9kaXN0L2VzbS9IdHRwQ29ubmVjdGlvbi5qcz9iYzNjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuaW1wb3J0IHsgQWNjZXNzVG9rZW5IdHRwQ2xpZW50IH0gZnJvbSBcIi4vQWNjZXNzVG9rZW5IdHRwQ2xpZW50XCI7XHJcbmltcG9ydCB7IERlZmF1bHRIdHRwQ2xpZW50IH0gZnJvbSBcIi4vRGVmYXVsdEh0dHBDbGllbnRcIjtcclxuaW1wb3J0IHsgZ2V0RXZlbnRTb3VyY2UsIGdldFdTIH0gZnJvbSBcIi4vRHluYW1pY0ltcG9ydHNcIjtcclxuaW1wb3J0IHsgQWdncmVnYXRlRXJyb3JzLCBEaXNhYmxlZFRyYW5zcG9ydEVycm9yLCBGYWlsZWRUb05lZ290aWF0ZVdpdGhTZXJ2ZXJFcnJvciwgRmFpbGVkVG9TdGFydFRyYW5zcG9ydEVycm9yLCBIdHRwRXJyb3IsIFVuc3VwcG9ydGVkVHJhbnNwb3J0RXJyb3IsIEFib3J0RXJyb3IgfSBmcm9tIFwiLi9FcnJvcnNcIjtcclxuaW1wb3J0IHsgTG9nTGV2ZWwgfSBmcm9tIFwiLi9JTG9nZ2VyXCI7XHJcbmltcG9ydCB7IEh0dHBUcmFuc3BvcnRUeXBlLCBUcmFuc2ZlckZvcm1hdCB9IGZyb20gXCIuL0lUcmFuc3BvcnRcIjtcclxuaW1wb3J0IHsgTG9uZ1BvbGxpbmdUcmFuc3BvcnQgfSBmcm9tIFwiLi9Mb25nUG9sbGluZ1RyYW5zcG9ydFwiO1xyXG5pbXBvcnQgeyBTZXJ2ZXJTZW50RXZlbnRzVHJhbnNwb3J0IH0gZnJvbSBcIi4vU2VydmVyU2VudEV2ZW50c1RyYW5zcG9ydFwiO1xyXG5pbXBvcnQgeyBBcmcsIGNyZWF0ZUxvZ2dlciwgZ2V0VXNlckFnZW50SGVhZGVyLCBQbGF0Zm9ybSB9IGZyb20gXCIuL1V0aWxzXCI7XHJcbmltcG9ydCB7IFdlYlNvY2tldFRyYW5zcG9ydCB9IGZyb20gXCIuL1dlYlNvY2tldFRyYW5zcG9ydFwiO1xyXG5jb25zdCBNQVhfUkVESVJFQ1RTID0gMTAwO1xyXG4vKiogQHByaXZhdGUgKi9cclxuZXhwb3J0IGNsYXNzIEh0dHBDb25uZWN0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHVybCwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgdGhpcy5fc3RvcFByb21pc2VSZXNvbHZlciA9ICgpID0+IHsgfTtcclxuICAgICAgICB0aGlzLmZlYXR1cmVzID0ge307XHJcbiAgICAgICAgdGhpcy5fbmVnb3RpYXRlVmVyc2lvbiA9IDE7XHJcbiAgICAgICAgQXJnLmlzUmVxdWlyZWQodXJsLCBcInVybFwiKTtcclxuICAgICAgICB0aGlzLl9sb2dnZXIgPSBjcmVhdGVMb2dnZXIob3B0aW9ucy5sb2dnZXIpO1xyXG4gICAgICAgIHRoaXMuYmFzZVVybCA9IHRoaXMuX3Jlc29sdmVVcmwodXJsKTtcclxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuICAgICAgICBvcHRpb25zLmxvZ01lc3NhZ2VDb250ZW50ID0gb3B0aW9ucy5sb2dNZXNzYWdlQ29udGVudCA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBvcHRpb25zLmxvZ01lc3NhZ2VDb250ZW50O1xyXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53aXRoQ3JlZGVudGlhbHMgPT09IFwiYm9vbGVhblwiIHx8IG9wdGlvbnMud2l0aENyZWRlbnRpYWxzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy53aXRoQ3JlZGVudGlhbHMgPSBvcHRpb25zLndpdGhDcmVkZW50aWFscyA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IG9wdGlvbnMud2l0aENyZWRlbnRpYWxzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwid2l0aENyZWRlbnRpYWxzIG9wdGlvbiB3YXMgbm90IGEgJ2Jvb2xlYW4nIG9yICd1bmRlZmluZWQnIHZhbHVlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvcHRpb25zLnRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQgPT09IHVuZGVmaW5lZCA/IDEwMCAqIDEwMDAgOiBvcHRpb25zLnRpbWVvdXQ7XHJcbiAgICAgICAgbGV0IHdlYlNvY2tldE1vZHVsZSA9IG51bGw7XHJcbiAgICAgICAgbGV0IGV2ZW50U291cmNlTW9kdWxlID0gbnVsbDtcclxuICAgICAgICBpZiAoUGxhdGZvcm0uaXNOb2RlICYmIHR5cGVvZiByZXF1aXJlICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIHdlYlNvY2tldE1vZHVsZSA9IGdldFdTKCk7XHJcbiAgICAgICAgICAgIGV2ZW50U291cmNlTW9kdWxlID0gZ2V0RXZlbnRTb3VyY2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFQbGF0Zm9ybS5pc05vZGUgJiYgdHlwZW9mIFdlYlNvY2tldCAhPT0gXCJ1bmRlZmluZWRcIiAmJiAhb3B0aW9ucy5XZWJTb2NrZXQpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5XZWJTb2NrZXQgPSBXZWJTb2NrZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKFBsYXRmb3JtLmlzTm9kZSAmJiAhb3B0aW9ucy5XZWJTb2NrZXQpIHtcclxuICAgICAgICAgICAgaWYgKHdlYlNvY2tldE1vZHVsZSkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5XZWJTb2NrZXQgPSB3ZWJTb2NrZXRNb2R1bGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFQbGF0Zm9ybS5pc05vZGUgJiYgdHlwZW9mIEV2ZW50U291cmNlICE9PSBcInVuZGVmaW5lZFwiICYmICFvcHRpb25zLkV2ZW50U291cmNlKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuRXZlbnRTb3VyY2UgPSBFdmVudFNvdXJjZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoUGxhdGZvcm0uaXNOb2RlICYmICFvcHRpb25zLkV2ZW50U291cmNlKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnRTb3VyY2VNb2R1bGUgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuRXZlbnRTb3VyY2UgPSBldmVudFNvdXJjZU1vZHVsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9odHRwQ2xpZW50ID0gbmV3IEFjY2Vzc1Rva2VuSHR0cENsaWVudChvcHRpb25zLmh0dHBDbGllbnQgfHwgbmV3IERlZmF1bHRIdHRwQ2xpZW50KHRoaXMuX2xvZ2dlciksIG9wdGlvbnMuYWNjZXNzVG9rZW5GYWN0b3J5KTtcclxuICAgICAgICB0aGlzLl9jb25uZWN0aW9uU3RhdGUgPSBcIkRpc2Nvbm5lY3RlZFwiIC8qIENvbm5lY3Rpb25TdGF0ZS5EaXNjb25uZWN0ZWQgKi87XHJcbiAgICAgICAgdGhpcy5fY29ubmVjdGlvblN0YXJ0ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICB0aGlzLm9ucmVjZWl2ZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5vbmNsb3NlID0gbnVsbDtcclxuICAgIH1cclxuICAgIGFzeW5jIHN0YXJ0KHRyYW5zZmVyRm9ybWF0KSB7XHJcbiAgICAgICAgdHJhbnNmZXJGb3JtYXQgPSB0cmFuc2ZlckZvcm1hdCB8fCBUcmFuc2ZlckZvcm1hdC5CaW5hcnk7XHJcbiAgICAgICAgQXJnLmlzSW4odHJhbnNmZXJGb3JtYXQsIFRyYW5zZmVyRm9ybWF0LCBcInRyYW5zZmVyRm9ybWF0XCIpO1xyXG4gICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIGBTdGFydGluZyBjb25uZWN0aW9uIHdpdGggdHJhbnNmZXIgZm9ybWF0ICcke1RyYW5zZmVyRm9ybWF0W3RyYW5zZmVyRm9ybWF0XX0nLmApO1xyXG4gICAgICAgIGlmICh0aGlzLl9jb25uZWN0aW9uU3RhdGUgIT09IFwiRGlzY29ubmVjdGVkXCIgLyogQ29ubmVjdGlvblN0YXRlLkRpc2Nvbm5lY3RlZCAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiQ2Fubm90IHN0YXJ0IGFuIEh0dHBDb25uZWN0aW9uIHRoYXQgaXMgbm90IGluIHRoZSAnRGlzY29ubmVjdGVkJyBzdGF0ZS5cIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9jb25uZWN0aW9uU3RhdGUgPSBcIkNvbm5lY3RpbmdcIiAvKiBDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGluZyAqLztcclxuICAgICAgICB0aGlzLl9zdGFydEludGVybmFsUHJvbWlzZSA9IHRoaXMuX3N0YXJ0SW50ZXJuYWwodHJhbnNmZXJGb3JtYXQpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuX3N0YXJ0SW50ZXJuYWxQcm9taXNlO1xyXG4gICAgICAgIC8vIFRoZSBUeXBlU2NyaXB0IGNvbXBpbGVyIHRoaW5rcyB0aGF0IGNvbm5lY3Rpb25TdGF0ZSBtdXN0IGJlIENvbm5lY3RpbmcgaGVyZS4gVGhlIFR5cGVTY3JpcHQgY29tcGlsZXIgaXMgd3JvbmcuXHJcbiAgICAgICAgaWYgKHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZSA9PT0gXCJEaXNjb25uZWN0aW5nXCIgLyogQ29ubmVjdGlvblN0YXRlLkRpc2Nvbm5lY3RpbmcgKi8pIHtcclxuICAgICAgICAgICAgLy8gc3RvcCgpIHdhcyBjYWxsZWQgYW5kIHRyYW5zaXRpb25lZCB0aGUgY2xpZW50IGludG8gdGhlIERpc2Nvbm5lY3Rpbmcgc3RhdGUuXHJcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBcIkZhaWxlZCB0byBzdGFydCB0aGUgSHR0cENvbm5lY3Rpb24gYmVmb3JlIHN0b3AoKSB3YXMgY2FsbGVkLlwiO1xyXG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkVycm9yLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgLy8gV2UgY2Fubm90IGF3YWl0IHN0b3BQcm9taXNlIGluc2lkZSBzdGFydEludGVybmFsIHNpbmNlIHN0b3BJbnRlcm5hbCBhd2FpdHMgdGhlIHN0YXJ0SW50ZXJuYWxQcm9taXNlLlxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9zdG9wUHJvbWlzZTtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBBYm9ydEVycm9yKG1lc3NhZ2UpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5fY29ubmVjdGlvblN0YXRlICE9PSBcIkNvbm5lY3RlZFwiIC8qIENvbm5lY3Rpb25TdGF0ZS5Db25uZWN0ZWQgKi8pIHtcclxuICAgICAgICAgICAgLy8gc3RvcCgpIHdhcyBjYWxsZWQgYW5kIHRyYW5zaXRpb25lZCB0aGUgY2xpZW50IGludG8gdGhlIERpc2Nvbm5lY3Rpbmcgc3RhdGUuXHJcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBcIkh0dHBDb25uZWN0aW9uLnN0YXJ0SW50ZXJuYWwgY29tcGxldGVkIGdyYWNlZnVsbHkgYnV0IGRpZG4ndCBlbnRlciB0aGUgY29ubmVjdGlvbiBpbnRvIHRoZSBjb25uZWN0ZWQgc3RhdGUhXCI7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuRXJyb3IsIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEFib3J0RXJyb3IobWVzc2FnZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9jb25uZWN0aW9uU3RhcnRlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBzZW5kKGRhdGEpIHtcclxuICAgICAgICBpZiAodGhpcy5fY29ubmVjdGlvblN0YXRlICE9PSBcIkNvbm5lY3RlZFwiIC8qIENvbm5lY3Rpb25TdGF0ZS5Db25uZWN0ZWQgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkNhbm5vdCBzZW5kIGRhdGEgaWYgdGhlIGNvbm5lY3Rpb24gaXMgbm90IGluIHRoZSAnQ29ubmVjdGVkJyBTdGF0ZS5cIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuX3NlbmRRdWV1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zZW5kUXVldWUgPSBuZXcgVHJhbnNwb3J0U2VuZFF1ZXVlKHRoaXMudHJhbnNwb3J0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVHJhbnNwb3J0IHdpbGwgbm90IGJlIG51bGwgaWYgc3RhdGUgaXMgY29ubmVjdGVkXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRRdWV1ZS5zZW5kKGRhdGEpO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgc3RvcChlcnJvcikge1xyXG4gICAgICAgIGlmICh0aGlzLl9jb25uZWN0aW9uU3RhdGUgPT09IFwiRGlzY29ubmVjdGVkXCIgLyogQ29ubmVjdGlvblN0YXRlLkRpc2Nvbm5lY3RlZCAqLykge1xyXG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkRlYnVnLCBgQ2FsbCB0byBIdHRwQ29ubmVjdGlvbi5zdG9wKCR7ZXJyb3J9KSBpZ25vcmVkIGJlY2F1c2UgdGhlIGNvbm5lY3Rpb24gaXMgYWxyZWFkeSBpbiB0aGUgZGlzY29ubmVjdGVkIHN0YXRlLmApO1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9jb25uZWN0aW9uU3RhdGUgPT09IFwiRGlzY29ubmVjdGluZ1wiIC8qIENvbm5lY3Rpb25TdGF0ZS5EaXNjb25uZWN0aW5nICovKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIGBDYWxsIHRvIEh0dHBDb25uZWN0aW9uLnN0b3AoJHtlcnJvcn0pIGlnbm9yZWQgYmVjYXVzZSB0aGUgY29ubmVjdGlvbiBpcyBhbHJlYWR5IGluIHRoZSBkaXNjb25uZWN0aW5nIHN0YXRlLmApO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RvcFByb21pc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZSA9IFwiRGlzY29ubmVjdGluZ1wiIC8qIENvbm5lY3Rpb25TdGF0ZS5EaXNjb25uZWN0aW5nICovO1xyXG4gICAgICAgIHRoaXMuX3N0b3BQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgLy8gRG9uJ3QgY29tcGxldGUgc3RvcCgpIHVudGlsIHN0b3BDb25uZWN0aW9uKCkgY29tcGxldGVzLlxyXG4gICAgICAgICAgICB0aGlzLl9zdG9wUHJvbWlzZVJlc29sdmVyID0gcmVzb2x2ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBzdG9wSW50ZXJuYWwgc2hvdWxkIG5ldmVyIHRocm93IHNvIGp1c3Qgb2JzZXJ2ZSBpdC5cclxuICAgICAgICBhd2FpdCB0aGlzLl9zdG9wSW50ZXJuYWwoZXJyb3IpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuX3N0b3BQcm9taXNlO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgX3N0b3BJbnRlcm5hbChlcnJvcikge1xyXG4gICAgICAgIC8vIFNldCBlcnJvciBhcyBzb29uIGFzIHBvc3NpYmxlIG90aGVyd2lzZSB0aGVyZSBpcyBhIHJhY2UgYmV0d2VlblxyXG4gICAgICAgIC8vIHRoZSB0cmFuc3BvcnQgY2xvc2luZyBhbmQgcHJvdmlkaW5nIGFuIGVycm9yIGFuZCB0aGUgZXJyb3IgZnJvbSBhIGNsb3NlIG1lc3NhZ2VcclxuICAgICAgICAvLyBXZSB3b3VsZCBwcmVmZXIgdGhlIGNsb3NlIG1lc3NhZ2UgZXJyb3IuXHJcbiAgICAgICAgdGhpcy5fc3RvcEVycm9yID0gZXJyb3I7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5fc3RhcnRJbnRlcm5hbFByb21pc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIC8vIFRoaXMgZXhjZXB0aW9uIGlzIHJldHVybmVkIHRvIHRoZSB1c2VyIGFzIGEgcmVqZWN0ZWQgUHJvbWlzZSBmcm9tIHRoZSBzdGFydCBtZXRob2QuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRoZSB0cmFuc3BvcnQncyBvbmNsb3NlIHdpbGwgdHJpZ2dlciBzdG9wQ29ubmVjdGlvbiB3aGljaCB3aWxsIHJ1biBvdXIgb25jbG9zZSBldmVudC5cclxuICAgICAgICAvLyBUaGUgdHJhbnNwb3J0IHNob3VsZCBhbHdheXMgYmUgc2V0IGlmIGN1cnJlbnRseSBjb25uZWN0ZWQuIElmIGl0IHdhc24ndCBzZXQsIGl0J3MgbGlrZWx5IGJlY2F1c2VcclxuICAgICAgICAvLyBzdG9wIHdhcyBjYWxsZWQgZHVyaW5nIHN0YXJ0KCkgYW5kIHN0YXJ0KCkgZmFpbGVkLlxyXG4gICAgICAgIGlmICh0aGlzLnRyYW5zcG9ydCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50cmFuc3BvcnQuc3RvcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkVycm9yLCBgSHR0cENvbm5lY3Rpb24udHJhbnNwb3J0LnN0b3AoKSB0aHJldyBlcnJvciAnJHtlfScuYCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdG9wQ29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5EZWJ1ZywgXCJIdHRwQ29ubmVjdGlvbi50cmFuc3BvcnQgaXMgdW5kZWZpbmVkIGluIEh0dHBDb25uZWN0aW9uLnN0b3AoKSBiZWNhdXNlIHN0YXJ0KCkgZmFpbGVkLlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhc3luYyBfc3RhcnRJbnRlcm5hbCh0cmFuc2ZlckZvcm1hdCkge1xyXG4gICAgICAgIC8vIFN0b3JlIHRoZSBvcmlnaW5hbCBiYXNlIHVybCBhbmQgdGhlIGFjY2VzcyB0b2tlbiBmYWN0b3J5IHNpbmNlIHRoZXkgbWF5IGNoYW5nZVxyXG4gICAgICAgIC8vIGFzIHBhcnQgb2YgbmVnb3RpYXRpbmdcclxuICAgICAgICBsZXQgdXJsID0gdGhpcy5iYXNlVXJsO1xyXG4gICAgICAgIHRoaXMuX2FjY2Vzc1Rva2VuRmFjdG9yeSA9IHRoaXMuX29wdGlvbnMuYWNjZXNzVG9rZW5GYWN0b3J5O1xyXG4gICAgICAgIHRoaXMuX2h0dHBDbGllbnQuX2FjY2Vzc1Rva2VuRmFjdG9yeSA9IHRoaXMuX2FjY2Vzc1Rva2VuRmFjdG9yeTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5za2lwTmVnb3RpYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnRyYW5zcG9ydCA9PT0gSHR0cFRyYW5zcG9ydFR5cGUuV2ViU29ja2V0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gYWRkIGEgY29ubmVjdGlvbiBJRCBpbiB0aGlzIGNhc2VcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zcG9ydCA9IHRoaXMuX2NvbnN0cnVjdFRyYW5zcG9ydChIdHRwVHJhbnNwb3J0VHlwZS5XZWJTb2NrZXRzKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBzaG91bGQganVzdCBjYWxsIGNvbm5lY3QgZGlyZWN0bHkgaW4gdGhpcyBjYXNlLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIGZhbGxiYWNrIG9yIG5lZ290aWF0ZSBpbiB0aGlzIGNhc2UuXHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fc3RhcnRUcmFuc3BvcnQodXJsLCB0cmFuc2ZlckZvcm1hdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOZWdvdGlhdGlvbiBjYW4gb25seSBiZSBza2lwcGVkIHdoZW4gdXNpbmcgdGhlIFdlYlNvY2tldCB0cmFuc3BvcnQgZGlyZWN0bHkuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5lZ290aWF0ZVJlc3BvbnNlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGxldCByZWRpcmVjdHMgPSAwO1xyXG4gICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICAgIG5lZ290aWF0ZVJlc3BvbnNlID0gYXdhaXQgdGhpcy5fZ2V0TmVnb3RpYXRpb25SZXNwb25zZSh1cmwpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSB1c2VyIHRyaWVzIHRvIHN0b3AgdGhlIGNvbm5lY3Rpb24gd2hlbiBpdCBpcyBiZWluZyBzdGFydGVkXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZSA9PT0gXCJEaXNjb25uZWN0aW5nXCIgLyogQ29ubmVjdGlvblN0YXRlLkRpc2Nvbm5lY3RpbmcgKi8gfHwgdGhpcy5fY29ubmVjdGlvblN0YXRlID09PSBcIkRpc2Nvbm5lY3RlZFwiIC8qIENvbm5lY3Rpb25TdGF0ZS5EaXNjb25uZWN0ZWQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFib3J0RXJyb3IoXCJUaGUgY29ubmVjdGlvbiB3YXMgc3RvcHBlZCBkdXJpbmcgbmVnb3RpYXRpb24uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAobmVnb3RpYXRlUmVzcG9uc2UuZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG5lZ290aWF0ZVJlc3BvbnNlLmVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5lZ290aWF0ZVJlc3BvbnNlLlByb3RvY29sVmVyc2lvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEZXRlY3RlZCBhIGNvbm5lY3Rpb24gYXR0ZW1wdCB0byBhbiBBU1AuTkVUIFNpZ25hbFIgU2VydmVyLiBUaGlzIGNsaWVudCBvbmx5IHN1cHBvcnRzIGNvbm5lY3RpbmcgdG8gYW4gQVNQLk5FVCBDb3JlIFNpZ25hbFIgU2VydmVyLiBTZWUgaHR0cHM6Ly9ha2EubXMvc2lnbmFsci1jb3JlLWRpZmZlcmVuY2VzIGZvciBkZXRhaWxzLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5lZ290aWF0ZVJlc3BvbnNlLnVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBuZWdvdGlhdGVSZXNwb25zZS51cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZWdvdGlhdGVSZXNwb25zZS5hY2Nlc3NUb2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIHRoZSBjdXJyZW50IGFjY2VzcyB0b2tlbiBmYWN0b3J5IHdpdGggb25lIHRoYXQgdXNlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcmV0dXJuZWQgYWNjZXNzIHRva2VuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gbmVnb3RpYXRlUmVzcG9uc2UuYWNjZXNzVG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FjY2Vzc1Rva2VuRmFjdG9yeSA9ICgpID0+IGFjY2Vzc1Rva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIGZhY3RvcnkgdG8gdW5kZWZpbmVkIHNvIHRoZSBBY2Nlc3NUb2tlbkh0dHBDbGllbnQgd29uJ3QgcmV0cnkgd2l0aCB0aGUgc2FtZSB0b2tlbiwgc2luY2Ugd2Uga25vdyBpdCB3b24ndCBjaGFuZ2UgdW50aWwgYSBjb25uZWN0aW9uIHJlc3RhcnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faHR0cENsaWVudC5fYWNjZXNzVG9rZW4gPSBhY2Nlc3NUb2tlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faHR0cENsaWVudC5fYWNjZXNzVG9rZW5GYWN0b3J5ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZWRpcmVjdHMrKztcclxuICAgICAgICAgICAgICAgIH0gd2hpbGUgKG5lZ290aWF0ZVJlc3BvbnNlLnVybCAmJiByZWRpcmVjdHMgPCBNQVhfUkVESVJFQ1RTKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZWRpcmVjdHMgPT09IE1BWF9SRURJUkVDVFMgJiYgbmVnb3RpYXRlUmVzcG9uc2UudXJsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTmVnb3RpYXRlIHJlZGlyZWN0aW9uIGxpbWl0IGV4Y2VlZGVkLlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX2NyZWF0ZVRyYW5zcG9ydCh1cmwsIHRoaXMuX29wdGlvbnMudHJhbnNwb3J0LCBuZWdvdGlhdGVSZXNwb25zZSwgdHJhbnNmZXJGb3JtYXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zcG9ydCBpbnN0YW5jZW9mIExvbmdQb2xsaW5nVHJhbnNwb3J0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZlYXR1cmVzLmluaGVyZW50S2VlcEFsaXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fY29ubmVjdGlvblN0YXRlID09PSBcIkNvbm5lY3RpbmdcIiAvKiBDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGluZyAqLykge1xyXG4gICAgICAgICAgICAgICAgLy8gRW5zdXJlIHRoZSBjb25uZWN0aW9uIHRyYW5zaXRpb25zIHRvIHRoZSBjb25uZWN0ZWQgc3RhdGUgcHJpb3IgdG8gY29tcGxldGluZyB0aGlzLnN0YXJ0SW50ZXJuYWxQcm9taXNlLlxyXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQoKSB3aWxsIGhhbmRsZSB0aGUgY2FzZSB3aGVuIHN0b3Agd2FzIGNhbGxlZCBhbmQgc3RhcnRJbnRlcm5hbCBleGl0cyBzdGlsbCBpbiB0aGUgZGlzY29ubmVjdGluZyBzdGF0ZS5cclxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIFwiVGhlIEh0dHBDb25uZWN0aW9uIGNvbm5lY3RlZCBzdWNjZXNzZnVsbHkuXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY29ubmVjdGlvblN0YXRlID0gXCJDb25uZWN0ZWRcIiAvKiBDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGVkICovO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHN0b3AoKSBpcyB3YWl0aW5nIG9uIHVzIHZpYSB0aGlzLnN0YXJ0SW50ZXJuYWxQcm9taXNlIHNvIGtlZXAgdGhpcy50cmFuc3BvcnQgYXJvdW5kIHNvIGl0IGNhbiBjbGVhbiB1cC5cclxuICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgb25seSBjYXNlIHN0YXJ0SW50ZXJuYWwgY2FuIGV4aXQgaW4gbmVpdGhlciB0aGUgY29ubmVjdGVkIG5vciBkaXNjb25uZWN0ZWQgc3RhdGUgYmVjYXVzZSBzdG9wQ29ubmVjdGlvbigpXHJcbiAgICAgICAgICAgIC8vIHdpbGwgdHJhbnNpdGlvbiB0byB0aGUgZGlzY29ubmVjdGVkIHN0YXRlLiBzdGFydCgpIHdpbGwgd2FpdCBmb3IgdGhlIHRyYW5zaXRpb24gdXNpbmcgdGhlIHN0b3BQcm9taXNlLlxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkVycm9yLCBcIkZhaWxlZCB0byBzdGFydCB0aGUgY29ubmVjdGlvbjogXCIgKyBlKTtcclxuICAgICAgICAgICAgdGhpcy5fY29ubmVjdGlvblN0YXRlID0gXCJEaXNjb25uZWN0ZWRcIiAvKiBDb25uZWN0aW9uU3RhdGUuRGlzY29ubmVjdGVkICovO1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgLy8gaWYgc3RhcnQgZmFpbHMsIGFueSBhY3RpdmUgY2FsbHMgdG8gc3RvcCBhc3N1bWUgdGhhdCBzdGFydCB3aWxsIGNvbXBsZXRlIHRoZSBzdG9wIHByb21pc2VcclxuICAgICAgICAgICAgdGhpcy5fc3RvcFByb21pc2VSZXNvbHZlcigpO1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYXN5bmMgX2dldE5lZ290aWF0aW9uUmVzcG9uc2UodXJsKSB7XHJcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHt9O1xyXG4gICAgICAgIGNvbnN0IFtuYW1lLCB2YWx1ZV0gPSBnZXRVc2VyQWdlbnRIZWFkZXIoKTtcclxuICAgICAgICBoZWFkZXJzW25hbWVdID0gdmFsdWU7XHJcbiAgICAgICAgY29uc3QgbmVnb3RpYXRlVXJsID0gdGhpcy5fcmVzb2x2ZU5lZ290aWF0ZVVybCh1cmwpO1xyXG4gICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIGBTZW5kaW5nIG5lZ290aWF0aW9uIHJlcXVlc3Q6ICR7bmVnb3RpYXRlVXJsfS5gKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuX2h0dHBDbGllbnQucG9zdChuZWdvdGlhdGVVcmwsIHtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IC4uLmhlYWRlcnMsIC4uLnRoaXMuX29wdGlvbnMuaGVhZGVycyB9LFxyXG4gICAgICAgICAgICAgICAgdGltZW91dDogdGhpcy5fb3B0aW9ucy50aW1lb3V0LFxyXG4gICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0aGlzLl9vcHRpb25zLndpdGhDcmVkZW50aWFscyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlICE9PSAyMDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgc3RhdHVzIGNvZGUgcmV0dXJuZWQgZnJvbSBuZWdvdGlhdGUgJyR7cmVzcG9uc2Uuc3RhdHVzQ29kZX0nYCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG5lZ290aWF0ZVJlc3BvbnNlID0gSlNPTi5wYXJzZShyZXNwb25zZS5jb250ZW50KTtcclxuICAgICAgICAgICAgaWYgKCFuZWdvdGlhdGVSZXNwb25zZS5uZWdvdGlhdGVWZXJzaW9uIHx8IG5lZ290aWF0ZVJlc3BvbnNlLm5lZ290aWF0ZVZlcnNpb24gPCAxKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBOZWdvdGlhdGUgdmVyc2lvbiAwIGRvZXNuJ3QgdXNlIGNvbm5lY3Rpb25Ub2tlblxyXG4gICAgICAgICAgICAgICAgLy8gU28gd2Ugc2V0IGl0IGVxdWFsIHRvIGNvbm5lY3Rpb25JZCBzbyBhbGwgb3VyIGxvZ2ljIGNhbiB1c2UgY29ubmVjdGlvblRva2VuIHdpdGhvdXQgYmVpbmcgYXdhcmUgb2YgdGhlIG5lZ290aWF0ZSB2ZXJzaW9uXHJcbiAgICAgICAgICAgICAgICBuZWdvdGlhdGVSZXNwb25zZS5jb25uZWN0aW9uVG9rZW4gPSBuZWdvdGlhdGVSZXNwb25zZS5jb25uZWN0aW9uSWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG5lZ290aWF0ZVJlc3BvbnNlLnVzZVN0YXRlZnVsUmVjb25uZWN0ICYmIHRoaXMuX29wdGlvbnMuX3VzZVN0YXRlZnVsUmVjb25uZWN0ICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEZhaWxlZFRvTmVnb3RpYXRlV2l0aFNlcnZlckVycm9yKFwiQ2xpZW50IGRpZG4ndCBuZWdvdGlhdGUgU3RhdGVmdWwgUmVjb25uZWN0IGJ1dCB0aGUgc2VydmVyIGRpZC5cIikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBuZWdvdGlhdGVSZXNwb25zZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IFwiRmFpbGVkIHRvIGNvbXBsZXRlIG5lZ290aWF0aW9uIHdpdGggdGhlIHNlcnZlcjogXCIgKyBlO1xyXG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEh0dHBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUuc3RhdHVzQ29kZSA9PT0gNDA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3JNZXNzYWdlICsgXCIgRWl0aGVyIHRoaXMgaXMgbm90IGEgU2lnbmFsUiBlbmRwb2ludCBvciB0aGVyZSBpcyBhIHByb3h5IGJsb2NraW5nIHRoZSBjb25uZWN0aW9uLlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuRXJyb3IsIGVycm9yTWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRmFpbGVkVG9OZWdvdGlhdGVXaXRoU2VydmVyRXJyb3IoZXJyb3JNZXNzYWdlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2NyZWF0ZUNvbm5lY3RVcmwodXJsLCBjb25uZWN0aW9uVG9rZW4pIHtcclxuICAgICAgICBpZiAoIWNvbm5lY3Rpb25Ub2tlbikge1xyXG4gICAgICAgICAgICByZXR1cm4gdXJsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdXJsICsgKHVybC5pbmRleE9mKFwiP1wiKSA9PT0gLTEgPyBcIj9cIiA6IFwiJlwiKSArIGBpZD0ke2Nvbm5lY3Rpb25Ub2tlbn1gO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgX2NyZWF0ZVRyYW5zcG9ydCh1cmwsIHJlcXVlc3RlZFRyYW5zcG9ydCwgbmVnb3RpYXRlUmVzcG9uc2UsIHJlcXVlc3RlZFRyYW5zZmVyRm9ybWF0KSB7XHJcbiAgICAgICAgbGV0IGNvbm5lY3RVcmwgPSB0aGlzLl9jcmVhdGVDb25uZWN0VXJsKHVybCwgbmVnb3RpYXRlUmVzcG9uc2UuY29ubmVjdGlvblRva2VuKTtcclxuICAgICAgICBpZiAodGhpcy5faXNJVHJhbnNwb3J0KHJlcXVlc3RlZFRyYW5zcG9ydCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5EZWJ1ZywgXCJDb25uZWN0aW9uIHdhcyBwcm92aWRlZCBhbiBpbnN0YW5jZSBvZiBJVHJhbnNwb3J0LCB1c2luZyB0aGF0IGRpcmVjdGx5LlwiKTtcclxuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQgPSByZXF1ZXN0ZWRUcmFuc3BvcnQ7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3N0YXJ0VHJhbnNwb3J0KGNvbm5lY3RVcmwsIHJlcXVlc3RlZFRyYW5zZmVyRm9ybWF0KTtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uSWQgPSBuZWdvdGlhdGVSZXNwb25zZS5jb25uZWN0aW9uSWQ7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdHJhbnNwb3J0RXhjZXB0aW9ucyA9IFtdO1xyXG4gICAgICAgIGNvbnN0IHRyYW5zcG9ydHMgPSBuZWdvdGlhdGVSZXNwb25zZS5hdmFpbGFibGVUcmFuc3BvcnRzIHx8IFtdO1xyXG4gICAgICAgIGxldCBuZWdvdGlhdGUgPSBuZWdvdGlhdGVSZXNwb25zZTtcclxuICAgICAgICBmb3IgKGNvbnN0IGVuZHBvaW50IG9mIHRyYW5zcG9ydHMpIHtcclxuICAgICAgICAgICAgY29uc3QgdHJhbnNwb3J0T3JFcnJvciA9IHRoaXMuX3Jlc29sdmVUcmFuc3BvcnRPckVycm9yKGVuZHBvaW50LCByZXF1ZXN0ZWRUcmFuc3BvcnQsIHJlcXVlc3RlZFRyYW5zZmVyRm9ybWF0LCAobmVnb3RpYXRlID09PSBudWxsIHx8IG5lZ290aWF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbmVnb3RpYXRlLnVzZVN0YXRlZnVsUmVjb25uZWN0KSA9PT0gdHJ1ZSk7XHJcbiAgICAgICAgICAgIGlmICh0cmFuc3BvcnRPckVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBlcnJvciBhbmQgY29udGludWUsIHdlIGRvbid0IHdhbnQgdG8gY2F1c2UgYSByZS1uZWdvdGlhdGUgaW4gdGhlc2UgY2FzZXNcclxuICAgICAgICAgICAgICAgIHRyYW5zcG9ydEV4Y2VwdGlvbnMucHVzaChgJHtlbmRwb2ludC50cmFuc3BvcnR9IGZhaWxlZDpgKTtcclxuICAgICAgICAgICAgICAgIHRyYW5zcG9ydEV4Y2VwdGlvbnMucHVzaCh0cmFuc3BvcnRPckVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9pc0lUcmFuc3BvcnQodHJhbnNwb3J0T3JFcnJvcikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0T3JFcnJvcjtcclxuICAgICAgICAgICAgICAgIGlmICghbmVnb3RpYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmVnb3RpYXRlID0gYXdhaXQgdGhpcy5fZ2V0TmVnb3RpYXRpb25SZXNwb25zZSh1cmwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGV4KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdFVybCA9IHRoaXMuX2NyZWF0ZUNvbm5lY3RVcmwodXJsLCBuZWdvdGlhdGUuY29ubmVjdGlvblRva2VuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fc3RhcnRUcmFuc3BvcnQoY29ubmVjdFVybCwgcmVxdWVzdGVkVHJhbnNmZXJGb3JtYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbklkID0gbmVnb3RpYXRlLmNvbm5lY3Rpb25JZDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkVycm9yLCBgRmFpbGVkIHRvIHN0YXJ0IHRoZSB0cmFuc3BvcnQgJyR7ZW5kcG9pbnQudHJhbnNwb3J0fSc6ICR7ZXh9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmVnb3RpYXRlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydEV4Y2VwdGlvbnMucHVzaChuZXcgRmFpbGVkVG9TdGFydFRyYW5zcG9ydEVycm9yKGAke2VuZHBvaW50LnRyYW5zcG9ydH0gZmFpbGVkOiAke2V4fWAsIEh0dHBUcmFuc3BvcnRUeXBlW2VuZHBvaW50LnRyYW5zcG9ydF0pKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29ubmVjdGlvblN0YXRlICE9PSBcIkNvbm5lY3RpbmdcIiAvKiBDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGluZyAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gXCJGYWlsZWQgdG8gc2VsZWN0IHRyYW5zcG9ydCBiZWZvcmUgc3RvcCgpIHdhcyBjYWxsZWQuXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEFib3J0RXJyb3IobWVzc2FnZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHJhbnNwb3J0RXhjZXB0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgQWdncmVnYXRlRXJyb3JzKGBVbmFibGUgdG8gY29ubmVjdCB0byB0aGUgc2VydmVyIHdpdGggYW55IG9mIHRoZSBhdmFpbGFibGUgdHJhbnNwb3J0cy4gJHt0cmFuc3BvcnRFeGNlcHRpb25zLmpvaW4oXCIgXCIpfWAsIHRyYW5zcG9ydEV4Y2VwdGlvbnMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vbmUgb2YgdGhlIHRyYW5zcG9ydHMgc3VwcG9ydGVkIGJ5IHRoZSBjbGllbnQgYXJlIHN1cHBvcnRlZCBieSB0aGUgc2VydmVyLlwiKSk7XHJcbiAgICB9XHJcbiAgICBfY29uc3RydWN0VHJhbnNwb3J0KHRyYW5zcG9ydCkge1xyXG4gICAgICAgIHN3aXRjaCAodHJhbnNwb3J0KSB7XHJcbiAgICAgICAgICAgIGNhc2UgSHR0cFRyYW5zcG9ydFR5cGUuV2ViU29ja2V0czpcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fb3B0aW9ucy5XZWJTb2NrZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCInV2ViU29ja2V0JyBpcyBub3Qgc3VwcG9ydGVkIGluIHlvdXIgZW52aXJvbm1lbnQuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBXZWJTb2NrZXRUcmFuc3BvcnQodGhpcy5faHR0cENsaWVudCwgdGhpcy5fYWNjZXNzVG9rZW5GYWN0b3J5LCB0aGlzLl9sb2dnZXIsIHRoaXMuX29wdGlvbnMubG9nTWVzc2FnZUNvbnRlbnQsIHRoaXMuX29wdGlvbnMuV2ViU29ja2V0LCB0aGlzLl9vcHRpb25zLmhlYWRlcnMgfHwge30pO1xyXG4gICAgICAgICAgICBjYXNlIEh0dHBUcmFuc3BvcnRUeXBlLlNlcnZlclNlbnRFdmVudHM6XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX29wdGlvbnMuRXZlbnRTb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCInRXZlbnRTb3VyY2UnIGlzIG5vdCBzdXBwb3J0ZWQgaW4geW91ciBlbnZpcm9ubWVudC5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNlcnZlclNlbnRFdmVudHNUcmFuc3BvcnQodGhpcy5faHR0cENsaWVudCwgdGhpcy5faHR0cENsaWVudC5fYWNjZXNzVG9rZW4sIHRoaXMuX2xvZ2dlciwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIGNhc2UgSHR0cFRyYW5zcG9ydFR5cGUuTG9uZ1BvbGxpbmc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IExvbmdQb2xsaW5nVHJhbnNwb3J0KHRoaXMuX2h0dHBDbGllbnQsIHRoaXMuX2xvZ2dlciwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gdHJhbnNwb3J0OiAke3RyYW5zcG9ydH0uYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3N0YXJ0VHJhbnNwb3J0KHVybCwgdHJhbnNmZXJGb3JtYXQpIHtcclxuICAgICAgICB0aGlzLnRyYW5zcG9ydC5vbnJlY2VpdmUgPSB0aGlzLm9ucmVjZWl2ZTtcclxuICAgICAgICBpZiAodGhpcy5mZWF0dXJlcy5yZWNvbm5lY3QpIHtcclxuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQub25jbG9zZSA9IGFzeW5jIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2FsbFN0b3AgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZlYXR1cmVzLnJlY29ubmVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmVhdHVyZXMuZGlzY29ubmVjdGVkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudHJhbnNwb3J0LmNvbm5lY3QodXJsLCB0cmFuc2ZlckZvcm1hdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZmVhdHVyZXMucmVzZW5kKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbFN0b3AgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0b3BDb25uZWN0aW9uKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjYWxsU3RvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0b3BDb25uZWN0aW9uKGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQub25jbG9zZSA9IChlKSA9PiB0aGlzLl9zdG9wQ29ubmVjdGlvbihlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNwb3J0LmNvbm5lY3QodXJsLCB0cmFuc2ZlckZvcm1hdCk7XHJcbiAgICB9XHJcbiAgICBfcmVzb2x2ZVRyYW5zcG9ydE9yRXJyb3IoZW5kcG9pbnQsIHJlcXVlc3RlZFRyYW5zcG9ydCwgcmVxdWVzdGVkVHJhbnNmZXJGb3JtYXQsIHVzZVN0YXRlZnVsUmVjb25uZWN0KSB7XHJcbiAgICAgICAgY29uc3QgdHJhbnNwb3J0ID0gSHR0cFRyYW5zcG9ydFR5cGVbZW5kcG9pbnQudHJhbnNwb3J0XTtcclxuICAgICAgICBpZiAodHJhbnNwb3J0ID09PSBudWxsIHx8IHRyYW5zcG9ydCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIGBTa2lwcGluZyB0cmFuc3BvcnQgJyR7ZW5kcG9pbnQudHJhbnNwb3J0fScgYmVjYXVzZSBpdCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgY2xpZW50LmApO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKGBTa2lwcGluZyB0cmFuc3BvcnQgJyR7ZW5kcG9pbnQudHJhbnNwb3J0fScgYmVjYXVzZSBpdCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgY2xpZW50LmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRyYW5zcG9ydE1hdGNoZXMocmVxdWVzdGVkVHJhbnNwb3J0LCB0cmFuc3BvcnQpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2ZlckZvcm1hdHMgPSBlbmRwb2ludC50cmFuc2ZlckZvcm1hdHMubWFwKChzKSA9PiBUcmFuc2ZlckZvcm1hdFtzXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodHJhbnNmZXJGb3JtYXRzLmluZGV4T2YocmVxdWVzdGVkVHJhbnNmZXJGb3JtYXQpID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHRyYW5zcG9ydCA9PT0gSHR0cFRyYW5zcG9ydFR5cGUuV2ViU29ja2V0cyAmJiAhdGhpcy5fb3B0aW9ucy5XZWJTb2NrZXQpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICh0cmFuc3BvcnQgPT09IEh0dHBUcmFuc3BvcnRUeXBlLlNlcnZlclNlbnRFdmVudHMgJiYgIXRoaXMuX29wdGlvbnMuRXZlbnRTb3VyY2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIGBTa2lwcGluZyB0cmFuc3BvcnQgJyR7SHR0cFRyYW5zcG9ydFR5cGVbdHJhbnNwb3J0XX0nIGJlY2F1c2UgaXQgaXMgbm90IHN1cHBvcnRlZCBpbiB5b3VyIGVudmlyb25tZW50LidgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVbnN1cHBvcnRlZFRyYW5zcG9ydEVycm9yKGAnJHtIdHRwVHJhbnNwb3J0VHlwZVt0cmFuc3BvcnRdfScgaXMgbm90IHN1cHBvcnRlZCBpbiB5b3VyIGVudmlyb25tZW50LmAsIHRyYW5zcG9ydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkRlYnVnLCBgU2VsZWN0aW5nIHRyYW5zcG9ydCAnJHtIdHRwVHJhbnNwb3J0VHlwZVt0cmFuc3BvcnRdfScuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZlYXR1cmVzLnJlY29ubmVjdCA9IHRyYW5zcG9ydCA9PT0gSHR0cFRyYW5zcG9ydFR5cGUuV2ViU29ja2V0cyA/IHVzZVN0YXRlZnVsUmVjb25uZWN0IDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnN0cnVjdFRyYW5zcG9ydCh0cmFuc3BvcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5EZWJ1ZywgYFNraXBwaW5nIHRyYW5zcG9ydCAnJHtIdHRwVHJhbnNwb3J0VHlwZVt0cmFuc3BvcnRdfScgYmVjYXVzZSBpdCBkb2VzIG5vdCBzdXBwb3J0IHRoZSByZXF1ZXN0ZWQgdHJhbnNmZXIgZm9ybWF0ICcke1RyYW5zZmVyRm9ybWF0W3JlcXVlc3RlZFRyYW5zZmVyRm9ybWF0XX0nLmApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoYCcke0h0dHBUcmFuc3BvcnRUeXBlW3RyYW5zcG9ydF19JyBkb2VzIG5vdCBzdXBwb3J0ICR7VHJhbnNmZXJGb3JtYXRbcmVxdWVzdGVkVHJhbnNmZXJGb3JtYXRdfS5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIGBTa2lwcGluZyB0cmFuc3BvcnQgJyR7SHR0cFRyYW5zcG9ydFR5cGVbdHJhbnNwb3J0XX0nIGJlY2F1c2UgaXQgd2FzIGRpc2FibGVkIGJ5IHRoZSBjbGllbnQuYCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERpc2FibGVkVHJhbnNwb3J0RXJyb3IoYCcke0h0dHBUcmFuc3BvcnRUeXBlW3RyYW5zcG9ydF19JyBpcyBkaXNhYmxlZCBieSB0aGUgY2xpZW50LmAsIHRyYW5zcG9ydCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfaXNJVHJhbnNwb3J0KHRyYW5zcG9ydCkge1xyXG4gICAgICAgIHJldHVybiB0cmFuc3BvcnQgJiYgdHlwZW9mICh0cmFuc3BvcnQpID09PSBcIm9iamVjdFwiICYmIFwiY29ubmVjdFwiIGluIHRyYW5zcG9ydDtcclxuICAgIH1cclxuICAgIF9zdG9wQ29ubmVjdGlvbihlcnJvcikge1xyXG4gICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIGBIdHRwQ29ubmVjdGlvbi5zdG9wQ29ubmVjdGlvbigke2Vycm9yfSkgY2FsbGVkIHdoaWxlIGluIHN0YXRlICR7dGhpcy5fY29ubmVjdGlvblN0YXRlfS5gKTtcclxuICAgICAgICB0aGlzLnRyYW5zcG9ydCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgc3RvcEVycm9yLCBpdCB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgdGhlIGVycm9yIGZyb20gdGhlIHRyYW5zcG9ydFxyXG4gICAgICAgIGVycm9yID0gdGhpcy5fc3RvcEVycm9yIHx8IGVycm9yO1xyXG4gICAgICAgIHRoaXMuX3N0b3BFcnJvciA9IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAodGhpcy5fY29ubmVjdGlvblN0YXRlID09PSBcIkRpc2Nvbm5lY3RlZFwiIC8qIENvbm5lY3Rpb25TdGF0ZS5EaXNjb25uZWN0ZWQgKi8pIHtcclxuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5EZWJ1ZywgYENhbGwgdG8gSHR0cENvbm5lY3Rpb24uc3RvcENvbm5lY3Rpb24oJHtlcnJvcn0pIHdhcyBpZ25vcmVkIGJlY2F1c2UgdGhlIGNvbm5lY3Rpb24gaXMgYWxyZWFkeSBpbiB0aGUgZGlzY29ubmVjdGVkIHN0YXRlLmApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9jb25uZWN0aW9uU3RhdGUgPT09IFwiQ29ubmVjdGluZ1wiIC8qIENvbm5lY3Rpb25TdGF0ZS5Db25uZWN0aW5nICovKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuV2FybmluZywgYENhbGwgdG8gSHR0cENvbm5lY3Rpb24uc3RvcENvbm5lY3Rpb24oJHtlcnJvcn0pIHdhcyBpZ25vcmVkIGJlY2F1c2UgdGhlIGNvbm5lY3Rpb24gaXMgc3RpbGwgaW4gdGhlIGNvbm5lY3Rpbmcgc3RhdGUuYCk7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSHR0cENvbm5lY3Rpb24uc3RvcENvbm5lY3Rpb24oJHtlcnJvcn0pIHdhcyBjYWxsZWQgd2hpbGUgdGhlIGNvbm5lY3Rpb24gaXMgc3RpbGwgaW4gdGhlIGNvbm5lY3Rpbmcgc3RhdGUuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9jb25uZWN0aW9uU3RhdGUgPT09IFwiRGlzY29ubmVjdGluZ1wiIC8qIENvbm5lY3Rpb25TdGF0ZS5EaXNjb25uZWN0aW5nICovKSB7XHJcbiAgICAgICAgICAgIC8vIEEgY2FsbCB0byBzdG9wKCkgaW5kdWNlZCB0aGlzIGNhbGwgdG8gc3RvcENvbm5lY3Rpb24gYW5kIG5lZWRzIHRvIGJlIGNvbXBsZXRlZC5cclxuICAgICAgICAgICAgLy8gQW55IHN0b3AoKSBhd2FpdGVycyB3aWxsIGJlIHNjaGVkdWxlZCB0byBjb250aW51ZSBhZnRlciB0aGUgb25jbG9zZSBjYWxsYmFjayBmaXJlcy5cclxuICAgICAgICAgICAgdGhpcy5fc3RvcFByb21pc2VSZXNvbHZlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5FcnJvciwgYENvbm5lY3Rpb24gZGlzY29ubmVjdGVkIHdpdGggZXJyb3IgJyR7ZXJyb3J9Jy5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuSW5mb3JtYXRpb24sIFwiQ29ubmVjdGlvbiBkaXNjb25uZWN0ZWQuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fc2VuZFF1ZXVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NlbmRRdWV1ZS5zdG9wKCkuY2F0Y2goKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuRXJyb3IsIGBUcmFuc3BvcnRTZW5kUXVldWUuc3RvcCgpIHRocmV3IGVycm9yICcke2V9Jy5gKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NlbmRRdWV1ZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uSWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5fY29ubmVjdGlvblN0YXRlID0gXCJEaXNjb25uZWN0ZWRcIiAvKiBDb25uZWN0aW9uU3RhdGUuRGlzY29ubmVjdGVkICovO1xyXG4gICAgICAgIGlmICh0aGlzLl9jb25uZWN0aW9uU3RhcnRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jb25uZWN0aW9uU3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub25jbG9zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25jbG9zZShlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuRXJyb3IsIGBIdHRwQ29ubmVjdGlvbi5vbmNsb3NlKCR7ZXJyb3J9KSB0aHJldyBlcnJvciAnJHtlfScuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcmVzb2x2ZVVybCh1cmwpIHtcclxuICAgICAgICAvLyBzdGFydHNXaXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gSUVcclxuICAgICAgICBpZiAodXJsLmxhc3RJbmRleE9mKFwiaHR0cHM6Ly9cIiwgMCkgPT09IDAgfHwgdXJsLmxhc3RJbmRleE9mKFwiaHR0cDovL1wiLCAwKSA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdXJsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIVBsYXRmb3JtLmlzQnJvd3Nlcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCByZXNvbHZlICcke3VybH0nLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTZXR0aW5nIHRoZSB1cmwgdG8gdGhlIGhyZWYgcHJvcGVyeSBvZiBhbiBhbmNob3IgdGFnIGhhbmRsZXMgbm9ybWFsaXphdGlvblxyXG4gICAgICAgIC8vIGZvciB1cy4gVGhlcmUgYXJlIDMgbWFpbiBjYXNlcy5cclxuICAgICAgICAvLyAxLiBSZWxhdGl2ZSBwYXRoIG5vcm1hbGl6YXRpb24gZS5nIFwiYlwiIC0+IFwiaHR0cDovL2xvY2FsaG9zdDo1MDAwL2EvYlwiXHJcbiAgICAgICAgLy8gMi4gQWJzb2x1dGUgcGF0aCBub3JtYWxpemF0aW9uIGUuZyBcIi9hL2JcIiAtPiBcImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hL2JcIlxyXG4gICAgICAgIC8vIDMuIE5ldHdvcmtwYXRoIHJlZmVyZW5jZSBub3JtYWxpemF0aW9uIGUuZyBcIi8vbG9jYWxob3N0OjUwMDAvYS9iXCIgLT4gXCJodHRwOi8vbG9jYWxob3N0OjUwMDAvYS9iXCJcclxuICAgICAgICBjb25zdCBhVGFnID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xyXG4gICAgICAgIGFUYWcuaHJlZiA9IHVybDtcclxuICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkluZm9ybWF0aW9uLCBgTm9ybWFsaXppbmcgJyR7dXJsfScgdG8gJyR7YVRhZy5ocmVmfScuYCk7XHJcbiAgICAgICAgcmV0dXJuIGFUYWcuaHJlZjtcclxuICAgIH1cclxuICAgIF9yZXNvbHZlTmVnb3RpYXRlVXJsKHVybCkge1xyXG4gICAgICAgIGNvbnN0IG5lZ290aWF0ZVVybCA9IG5ldyBVUkwodXJsKTtcclxuICAgICAgICBpZiAobmVnb3RpYXRlVXJsLnBhdGhuYW1lLmVuZHNXaXRoKCcvJykpIHtcclxuICAgICAgICAgICAgbmVnb3RpYXRlVXJsLnBhdGhuYW1lICs9IFwibmVnb3RpYXRlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBuZWdvdGlhdGVVcmwucGF0aG5hbWUgKz0gXCIvbmVnb3RpYXRlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMobmVnb3RpYXRlVXJsLnNlYXJjaFBhcmFtcyk7XHJcbiAgICAgICAgaWYgKCFzZWFyY2hQYXJhbXMuaGFzKFwibmVnb3RpYXRlVmVyc2lvblwiKSkge1xyXG4gICAgICAgICAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKFwibmVnb3RpYXRlVmVyc2lvblwiLCB0aGlzLl9uZWdvdGlhdGVWZXJzaW9uLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2VhcmNoUGFyYW1zLmhhcyhcInVzZVN0YXRlZnVsUmVjb25uZWN0XCIpKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWFyY2hQYXJhbXMuZ2V0KFwidXNlU3RhdGVmdWxSZWNvbm5lY3RcIikgPT09IFwidHJ1ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLl91c2VTdGF0ZWZ1bFJlY29ubmVjdCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5fb3B0aW9ucy5fdXNlU3RhdGVmdWxSZWNvbm5lY3QgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgc2VhcmNoUGFyYW1zLmFwcGVuZChcInVzZVN0YXRlZnVsUmVjb25uZWN0XCIsIFwidHJ1ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbmVnb3RpYXRlVXJsLnNlYXJjaCA9IHNlYXJjaFBhcmFtcy50b1N0cmluZygpO1xyXG4gICAgICAgIHJldHVybiBuZWdvdGlhdGVVcmwudG9TdHJpbmcoKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB0cmFuc3BvcnRNYXRjaGVzKHJlcXVlc3RlZFRyYW5zcG9ydCwgYWN0dWFsVHJhbnNwb3J0KSB7XHJcbiAgICByZXR1cm4gIXJlcXVlc3RlZFRyYW5zcG9ydCB8fCAoKGFjdHVhbFRyYW5zcG9ydCAmIHJlcXVlc3RlZFRyYW5zcG9ydCkgIT09IDApO1xyXG59XHJcbi8qKiBAcHJpdmF0ZSAqL1xyXG5leHBvcnQgY2xhc3MgVHJhbnNwb3J0U2VuZFF1ZXVlIHtcclxuICAgIGNvbnN0cnVjdG9yKF90cmFuc3BvcnQpIHtcclxuICAgICAgICB0aGlzLl90cmFuc3BvcnQgPSBfdHJhbnNwb3J0O1xyXG4gICAgICAgIHRoaXMuX2J1ZmZlciA9IFtdO1xyXG4gICAgICAgIHRoaXMuX2V4ZWN1dGluZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fc2VuZEJ1ZmZlcmVkRGF0YSA9IG5ldyBQcm9taXNlU291cmNlKCk7XHJcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0UmVzdWx0ID0gbmV3IFByb21pc2VTb3VyY2UoKTtcclxuICAgICAgICB0aGlzLl9zZW5kTG9vcFByb21pc2UgPSB0aGlzLl9zZW5kTG9vcCgpO1xyXG4gICAgfVxyXG4gICAgc2VuZChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5fYnVmZmVyRGF0YShkYXRhKTtcclxuICAgICAgICBpZiAoIXRoaXMuX3RyYW5zcG9ydFJlc3VsdCkge1xyXG4gICAgICAgICAgICB0aGlzLl90cmFuc3BvcnRSZXN1bHQgPSBuZXcgUHJvbWlzZVNvdXJjZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNwb3J0UmVzdWx0LnByb21pc2U7XHJcbiAgICB9XHJcbiAgICBzdG9wKCkge1xyXG4gICAgICAgIHRoaXMuX2V4ZWN1dGluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX3NlbmRCdWZmZXJlZERhdGEucmVzb2x2ZSgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZW5kTG9vcFByb21pc2U7XHJcbiAgICB9XHJcbiAgICBfYnVmZmVyRGF0YShkYXRhKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZlci5sZW5ndGggJiYgdHlwZW9mICh0aGlzLl9idWZmZXJbMF0pICE9PSB0eXBlb2YgKGRhdGEpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgZGF0YSB0byBiZSBvZiB0eXBlICR7dHlwZW9mICh0aGlzLl9idWZmZXIpfSBidXQgd2FzIG9mIHR5cGUgJHt0eXBlb2YgKGRhdGEpfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9idWZmZXIucHVzaChkYXRhKTtcclxuICAgICAgICB0aGlzLl9zZW5kQnVmZmVyZWREYXRhLnJlc29sdmUoKTtcclxuICAgIH1cclxuICAgIGFzeW5jIF9zZW5kTG9vcCgpIHtcclxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9zZW5kQnVmZmVyZWREYXRhLnByb21pc2U7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fZXhlY3V0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdHJhbnNwb3J0UmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNwb3J0UmVzdWx0LnJlamVjdChcIkNvbm5lY3Rpb24gc3RvcHBlZC5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9zZW5kQnVmZmVyZWREYXRhID0gbmV3IFByb21pc2VTb3VyY2UoKTtcclxuICAgICAgICAgICAgY29uc3QgdHJhbnNwb3J0UmVzdWx0ID0gdGhpcy5fdHJhbnNwb3J0UmVzdWx0O1xyXG4gICAgICAgICAgICB0aGlzLl90cmFuc3BvcnRSZXN1bHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0eXBlb2YgKHRoaXMuX2J1ZmZlclswXSkgPT09IFwic3RyaW5nXCIgP1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYnVmZmVyLmpvaW4oXCJcIikgOlxyXG4gICAgICAgICAgICAgICAgVHJhbnNwb3J0U2VuZFF1ZXVlLl9jb25jYXRCdWZmZXJzKHRoaXMuX2J1ZmZlcik7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlci5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fdHJhbnNwb3J0LnNlbmQoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0cmFuc3BvcnRSZXN1bHQucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgdHJhbnNwb3J0UmVzdWx0LnJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgX2NvbmNhdEJ1ZmZlcnMoYXJyYXlCdWZmZXJzKSB7XHJcbiAgICAgICAgY29uc3QgdG90YWxMZW5ndGggPSBhcnJheUJ1ZmZlcnMubWFwKChiKSA9PiBiLmJ5dGVMZW5ndGgpLnJlZHVjZSgoYSwgYikgPT4gYSArIGIpO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KHRvdGFsTGVuZ3RoKTtcclxuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcclxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgYXJyYXlCdWZmZXJzKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5zZXQobmV3IFVpbnQ4QXJyYXkoaXRlbSksIG9mZnNldCk7XHJcbiAgICAgICAgICAgIG9mZnNldCArPSBpdGVtLmJ5dGVMZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQuYnVmZmVyO1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIFByb21pc2VTb3VyY2Uge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gW3RoaXMuX3Jlc29sdmVyLCB0aGlzLl9yZWplY3Rlcl0gPSBbcmVzb2x2ZSwgcmVqZWN0XSk7XHJcbiAgICB9XHJcbiAgICByZXNvbHZlKCkge1xyXG4gICAgICAgIHRoaXMuX3Jlc29sdmVyKCk7XHJcbiAgICB9XHJcbiAgICByZWplY3QocmVhc29uKSB7XHJcbiAgICAgICAgdGhpcy5fcmVqZWN0ZXIocmVhc29uKTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1IdHRwQ29ubmVjdGlvbi5qcy5tYXAiXSwibmFtZXMiOlsiQWNjZXNzVG9rZW5IdHRwQ2xpZW50IiwiRGVmYXVsdEh0dHBDbGllbnQiLCJnZXRFdmVudFNvdXJjZSIsImdldFdTIiwiQWdncmVnYXRlRXJyb3JzIiwiRGlzYWJsZWRUcmFuc3BvcnRFcnJvciIsIkZhaWxlZFRvTmVnb3RpYXRlV2l0aFNlcnZlckVycm9yIiwiRmFpbGVkVG9TdGFydFRyYW5zcG9ydEVycm9yIiwiSHR0cEVycm9yIiwiVW5zdXBwb3J0ZWRUcmFuc3BvcnRFcnJvciIsIkFib3J0RXJyb3IiLCJMb2dMZXZlbCIsIkh0dHBUcmFuc3BvcnRUeXBlIiwiVHJhbnNmZXJGb3JtYXQiLCJMb25nUG9sbGluZ1RyYW5zcG9ydCIsIlNlcnZlclNlbnRFdmVudHNUcmFuc3BvcnQiLCJBcmciLCJjcmVhdGVMb2dnZXIiLCJnZXRVc2VyQWdlbnRIZWFkZXIiLCJQbGF0Zm9ybSIsIldlYlNvY2tldFRyYW5zcG9ydCIsIk1BWF9SRURJUkVDVFMiLCJIdHRwQ29ubmVjdGlvbiIsImNvbnN0cnVjdG9yIiwidXJsIiwib3B0aW9ucyIsIl9zdG9wUHJvbWlzZVJlc29sdmVyIiwiZmVhdHVyZXMiLCJfbmVnb3RpYXRlVmVyc2lvbiIsImlzUmVxdWlyZWQiLCJfbG9nZ2VyIiwibG9nZ2VyIiwiYmFzZVVybCIsIl9yZXNvbHZlVXJsIiwibG9nTWVzc2FnZUNvbnRlbnQiLCJ1bmRlZmluZWQiLCJ3aXRoQ3JlZGVudGlhbHMiLCJFcnJvciIsInRpbWVvdXQiLCJ3ZWJTb2NrZXRNb2R1bGUiLCJldmVudFNvdXJjZU1vZHVsZSIsImlzTm9kZSIsInJlcXVpcmUiLCJXZWJTb2NrZXQiLCJFdmVudFNvdXJjZSIsIl9odHRwQ2xpZW50IiwiaHR0cENsaWVudCIsImFjY2Vzc1Rva2VuRmFjdG9yeSIsIl9jb25uZWN0aW9uU3RhdGUiLCJfY29ubmVjdGlvblN0YXJ0ZWQiLCJfb3B0aW9ucyIsIm9ucmVjZWl2ZSIsIm9uY2xvc2UiLCJzdGFydCIsInRyYW5zZmVyRm9ybWF0IiwiQmluYXJ5IiwiaXNJbiIsImxvZyIsIkRlYnVnIiwiUHJvbWlzZSIsInJlamVjdCIsIl9zdGFydEludGVybmFsUHJvbWlzZSIsIl9zdGFydEludGVybmFsIiwibWVzc2FnZSIsIl9zdG9wUHJvbWlzZSIsInNlbmQiLCJkYXRhIiwiX3NlbmRRdWV1ZSIsIlRyYW5zcG9ydFNlbmRRdWV1ZSIsInRyYW5zcG9ydCIsInN0b3AiLCJlcnJvciIsInJlc29sdmUiLCJfc3RvcEludGVybmFsIiwiX3N0b3BFcnJvciIsImUiLCJfc3RvcENvbm5lY3Rpb24iLCJfYWNjZXNzVG9rZW5GYWN0b3J5Iiwic2tpcE5lZ290aWF0aW9uIiwiV2ViU29ja2V0cyIsIl9jb25zdHJ1Y3RUcmFuc3BvcnQiLCJfc3RhcnRUcmFuc3BvcnQiLCJuZWdvdGlhdGVSZXNwb25zZSIsInJlZGlyZWN0cyIsIl9nZXROZWdvdGlhdGlvblJlc3BvbnNlIiwiUHJvdG9jb2xWZXJzaW9uIiwiYWNjZXNzVG9rZW4iLCJfYWNjZXNzVG9rZW4iLCJfY3JlYXRlVHJhbnNwb3J0IiwiaW5oZXJlbnRLZWVwQWxpdmUiLCJoZWFkZXJzIiwibmFtZSIsInZhbHVlIiwibmVnb3RpYXRlVXJsIiwiX3Jlc29sdmVOZWdvdGlhdGVVcmwiLCJyZXNwb25zZSIsInBvc3QiLCJjb250ZW50Iiwic3RhdHVzQ29kZSIsIkpTT04iLCJwYXJzZSIsIm5lZ290aWF0ZVZlcnNpb24iLCJjb25uZWN0aW9uVG9rZW4iLCJjb25uZWN0aW9uSWQiLCJ1c2VTdGF0ZWZ1bFJlY29ubmVjdCIsIl91c2VTdGF0ZWZ1bFJlY29ubmVjdCIsImVycm9yTWVzc2FnZSIsIl9jcmVhdGVDb25uZWN0VXJsIiwiaW5kZXhPZiIsInJlcXVlc3RlZFRyYW5zcG9ydCIsInJlcXVlc3RlZFRyYW5zZmVyRm9ybWF0IiwiY29ubmVjdFVybCIsIl9pc0lUcmFuc3BvcnQiLCJ0cmFuc3BvcnRFeGNlcHRpb25zIiwidHJhbnNwb3J0cyIsImF2YWlsYWJsZVRyYW5zcG9ydHMiLCJuZWdvdGlhdGUiLCJlbmRwb2ludCIsInRyYW5zcG9ydE9yRXJyb3IiLCJfcmVzb2x2ZVRyYW5zcG9ydE9yRXJyb3IiLCJwdXNoIiwiZXgiLCJsZW5ndGgiLCJqb2luIiwiU2VydmVyU2VudEV2ZW50cyIsIkxvbmdQb2xsaW5nIiwicmVjb25uZWN0IiwiY2FsbFN0b3AiLCJkaXNjb25uZWN0ZWQiLCJjb25uZWN0IiwicmVzZW5kIiwidHJhbnNwb3J0TWF0Y2hlcyIsInRyYW5zZmVyRm9ybWF0cyIsIm1hcCIsInMiLCJXYXJuaW5nIiwiSW5mb3JtYXRpb24iLCJjYXRjaCIsImxhc3RJbmRleE9mIiwiaXNCcm93c2VyIiwiYVRhZyIsIndpbmRvdyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJVUkwiLCJwYXRobmFtZSIsImVuZHNXaXRoIiwic2VhcmNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwiaGFzIiwiYXBwZW5kIiwidG9TdHJpbmciLCJnZXQiLCJzZWFyY2giLCJhY3R1YWxUcmFuc3BvcnQiLCJfdHJhbnNwb3J0IiwiX2J1ZmZlciIsIl9leGVjdXRpbmciLCJfc2VuZEJ1ZmZlcmVkRGF0YSIsIlByb21pc2VTb3VyY2UiLCJfdHJhbnNwb3J0UmVzdWx0IiwiX3NlbmRMb29wUHJvbWlzZSIsIl9zZW5kTG9vcCIsIl9idWZmZXJEYXRhIiwicHJvbWlzZSIsInRyYW5zcG9ydFJlc3VsdCIsIl9jb25jYXRCdWZmZXJzIiwiYXJyYXlCdWZmZXJzIiwidG90YWxMZW5ndGgiLCJiIiwiYnl0ZUxlbmd0aCIsInJlZHVjZSIsImEiLCJyZXN1bHQiLCJVaW50OEFycmF5Iiwib2Zmc2V0IiwiaXRlbSIsInNldCIsImJ1ZmZlciIsIl9yZXNvbHZlciIsIl9yZWplY3RlciIsInJlYXNvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/HttpConnection.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/HubConnection.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/HubConnection.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HubConnection: () => (/* binding */ HubConnection),\n/* harmony export */   HubConnectionState: () => (/* binding */ HubConnectionState)\n/* harmony export */ });\n/* harmony import */ var _HandshakeProtocol__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./HandshakeProtocol */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/HandshakeProtocol.js\");\n/* harmony import */ var _Errors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Errors */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Errors.js\");\n/* harmony import */ var _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./IHubProtocol */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/IHubProtocol.js\");\n/* harmony import */ var _ILogger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ILogger */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/ILogger.js\");\n/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Subject */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Subject.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Utils.js\");\n/* harmony import */ var _MessageBuffer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MessageBuffer */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/MessageBuffer.js\");\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n\n\n\n\n\n\n\nconst DEFAULT_TIMEOUT_IN_MS = 30 * 1000;\nconst DEFAULT_PING_INTERVAL_IN_MS = 15 * 1000;\nconst DEFAULT_STATEFUL_RECONNECT_BUFFER_SIZE = 100000;\n/** Describes the current state of the {@link HubConnection} to the server. */ var HubConnectionState;\n(function(HubConnectionState) {\n    /** The hub connection is disconnected. */ HubConnectionState[\"Disconnected\"] = \"Disconnected\";\n    /** The hub connection is connecting. */ HubConnectionState[\"Connecting\"] = \"Connecting\";\n    /** The hub connection is connected. */ HubConnectionState[\"Connected\"] = \"Connected\";\n    /** The hub connection is disconnecting. */ HubConnectionState[\"Disconnecting\"] = \"Disconnecting\";\n    /** The hub connection is reconnecting. */ HubConnectionState[\"Reconnecting\"] = \"Reconnecting\";\n})(HubConnectionState || (HubConnectionState = {}));\n/** Represents a connection to a SignalR Hub. */ class HubConnection {\n    /** @internal */ // Using a public static factory method means we can have a private constructor and an _internal_\n    // create method that can be used by HubConnectionBuilder. An \"internal\" constructor would just\n    // be stripped away and the '.d.ts' file would have no constructor, which is interpreted as a\n    // public parameter-less constructor.\n    static create(connection, logger, protocol, reconnectPolicy, serverTimeoutInMilliseconds, keepAliveIntervalInMilliseconds, statefulReconnectBufferSize) {\n        return new HubConnection(connection, logger, protocol, reconnectPolicy, serverTimeoutInMilliseconds, keepAliveIntervalInMilliseconds, statefulReconnectBufferSize);\n    }\n    constructor(connection, logger, protocol, reconnectPolicy, serverTimeoutInMilliseconds, keepAliveIntervalInMilliseconds, statefulReconnectBufferSize){\n        this._nextKeepAlive = 0;\n        this._freezeEventListener = ()=>{\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Warning, \"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep\");\n        };\n        _Utils__WEBPACK_IMPORTED_MODULE_1__.Arg.isRequired(connection, \"connection\");\n        _Utils__WEBPACK_IMPORTED_MODULE_1__.Arg.isRequired(logger, \"logger\");\n        _Utils__WEBPACK_IMPORTED_MODULE_1__.Arg.isRequired(protocol, \"protocol\");\n        this.serverTimeoutInMilliseconds = serverTimeoutInMilliseconds !== null && serverTimeoutInMilliseconds !== void 0 ? serverTimeoutInMilliseconds : DEFAULT_TIMEOUT_IN_MS;\n        this.keepAliveIntervalInMilliseconds = keepAliveIntervalInMilliseconds !== null && keepAliveIntervalInMilliseconds !== void 0 ? keepAliveIntervalInMilliseconds : DEFAULT_PING_INTERVAL_IN_MS;\n        this._statefulReconnectBufferSize = statefulReconnectBufferSize !== null && statefulReconnectBufferSize !== void 0 ? statefulReconnectBufferSize : DEFAULT_STATEFUL_RECONNECT_BUFFER_SIZE;\n        this._logger = logger;\n        this._protocol = protocol;\n        this.connection = connection;\n        this._reconnectPolicy = reconnectPolicy;\n        this._handshakeProtocol = new _HandshakeProtocol__WEBPACK_IMPORTED_MODULE_2__.HandshakeProtocol();\n        this.connection.onreceive = (data)=>this._processIncomingData(data);\n        this.connection.onclose = (error)=>this._connectionClosed(error);\n        this._callbacks = {};\n        this._methods = {};\n        this._closedCallbacks = [];\n        this._reconnectingCallbacks = [];\n        this._reconnectedCallbacks = [];\n        this._invocationId = 0;\n        this._receivedHandshakeResponse = false;\n        this._connectionState = HubConnectionState.Disconnected;\n        this._connectionStarted = false;\n        this._cachedPingMessage = this._protocol.writeMessage({\n            type: _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Ping\n        });\n    }\n    /** Indicates the state of the {@link HubConnection} to the server. */ get state() {\n        return this._connectionState;\n    }\n    /** Represents the connection id of the {@link HubConnection} on the server. The connection id will be null when the connection is either\r\n     *  in the disconnected state or if the negotiation step was skipped.\r\n     */ get connectionId() {\n        return this.connection ? this.connection.connectionId || null : null;\n    }\n    /** Indicates the url of the {@link HubConnection} to the server. */ get baseUrl() {\n        return this.connection.baseUrl || \"\";\n    }\n    /**\r\n     * Sets a new url for the HubConnection. Note that the url can only be changed when the connection is in either the Disconnected or\r\n     * Reconnecting states.\r\n     * @param {string} url The url to connect to.\r\n     */ set baseUrl(url) {\n        if (this._connectionState !== HubConnectionState.Disconnected && this._connectionState !== HubConnectionState.Reconnecting) {\n            throw new Error(\"The HubConnection must be in the Disconnected or Reconnecting state to change the url.\");\n        }\n        if (!url) {\n            throw new Error(\"The HubConnection url must be a valid url.\");\n        }\n        this.connection.baseUrl = url;\n    }\n    /** Starts the connection.\r\n     *\r\n     * @returns {Promise<void>} A Promise that resolves when the connection has been successfully established, or rejects with an error.\r\n     */ start() {\n        this._startPromise = this._startWithStateTransitions();\n        return this._startPromise;\n    }\n    async _startWithStateTransitions() {\n        if (this._connectionState !== HubConnectionState.Disconnected) {\n            return Promise.reject(new Error(\"Cannot start a HubConnection that is not in the 'Disconnected' state.\"));\n        }\n        this._connectionState = HubConnectionState.Connecting;\n        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Debug, \"Starting HubConnection.\");\n        try {\n            await this._startInternal();\n            if (_Utils__WEBPACK_IMPORTED_MODULE_1__.Platform.isBrowser) {\n                // Log when the browser freezes the tab so users know why their connection unexpectedly stopped working\n                window.document.addEventListener(\"freeze\", this._freezeEventListener);\n            }\n            this._connectionState = HubConnectionState.Connected;\n            this._connectionStarted = true;\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Debug, \"HubConnection connected successfully.\");\n        } catch (e) {\n            this._connectionState = HubConnectionState.Disconnected;\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Debug, `HubConnection failed to start successfully because of error '${e}'.`);\n            return Promise.reject(e);\n        }\n    }\n    async _startInternal() {\n        this._stopDuringStartError = undefined;\n        this._receivedHandshakeResponse = false;\n        // Set up the promise before any connection is (re)started otherwise it could race with received messages\n        const handshakePromise = new Promise((resolve, reject)=>{\n            this._handshakeResolver = resolve;\n            this._handshakeRejecter = reject;\n        });\n        await this.connection.start(this._protocol.transferFormat);\n        try {\n            let version = this._protocol.version;\n            if (!this.connection.features.reconnect) {\n                // Stateful Reconnect starts with HubProtocol version 2, newer clients connecting to older servers will fail to connect due to\n                // the handshake only supporting version 1, so we will try to send version 1 during the handshake to keep old servers working.\n                version = 1;\n            }\n            const handshakeRequest = {\n                protocol: this._protocol.name,\n                version\n            };\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Debug, \"Sending handshake request.\");\n            await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(handshakeRequest));\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Information, `Using HubProtocol '${this._protocol.name}'.`);\n            // defensively cleanup timeout in case we receive a message from the server before we finish start\n            this._cleanupTimeout();\n            this._resetTimeoutPeriod();\n            this._resetKeepAliveInterval();\n            await handshakePromise;\n            // It's important to check the stopDuringStartError instead of just relying on the handshakePromise\n            // being rejected on close, because this continuation can run after both the handshake completed successfully\n            // and the connection was closed.\n            if (this._stopDuringStartError) {\n                // It's important to throw instead of returning a rejected promise, because we don't want to allow any state\n                // transitions to occur between now and the calling code observing the exceptions. Returning a rejected promise\n                // will cause the calling continuation to get scheduled to run later.\n                // eslint-disable-next-line @typescript-eslint/no-throw-literal\n                throw this._stopDuringStartError;\n            }\n            const useStatefulReconnect = this.connection.features.reconnect || false;\n            if (useStatefulReconnect) {\n                this._messageBuffer = new _MessageBuffer__WEBPACK_IMPORTED_MODULE_4__.MessageBuffer(this._protocol, this.connection, this._statefulReconnectBufferSize);\n                this.connection.features.disconnected = this._messageBuffer._disconnected.bind(this._messageBuffer);\n                this.connection.features.resend = ()=>{\n                    if (this._messageBuffer) {\n                        return this._messageBuffer._resend();\n                    }\n                };\n            }\n            if (!this.connection.features.inherentKeepAlive) {\n                await this._sendMessage(this._cachedPingMessage);\n            }\n        } catch (e) {\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Debug, `Hub handshake failed with error '${e}' during start(). Stopping HubConnection.`);\n            this._cleanupTimeout();\n            this._cleanupPingTimer();\n            // HttpConnection.stop() should not complete until after the onclose callback is invoked.\n            // This will transition the HubConnection to the disconnected state before HttpConnection.stop() completes.\n            await this.connection.stop(e);\n            throw e;\n        }\n    }\n    /** Stops the connection.\r\n     *\r\n     * @returns {Promise<void>} A Promise that resolves when the connection has been successfully terminated, or rejects with an error.\r\n     */ async stop() {\n        // Capture the start promise before the connection might be restarted in an onclose callback.\n        const startPromise = this._startPromise;\n        this.connection.features.reconnect = false;\n        this._stopPromise = this._stopInternal();\n        await this._stopPromise;\n        try {\n            // Awaiting undefined continues immediately\n            await startPromise;\n        } catch (e) {\n        // This exception is returned to the user as a rejected Promise from the start method.\n        }\n    }\n    _stopInternal(error) {\n        if (this._connectionState === HubConnectionState.Disconnected) {\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Debug, `Call to HubConnection.stop(${error}) ignored because it is already in the disconnected state.`);\n            return Promise.resolve();\n        }\n        if (this._connectionState === HubConnectionState.Disconnecting) {\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Debug, `Call to HttpConnection.stop(${error}) ignored because the connection is already in the disconnecting state.`);\n            return this._stopPromise;\n        }\n        const state = this._connectionState;\n        this._connectionState = HubConnectionState.Disconnecting;\n        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Debug, \"Stopping HubConnection.\");\n        if (this._reconnectDelayHandle) {\n            // We're in a reconnect delay which means the underlying connection is currently already stopped.\n            // Just clear the handle to stop the reconnect loop (which no one is waiting on thankfully) and\n            // fire the onclose callbacks.\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Debug, \"Connection stopped during reconnect delay. Done reconnecting.\");\n            clearTimeout(this._reconnectDelayHandle);\n            this._reconnectDelayHandle = undefined;\n            this._completeClose();\n            return Promise.resolve();\n        }\n        if (state === HubConnectionState.Connected) {\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            this._sendCloseMessage();\n        }\n        this._cleanupTimeout();\n        this._cleanupPingTimer();\n        this._stopDuringStartError = error || new _Errors__WEBPACK_IMPORTED_MODULE_5__.AbortError(\"The connection was stopped before the hub handshake could complete.\");\n        // HttpConnection.stop() should not complete until after either HttpConnection.start() fails\n        // or the onclose callback is invoked. The onclose callback will transition the HubConnection\n        // to the disconnected state if need be before HttpConnection.stop() completes.\n        return this.connection.stop(error);\n    }\n    async _sendCloseMessage() {\n        try {\n            await this._sendWithProtocol(this._createCloseMessage());\n        } catch  {\n        // Ignore, this is a best effort attempt to let the server know the client closed gracefully.\n        }\n    }\n    /** Invokes a streaming hub method on the server using the specified name and arguments.\r\n     *\r\n     * @typeparam T The type of the items returned by the server.\r\n     * @param {string} methodName The name of the server method to invoke.\r\n     * @param {any[]} args The arguments used to invoke the server method.\r\n     * @returns {IStreamResult<T>} An object that yields results from the server as they are received.\r\n     */ stream(methodName, ...args) {\n        const [streams, streamIds] = this._replaceStreamingParams(args);\n        const invocationDescriptor = this._createStreamInvocation(methodName, args, streamIds);\n        // eslint-disable-next-line prefer-const\n        let promiseQueue;\n        const subject = new _Subject__WEBPACK_IMPORTED_MODULE_6__.Subject();\n        subject.cancelCallback = ()=>{\n            const cancelInvocation = this._createCancelInvocation(invocationDescriptor.invocationId);\n            delete this._callbacks[invocationDescriptor.invocationId];\n            return promiseQueue.then(()=>{\n                return this._sendWithProtocol(cancelInvocation);\n            });\n        };\n        this._callbacks[invocationDescriptor.invocationId] = (invocationEvent, error)=>{\n            if (error) {\n                subject.error(error);\n                return;\n            } else if (invocationEvent) {\n                // invocationEvent will not be null when an error is not passed to the callback\n                if (invocationEvent.type === _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Completion) {\n                    if (invocationEvent.error) {\n                        subject.error(new Error(invocationEvent.error));\n                    } else {\n                        subject.complete();\n                    }\n                } else {\n                    subject.next(invocationEvent.item);\n                }\n            }\n        };\n        promiseQueue = this._sendWithProtocol(invocationDescriptor).catch((e)=>{\n            subject.error(e);\n            delete this._callbacks[invocationDescriptor.invocationId];\n        });\n        this._launchStreams(streams, promiseQueue);\n        return subject;\n    }\n    _sendMessage(message) {\n        this._resetKeepAliveInterval();\n        return this.connection.send(message);\n    }\n    /**\r\n     * Sends a js object to the server.\r\n     * @param message The js object to serialize and send.\r\n     */ _sendWithProtocol(message) {\n        if (this._messageBuffer) {\n            return this._messageBuffer._send(message);\n        } else {\n            return this._sendMessage(this._protocol.writeMessage(message));\n        }\n    }\n    /** Invokes a hub method on the server using the specified name and arguments. Does not wait for a response from the receiver.\r\n     *\r\n     * The Promise returned by this method resolves when the client has sent the invocation to the server. The server may still\r\n     * be processing the invocation.\r\n     *\r\n     * @param {string} methodName The name of the server method to invoke.\r\n     * @param {any[]} args The arguments used to invoke the server method.\r\n     * @returns {Promise<void>} A Promise that resolves when the invocation has been successfully sent, or rejects with an error.\r\n     */ send(methodName, ...args) {\n        const [streams, streamIds] = this._replaceStreamingParams(args);\n        const sendPromise = this._sendWithProtocol(this._createInvocation(methodName, args, true, streamIds));\n        this._launchStreams(streams, sendPromise);\n        return sendPromise;\n    }\n    /** Invokes a hub method on the server using the specified name and arguments.\r\n     *\r\n     * The Promise returned by this method resolves when the server indicates it has finished invoking the method. When the promise\r\n     * resolves, the server has finished invoking the method. If the server method returns a result, it is produced as the result of\r\n     * resolving the Promise.\r\n     *\r\n     * @typeparam T The expected return type.\r\n     * @param {string} methodName The name of the server method to invoke.\r\n     * @param {any[]} args The arguments used to invoke the server method.\r\n     * @returns {Promise<T>} A Promise that resolves with the result of the server method (if any), or rejects with an error.\r\n     */ invoke(methodName, ...args) {\n        const [streams, streamIds] = this._replaceStreamingParams(args);\n        const invocationDescriptor = this._createInvocation(methodName, args, false, streamIds);\n        const p = new Promise((resolve, reject)=>{\n            // invocationId will always have a value for a non-blocking invocation\n            this._callbacks[invocationDescriptor.invocationId] = (invocationEvent, error)=>{\n                if (error) {\n                    reject(error);\n                    return;\n                } else if (invocationEvent) {\n                    // invocationEvent will not be null when an error is not passed to the callback\n                    if (invocationEvent.type === _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Completion) {\n                        if (invocationEvent.error) {\n                            reject(new Error(invocationEvent.error));\n                        } else {\n                            resolve(invocationEvent.result);\n                        }\n                    } else {\n                        reject(new Error(`Unexpected message type: ${invocationEvent.type}`));\n                    }\n                }\n            };\n            const promiseQueue = this._sendWithProtocol(invocationDescriptor).catch((e)=>{\n                reject(e);\n                // invocationId will always have a value for a non-blocking invocation\n                delete this._callbacks[invocationDescriptor.invocationId];\n            });\n            this._launchStreams(streams, promiseQueue);\n        });\n        return p;\n    }\n    on(methodName, newMethod) {\n        if (!methodName || !newMethod) {\n            return;\n        }\n        methodName = methodName.toLowerCase();\n        if (!this._methods[methodName]) {\n            this._methods[methodName] = [];\n        }\n        // Preventing adding the same handler multiple times.\n        if (this._methods[methodName].indexOf(newMethod) !== -1) {\n            return;\n        }\n        this._methods[methodName].push(newMethod);\n    }\n    off(methodName, method) {\n        if (!methodName) {\n            return;\n        }\n        methodName = methodName.toLowerCase();\n        const handlers = this._methods[methodName];\n        if (!handlers) {\n            return;\n        }\n        if (method) {\n            const removeIdx = handlers.indexOf(method);\n            if (removeIdx !== -1) {\n                handlers.splice(removeIdx, 1);\n                if (handlers.length === 0) {\n                    delete this._methods[methodName];\n                }\n            }\n        } else {\n            delete this._methods[methodName];\n        }\n    }\n    /** Registers a handler that will be invoked when the connection is closed.\r\n     *\r\n     * @param {Function} callback The handler that will be invoked when the connection is closed. Optionally receives a single argument containing the error that caused the connection to close (if any).\r\n     */ onclose(callback) {\n        if (callback) {\n            this._closedCallbacks.push(callback);\n        }\n    }\n    /** Registers a handler that will be invoked when the connection starts reconnecting.\r\n     *\r\n     * @param {Function} callback The handler that will be invoked when the connection starts reconnecting. Optionally receives a single argument containing the error that caused the connection to start reconnecting (if any).\r\n     */ onreconnecting(callback) {\n        if (callback) {\n            this._reconnectingCallbacks.push(callback);\n        }\n    }\n    /** Registers a handler that will be invoked when the connection successfully reconnects.\r\n     *\r\n     * @param {Function} callback The handler that will be invoked when the connection successfully reconnects.\r\n     */ onreconnected(callback) {\n        if (callback) {\n            this._reconnectedCallbacks.push(callback);\n        }\n    }\n    _processIncomingData(data) {\n        this._cleanupTimeout();\n        if (!this._receivedHandshakeResponse) {\n            data = this._processHandshakeResponse(data);\n            this._receivedHandshakeResponse = true;\n        }\n        // Data may have all been read when processing handshake response\n        if (data) {\n            // Parse the messages\n            const messages = this._protocol.parseMessages(data, this._logger);\n            for (const message of messages){\n                if (this._messageBuffer && !this._messageBuffer._shouldProcessMessage(message)) {\n                    continue;\n                }\n                switch(message.type){\n                    case _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Invocation:\n                        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                        this._invokeClientMethod(message);\n                        break;\n                    case _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.StreamItem:\n                    case _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Completion:\n                        {\n                            const callback = this._callbacks[message.invocationId];\n                            if (callback) {\n                                if (message.type === _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Completion) {\n                                    delete this._callbacks[message.invocationId];\n                                }\n                                try {\n                                    callback(message);\n                                } catch (e) {\n                                    this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Error, `Stream callback threw error: ${(0,_Utils__WEBPACK_IMPORTED_MODULE_1__.getErrorString)(e)}`);\n                                }\n                            }\n                            break;\n                        }\n                    case _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Ping:\n                        break;\n                    case _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Close:\n                        {\n                            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Information, \"Close message received from server.\");\n                            const error = message.error ? new Error(\"Server returned an error on close: \" + message.error) : undefined;\n                            if (message.allowReconnect === true) {\n                                // It feels wrong not to await connection.stop() here, but processIncomingData is called as part of an onreceive callback which is not async,\n                                // this is already the behavior for serverTimeout(), and HttpConnection.Stop() should catch and log all possible exceptions.\n                                // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                                this.connection.stop(error);\n                            } else {\n                                // We cannot await stopInternal() here, but subsequent calls to stop() will await this if stopInternal() is still ongoing.\n                                this._stopPromise = this._stopInternal(error);\n                            }\n                            break;\n                        }\n                    case _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Ack:\n                        if (this._messageBuffer) {\n                            this._messageBuffer._ack(message);\n                        }\n                        break;\n                    case _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Sequence:\n                        if (this._messageBuffer) {\n                            this._messageBuffer._resetSequence(message);\n                        }\n                        break;\n                    default:\n                        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Warning, `Invalid message type: ${message.type}.`);\n                        break;\n                }\n            }\n        }\n        this._resetTimeoutPeriod();\n    }\n    _processHandshakeResponse(data) {\n        let responseMessage;\n        let remainingData;\n        try {\n            [remainingData, responseMessage] = this._handshakeProtocol.parseHandshakeResponse(data);\n        } catch (e) {\n            const message = \"Error parsing handshake response: \" + e;\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Error, message);\n            const error = new Error(message);\n            this._handshakeRejecter(error);\n            throw error;\n        }\n        if (responseMessage.error) {\n            const message = \"Server returned handshake error: \" + responseMessage.error;\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Error, message);\n            const error = new Error(message);\n            this._handshakeRejecter(error);\n            throw error;\n        } else {\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Debug, \"Server handshake complete.\");\n        }\n        this._handshakeResolver();\n        return remainingData;\n    }\n    _resetKeepAliveInterval() {\n        if (this.connection.features.inherentKeepAlive) {\n            return;\n        }\n        // Set the time we want the next keep alive to be sent\n        // Timer will be setup on next message receive\n        this._nextKeepAlive = new Date().getTime() + this.keepAliveIntervalInMilliseconds;\n        this._cleanupPingTimer();\n    }\n    _resetTimeoutPeriod() {\n        if (!this.connection.features || !this.connection.features.inherentKeepAlive) {\n            // Set the timeout timer\n            this._timeoutHandle = setTimeout(()=>this.serverTimeout(), this.serverTimeoutInMilliseconds);\n            // Set keepAlive timer if there isn't one\n            if (this._pingServerHandle === undefined) {\n                let nextPing = this._nextKeepAlive - new Date().getTime();\n                if (nextPing < 0) {\n                    nextPing = 0;\n                }\n                // The timer needs to be set from a networking callback to avoid Chrome timer throttling from causing timers to run once a minute\n                this._pingServerHandle = setTimeout(async ()=>{\n                    if (this._connectionState === HubConnectionState.Connected) {\n                        try {\n                            await this._sendMessage(this._cachedPingMessage);\n                        } catch  {\n                            // We don't care about the error. It should be seen elsewhere in the client.\n                            // The connection is probably in a bad or closed state now, cleanup the timer so it stops triggering\n                            this._cleanupPingTimer();\n                        }\n                    }\n                }, nextPing);\n            }\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    serverTimeout() {\n        // The server hasn't talked to us in a while. It doesn't like us anymore ... :(\n        // Terminate the connection, but we don't need to wait on the promise. This could trigger reconnecting.\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        this.connection.stop(new Error(\"Server timeout elapsed without receiving a message from the server.\"));\n    }\n    async _invokeClientMethod(invocationMessage) {\n        const methodName = invocationMessage.target.toLowerCase();\n        const methods = this._methods[methodName];\n        if (!methods) {\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Warning, `No client method with the name '${methodName}' found.`);\n            // No handlers provided by client but the server is expecting a response still, so we send an error\n            if (invocationMessage.invocationId) {\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Warning, `No result given for '${methodName}' method and invocation ID '${invocationMessage.invocationId}'.`);\n                await this._sendWithProtocol(this._createCompletionMessage(invocationMessage.invocationId, \"Client didn't provide a result.\", null));\n            }\n            return;\n        }\n        // Avoid issues with handlers removing themselves thus modifying the list while iterating through it\n        const methodsCopy = methods.slice();\n        // Server expects a response\n        const expectsResponse = invocationMessage.invocationId ? true : false;\n        // We preserve the last result or exception but still call all handlers\n        let res;\n        let exception;\n        let completionMessage;\n        for (const m of methodsCopy){\n            try {\n                const prevRes = res;\n                res = await m.apply(this, invocationMessage.arguments);\n                if (expectsResponse && res && prevRes) {\n                    this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Error, `Multiple results provided for '${methodName}'. Sending error to server.`);\n                    completionMessage = this._createCompletionMessage(invocationMessage.invocationId, `Client provided multiple results.`, null);\n                }\n                // Ignore exception if we got a result after, the exception will be logged\n                exception = undefined;\n            } catch (e) {\n                exception = e;\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Error, `A callback for the method '${methodName}' threw error '${e}'.`);\n            }\n        }\n        if (completionMessage) {\n            await this._sendWithProtocol(completionMessage);\n        } else if (expectsResponse) {\n            // If there is an exception that means either no result was given or a handler after a result threw\n            if (exception) {\n                completionMessage = this._createCompletionMessage(invocationMessage.invocationId, `${exception}`, null);\n            } else if (res !== undefined) {\n                completionMessage = this._createCompletionMessage(invocationMessage.invocationId, null, res);\n            } else {\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Warning, `No result given for '${methodName}' method and invocation ID '${invocationMessage.invocationId}'.`);\n                // Client didn't provide a result or throw from a handler, server expects a response so we send an error\n                completionMessage = this._createCompletionMessage(invocationMessage.invocationId, \"Client didn't provide a result.\", null);\n            }\n            await this._sendWithProtocol(completionMessage);\n        } else {\n            if (res) {\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Error, `Result given for '${methodName}' method but server is not expecting a result.`);\n            }\n        }\n    }\n    _connectionClosed(error) {\n        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Debug, `HubConnection.connectionClosed(${error}) called while in state ${this._connectionState}.`);\n        // Triggering this.handshakeRejecter is insufficient because it could already be resolved without the continuation having run yet.\n        this._stopDuringStartError = this._stopDuringStartError || error || new _Errors__WEBPACK_IMPORTED_MODULE_5__.AbortError(\"The underlying connection was closed before the hub handshake could complete.\");\n        // If the handshake is in progress, start will be waiting for the handshake promise, so we complete it.\n        // If it has already completed, this should just noop.\n        if (this._handshakeResolver) {\n            this._handshakeResolver();\n        }\n        this._cancelCallbacksWithError(error || new Error(\"Invocation canceled due to the underlying connection being closed.\"));\n        this._cleanupTimeout();\n        this._cleanupPingTimer();\n        if (this._connectionState === HubConnectionState.Disconnecting) {\n            this._completeClose(error);\n        } else if (this._connectionState === HubConnectionState.Connected && this._reconnectPolicy) {\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            this._reconnect(error);\n        } else if (this._connectionState === HubConnectionState.Connected) {\n            this._completeClose(error);\n        }\n    // If none of the above if conditions were true were called the HubConnection must be in either:\n    // 1. The Connecting state in which case the handshakeResolver will complete it and stopDuringStartError will fail it.\n    // 2. The Reconnecting state in which case the handshakeResolver will complete it and stopDuringStartError will fail the current reconnect attempt\n    //    and potentially continue the reconnect() loop.\n    // 3. The Disconnected state in which case we're already done.\n    }\n    _completeClose(error) {\n        if (this._connectionStarted) {\n            this._connectionState = HubConnectionState.Disconnected;\n            this._connectionStarted = false;\n            if (this._messageBuffer) {\n                this._messageBuffer._dispose(error !== null && error !== void 0 ? error : new Error(\"Connection closed.\"));\n                this._messageBuffer = undefined;\n            }\n            if (_Utils__WEBPACK_IMPORTED_MODULE_1__.Platform.isBrowser) {\n                window.document.removeEventListener(\"freeze\", this._freezeEventListener);\n            }\n            try {\n                this._closedCallbacks.forEach((c)=>c.apply(this, [\n                        error\n                    ]));\n            } catch (e) {\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Error, `An onclose callback called with error '${error}' threw error '${e}'.`);\n            }\n        }\n    }\n    async _reconnect(error) {\n        const reconnectStartTime = Date.now();\n        let previousReconnectAttempts = 0;\n        let retryError = error !== undefined ? error : new Error(\"Attempting to reconnect due to a unknown error.\");\n        let nextRetryDelay = this._getNextRetryDelay(previousReconnectAttempts++, 0, retryError);\n        if (nextRetryDelay === null) {\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Debug, \"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt.\");\n            this._completeClose(error);\n            return;\n        }\n        this._connectionState = HubConnectionState.Reconnecting;\n        if (error) {\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Information, `Connection reconnecting because of error '${error}'.`);\n        } else {\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Information, \"Connection reconnecting.\");\n        }\n        if (this._reconnectingCallbacks.length !== 0) {\n            try {\n                this._reconnectingCallbacks.forEach((c)=>c.apply(this, [\n                        error\n                    ]));\n            } catch (e) {\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Error, `An onreconnecting callback called with error '${error}' threw error '${e}'.`);\n            }\n            // Exit early if an onreconnecting callback called connection.stop().\n            if (this._connectionState !== HubConnectionState.Reconnecting) {\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Debug, \"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.\");\n                return;\n            }\n        }\n        while(nextRetryDelay !== null){\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Information, `Reconnect attempt number ${previousReconnectAttempts} will start in ${nextRetryDelay} ms.`);\n            await new Promise((resolve)=>{\n                this._reconnectDelayHandle = setTimeout(resolve, nextRetryDelay);\n            });\n            this._reconnectDelayHandle = undefined;\n            if (this._connectionState !== HubConnectionState.Reconnecting) {\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Debug, \"Connection left the reconnecting state during reconnect delay. Done reconnecting.\");\n                return;\n            }\n            try {\n                await this._startInternal();\n                this._connectionState = HubConnectionState.Connected;\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Information, \"HubConnection reconnected successfully.\");\n                if (this._reconnectedCallbacks.length !== 0) {\n                    try {\n                        this._reconnectedCallbacks.forEach((c)=>c.apply(this, [\n                                this.connection.connectionId\n                            ]));\n                    } catch (e) {\n                        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Error, `An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${e}'.`);\n                    }\n                }\n                return;\n            } catch (e) {\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Information, `Reconnect attempt failed because of error '${e}'.`);\n                if (this._connectionState !== HubConnectionState.Reconnecting) {\n                    this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Debug, `Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`);\n                    // The TypeScript compiler thinks that connectionState must be Connected here. The TypeScript compiler is wrong.\n                    if (this._connectionState === HubConnectionState.Disconnecting) {\n                        this._completeClose();\n                    }\n                    return;\n                }\n                retryError = e instanceof Error ? e : new Error(e.toString());\n                nextRetryDelay = this._getNextRetryDelay(previousReconnectAttempts++, Date.now() - reconnectStartTime, retryError);\n            }\n        }\n        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Information, `Reconnect retries have been exhausted after ${Date.now() - reconnectStartTime} ms and ${previousReconnectAttempts} failed attempts. Connection disconnecting.`);\n        this._completeClose();\n    }\n    _getNextRetryDelay(previousRetryCount, elapsedMilliseconds, retryReason) {\n        try {\n            return this._reconnectPolicy.nextRetryDelayInMilliseconds({\n                elapsedMilliseconds,\n                previousRetryCount,\n                retryReason\n            });\n        } catch (e) {\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Error, `IRetryPolicy.nextRetryDelayInMilliseconds(${previousRetryCount}, ${elapsedMilliseconds}) threw error '${e}'.`);\n            return null;\n        }\n    }\n    _cancelCallbacksWithError(error) {\n        const callbacks = this._callbacks;\n        this._callbacks = {};\n        Object.keys(callbacks).forEach((key)=>{\n            const callback = callbacks[key];\n            try {\n                callback(null, error);\n            } catch (e) {\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Error, `Stream 'error' callback called with '${error}' threw error: ${(0,_Utils__WEBPACK_IMPORTED_MODULE_1__.getErrorString)(e)}`);\n            }\n        });\n    }\n    _cleanupPingTimer() {\n        if (this._pingServerHandle) {\n            clearTimeout(this._pingServerHandle);\n            this._pingServerHandle = undefined;\n        }\n    }\n    _cleanupTimeout() {\n        if (this._timeoutHandle) {\n            clearTimeout(this._timeoutHandle);\n        }\n    }\n    _createInvocation(methodName, args, nonblocking, streamIds) {\n        if (nonblocking) {\n            if (streamIds.length !== 0) {\n                return {\n                    arguments: args,\n                    streamIds,\n                    target: methodName,\n                    type: _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Invocation\n                };\n            } else {\n                return {\n                    arguments: args,\n                    target: methodName,\n                    type: _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Invocation\n                };\n            }\n        } else {\n            const invocationId = this._invocationId;\n            this._invocationId++;\n            if (streamIds.length !== 0) {\n                return {\n                    arguments: args,\n                    invocationId: invocationId.toString(),\n                    streamIds,\n                    target: methodName,\n                    type: _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Invocation\n                };\n            } else {\n                return {\n                    arguments: args,\n                    invocationId: invocationId.toString(),\n                    target: methodName,\n                    type: _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Invocation\n                };\n            }\n        }\n    }\n    _launchStreams(streams, promiseQueue) {\n        if (streams.length === 0) {\n            return;\n        }\n        // Synchronize stream data so they arrive in-order on the server\n        if (!promiseQueue) {\n            promiseQueue = Promise.resolve();\n        }\n        // We want to iterate over the keys, since the keys are the stream ids\n        // eslint-disable-next-line guard-for-in\n        for(const streamId in streams){\n            streams[streamId].subscribe({\n                complete: ()=>{\n                    promiseQueue = promiseQueue.then(()=>this._sendWithProtocol(this._createCompletionMessage(streamId)));\n                },\n                error: (err)=>{\n                    let message;\n                    if (err instanceof Error) {\n                        message = err.message;\n                    } else if (err && err.toString) {\n                        message = err.toString();\n                    } else {\n                        message = \"Unknown error\";\n                    }\n                    promiseQueue = promiseQueue.then(()=>this._sendWithProtocol(this._createCompletionMessage(streamId, message)));\n                },\n                next: (item)=>{\n                    promiseQueue = promiseQueue.then(()=>this._sendWithProtocol(this._createStreamItemMessage(streamId, item)));\n                }\n            });\n        }\n    }\n    _replaceStreamingParams(args) {\n        const streams = [];\n        const streamIds = [];\n        for(let i = 0; i < args.length; i++){\n            const argument = args[i];\n            if (this._isObservable(argument)) {\n                const streamId = this._invocationId;\n                this._invocationId++;\n                // Store the stream for later use\n                streams[streamId] = argument;\n                streamIds.push(streamId.toString());\n                // remove stream from args\n                args.splice(i, 1);\n            }\n        }\n        return [\n            streams,\n            streamIds\n        ];\n    }\n    _isObservable(arg) {\n        // This allows other stream implementations to just work (like rxjs)\n        return arg && arg.subscribe && typeof arg.subscribe === \"function\";\n    }\n    _createStreamInvocation(methodName, args, streamIds) {\n        const invocationId = this._invocationId;\n        this._invocationId++;\n        if (streamIds.length !== 0) {\n            return {\n                arguments: args,\n                invocationId: invocationId.toString(),\n                streamIds,\n                target: methodName,\n                type: _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.StreamInvocation\n            };\n        } else {\n            return {\n                arguments: args,\n                invocationId: invocationId.toString(),\n                target: methodName,\n                type: _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.StreamInvocation\n            };\n        }\n    }\n    _createCancelInvocation(id) {\n        return {\n            invocationId: id,\n            type: _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.CancelInvocation\n        };\n    }\n    _createStreamItemMessage(id, item) {\n        return {\n            invocationId: id,\n            item,\n            type: _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.StreamItem\n        };\n    }\n    _createCompletionMessage(id, error, result) {\n        if (error) {\n            return {\n                error,\n                invocationId: id,\n                type: _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Completion\n            };\n        }\n        return {\n            invocationId: id,\n            result,\n            type: _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Completion\n        };\n    }\n    _createCloseMessage() {\n        return {\n            type: _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Close\n        };\n    }\n} //# sourceMappingURL=HubConnection.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0h1YkNvbm5lY3Rpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUEsZ0VBQWdFO0FBQ2hFLHVFQUF1RTtBQUNmO0FBQ2xCO0FBQ087QUFDUjtBQUNEO0FBQ29CO0FBQ1I7QUFDaEQsTUFBTVMsd0JBQXdCLEtBQUs7QUFDbkMsTUFBTUMsOEJBQThCLEtBQUs7QUFDekMsTUFBTUMseUNBQXlDO0FBQy9DLDRFQUE0RSxHQUNyRSxJQUFJQyxtQkFBbUI7QUFDN0IsVUFBVUEsa0JBQWtCO0lBQ3pCLHdDQUF3QyxHQUN4Q0Esa0JBQWtCLENBQUMsZUFBZSxHQUFHO0lBQ3JDLHNDQUFzQyxHQUN0Q0Esa0JBQWtCLENBQUMsYUFBYSxHQUFHO0lBQ25DLHFDQUFxQyxHQUNyQ0Esa0JBQWtCLENBQUMsWUFBWSxHQUFHO0lBQ2xDLHlDQUF5QyxHQUN6Q0Esa0JBQWtCLENBQUMsZ0JBQWdCLEdBQUc7SUFDdEMsd0NBQXdDLEdBQ3hDQSxrQkFBa0IsQ0FBQyxlQUFlLEdBQUc7QUFDekMsR0FBR0Esc0JBQXVCQSxDQUFBQSxxQkFBcUIsQ0FBQztBQUNoRCw4Q0FBOEMsR0FDdkMsTUFBTUM7SUFDVCxjQUFjLEdBQ2QsaUdBQWlHO0lBQ2pHLCtGQUErRjtJQUMvRiw2RkFBNkY7SUFDN0YscUNBQXFDO0lBQ3JDLE9BQU9DLE9BQU9DLFVBQVUsRUFBRUMsTUFBTSxFQUFFQyxRQUFRLEVBQUVDLGVBQWUsRUFBRUMsMkJBQTJCLEVBQUVDLCtCQUErQixFQUFFQywyQkFBMkIsRUFBRTtRQUNwSixPQUFPLElBQUlSLGNBQWNFLFlBQVlDLFFBQVFDLFVBQVVDLGlCQUFpQkMsNkJBQTZCQyxpQ0FBaUNDO0lBQzFJO0lBQ0FDLFlBQVlQLFVBQVUsRUFBRUMsTUFBTSxFQUFFQyxRQUFRLEVBQUVDLGVBQWUsRUFBRUMsMkJBQTJCLEVBQUVDLCtCQUErQixFQUFFQywyQkFBMkIsQ0FBRTtRQUNsSixJ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QUM7SUFDckM7QUFDSixFQUNBLHlDQUF5QyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi1zb2NrZXRzLWNoYXQtY2xpZW50LWFwcC8uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L3NpZ25hbHIvZGlzdC9lc20vSHViQ29ubmVjdGlvbi5qcz80MzY4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuaW1wb3J0IHsgSGFuZHNoYWtlUHJvdG9jb2wgfSBmcm9tIFwiLi9IYW5kc2hha2VQcm90b2NvbFwiO1xyXG5pbXBvcnQgeyBBYm9ydEVycm9yIH0gZnJvbSBcIi4vRXJyb3JzXCI7XHJcbmltcG9ydCB7IE1lc3NhZ2VUeXBlIH0gZnJvbSBcIi4vSUh1YlByb3RvY29sXCI7XHJcbmltcG9ydCB7IExvZ0xldmVsIH0gZnJvbSBcIi4vSUxvZ2dlclwiO1xyXG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSBcIi4vU3ViamVjdFwiO1xyXG5pbXBvcnQgeyBBcmcsIGdldEVycm9yU3RyaW5nLCBQbGF0Zm9ybSB9IGZyb20gXCIuL1V0aWxzXCI7XHJcbmltcG9ydCB7IE1lc3NhZ2VCdWZmZXIgfSBmcm9tIFwiLi9NZXNzYWdlQnVmZmVyXCI7XHJcbmNvbnN0IERFRkFVTFRfVElNRU9VVF9JTl9NUyA9IDMwICogMTAwMDtcclxuY29uc3QgREVGQVVMVF9QSU5HX0lOVEVSVkFMX0lOX01TID0gMTUgKiAxMDAwO1xyXG5jb25zdCBERUZBVUxUX1NUQVRFRlVMX1JFQ09OTkVDVF9CVUZGRVJfU0laRSA9IDEwMDAwMDtcclxuLyoqIERlc2NyaWJlcyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUge0BsaW5rIEh1YkNvbm5lY3Rpb259IHRvIHRoZSBzZXJ2ZXIuICovXHJcbmV4cG9ydCB2YXIgSHViQ29ubmVjdGlvblN0YXRlO1xyXG4oZnVuY3Rpb24gKEh1YkNvbm5lY3Rpb25TdGF0ZSkge1xyXG4gICAgLyoqIFRoZSBodWIgY29ubmVjdGlvbiBpcyBkaXNjb25uZWN0ZWQuICovXHJcbiAgICBIdWJDb25uZWN0aW9uU3RhdGVbXCJEaXNjb25uZWN0ZWRcIl0gPSBcIkRpc2Nvbm5lY3RlZFwiO1xyXG4gICAgLyoqIFRoZSBodWIgY29ubmVjdGlvbiBpcyBjb25uZWN0aW5nLiAqL1xyXG4gICAgSHViQ29ubmVjdGlvblN0YXRlW1wiQ29ubmVjdGluZ1wiXSA9IFwiQ29ubmVjdGluZ1wiO1xyXG4gICAgLyoqIFRoZSBodWIgY29ubmVjdGlvbiBpcyBjb25uZWN0ZWQuICovXHJcbiAgICBIdWJDb25uZWN0aW9uU3RhdGVbXCJDb25uZWN0ZWRcIl0gPSBcIkNvbm5lY3RlZFwiO1xyXG4gICAgLyoqIFRoZSBodWIgY29ubmVjdGlvbiBpcyBkaXNjb25uZWN0aW5nLiAqL1xyXG4gICAgSHViQ29ubmVjdGlvblN0YXRlW1wiRGlzY29ubmVjdGluZ1wiXSA9IFwiRGlzY29ubmVjdGluZ1wiO1xyXG4gICAgLyoqIFRoZSBodWIgY29ubmVjdGlvbiBpcyByZWNvbm5lY3RpbmcuICovXHJcbiAgICBIdWJDb25uZWN0aW9uU3RhdGVbXCJSZWNvbm5lY3RpbmdcIl0gPSBcIlJlY29ubmVjdGluZ1wiO1xyXG59KShIdWJDb25uZWN0aW9uU3RhdGUgfHwgKEh1YkNvbm5lY3Rpb25TdGF0ZSA9IHt9KSk7XHJcbi8qKiBSZXByZXNlbnRzIGEgY29ubmVjdGlvbiB0byBhIFNpZ25hbFIgSHViLiAqL1xyXG5leHBvcnQgY2xhc3MgSHViQ29ubmVjdGlvbiB7XHJcbiAgICAvKiogQGludGVybmFsICovXHJcbiAgICAvLyBVc2luZyBhIHB1YmxpYyBzdGF0aWMgZmFjdG9yeSBtZXRob2QgbWVhbnMgd2UgY2FuIGhhdmUgYSBwcml2YXRlIGNvbnN0cnVjdG9yIGFuZCBhbiBfaW50ZXJuYWxfXHJcbiAgICAvLyBjcmVhdGUgbWV0aG9kIHRoYXQgY2FuIGJlIHVzZWQgYnkgSHViQ29ubmVjdGlvbkJ1aWxkZXIuIEFuIFwiaW50ZXJuYWxcIiBjb25zdHJ1Y3RvciB3b3VsZCBqdXN0XHJcbiAgICAvLyBiZSBzdHJpcHBlZCBhd2F5IGFuZCB0aGUgJy5kLnRzJyBmaWxlIHdvdWxkIGhhdmUgbm8gY29uc3RydWN0b3IsIHdoaWNoIGlzIGludGVycHJldGVkIGFzIGFcclxuICAgIC8vIHB1YmxpYyBwYXJhbWV0ZXItbGVzcyBjb25zdHJ1Y3Rvci5cclxuICAgIHN0YXRpYyBjcmVhdGUoY29ubmVjdGlvbiwgbG9nZ2VyLCBwcm90b2NvbCwgcmVjb25uZWN0UG9saWN5LCBzZXJ2ZXJUaW1lb3V0SW5NaWxsaXNlY29uZHMsIGtlZXBBbGl2ZUludGVydmFsSW5NaWxsaXNlY29uZHMsIHN0YXRlZnVsUmVjb25uZWN0QnVmZmVyU2l6ZSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgSHViQ29ubmVjdGlvbihjb25uZWN0aW9uLCBsb2dnZXIsIHByb3RvY29sLCByZWNvbm5lY3RQb2xpY3ksIHNlcnZlclRpbWVvdXRJbk1pbGxpc2Vjb25kcywga2VlcEFsaXZlSW50ZXJ2YWxJbk1pbGxpc2Vjb25kcywgc3RhdGVmdWxSZWNvbm5lY3RCdWZmZXJTaXplKTtcclxuICAgIH1cclxuICAgIGNvbnN0cnVjdG9yKGNvbm5lY3Rpb24sIGxvZ2dlciwgcHJvdG9jb2wsIHJlY29ubmVjdFBvbGljeSwgc2VydmVyVGltZW91dEluTWlsbGlzZWNvbmRzLCBrZWVwQWxpdmVJbnRlcnZhbEluTWlsbGlzZWNvbmRzLCBzdGF0ZWZ1bFJlY29ubmVjdEJ1ZmZlclNpemUpIHtcclxuICAgICAgICB0aGlzLl9uZXh0S2VlcEFsaXZlID0gMDtcclxuICAgICAgICB0aGlzLl9mcmVlemVFdmVudExpc3RlbmVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLldhcm5pbmcsIFwiVGhlIHBhZ2UgaXMgYmVpbmcgZnJvemVuLCB0aGlzIHdpbGwgbGlrZWx5IGxlYWQgdG8gdGhlIGNvbm5lY3Rpb24gYmVpbmcgY2xvc2VkIGFuZCBtZXNzYWdlcyBiZWluZyBsb3N0LiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBzZWUgdGhlIGRvY3MgYXQgaHR0cHM6Ly9sZWFybi5taWNyb3NvZnQuY29tL2FzcG5ldC9jb3JlL3NpZ25hbHIvamF2YXNjcmlwdC1jbGllbnQjYnNsZWVwXCIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQXJnLmlzUmVxdWlyZWQoY29ubmVjdGlvbiwgXCJjb25uZWN0aW9uXCIpO1xyXG4gICAgICAgIEFyZy5pc1JlcXVpcmVkKGxvZ2dlciwgXCJsb2dnZXJcIik7XHJcbiAgICAgICAgQXJnLmlzUmVxdWlyZWQocHJvdG9jb2wsIFwicHJvdG9jb2xcIik7XHJcbiAgICAgICAgdGhpcy5zZXJ2ZXJUaW1lb3V0SW5NaWxsaXNlY29uZHMgPSBzZXJ2ZXJUaW1lb3V0SW5NaWxsaXNlY29uZHMgIT09IG51bGwgJiYgc2VydmVyVGltZW91dEluTWlsbGlzZWNvbmRzICE9PSB2b2lkIDAgPyBzZXJ2ZXJUaW1lb3V0SW5NaWxsaXNlY29uZHMgOiBERUZBVUxUX1RJTUVPVVRfSU5fTVM7XHJcbiAgICAgICAgdGhpcy5rZWVwQWxpdmVJbnRlcnZhbEluTWlsbGlzZWNvbmRzID0ga2VlcEFsaXZlSW50ZXJ2YWxJbk1pbGxpc2Vjb25kcyAhPT0gbnVsbCAmJiBrZWVwQWxpdmVJbnRlcnZhbEluTWlsbGlzZWNvbmRzICE9PSB2b2lkIDAgPyBrZWVwQWxpdmVJbnRlcnZhbEluTWlsbGlzZWNvbmRzIDogREVGQVVMVF9QSU5HX0lOVEVSVkFMX0lOX01TO1xyXG4gICAgICAgIHRoaXMuX3N0YXRlZnVsUmVjb25uZWN0QnVmZmVyU2l6ZSA9IHN0YXRlZnVsUmVjb25uZWN0QnVmZmVyU2l6ZSAhPT0gbnVsbCAmJiBzdGF0ZWZ1bFJlY29ubmVjdEJ1ZmZlclNpemUgIT09IHZvaWQgMCA/IHN0YXRlZnVsUmVjb25uZWN0QnVmZmVyU2l6ZSA6IERFRkFVTFRfU1RBVEVGVUxfUkVDT05ORUNUX0JVRkZFUl9TSVpFO1xyXG4gICAgICAgIHRoaXMuX2xvZ2dlciA9IGxvZ2dlcjtcclxuICAgICAgICB0aGlzLl9wcm90b2NvbCA9IHByb3RvY29sO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IGNvbm5lY3Rpb247XHJcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0UG9saWN5ID0gcmVjb25uZWN0UG9saWN5O1xyXG4gICAgICAgIHRoaXMuX2hhbmRzaGFrZVByb3RvY29sID0gbmV3IEhhbmRzaGFrZVByb3RvY29sKCk7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uLm9ucmVjZWl2ZSA9IChkYXRhKSA9PiB0aGlzLl9wcm9jZXNzSW5jb21pbmdEYXRhKGRhdGEpO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5vbmNsb3NlID0gKGVycm9yKSA9PiB0aGlzLl9jb25uZWN0aW9uQ2xvc2VkKGVycm9yKTtcclxuICAgICAgICB0aGlzLl9jYWxsYmFja3MgPSB7fTtcclxuICAgICAgICB0aGlzLl9tZXRob2RzID0ge307XHJcbiAgICAgICAgdGhpcy5fY2xvc2VkQ2FsbGJhY2tzID0gW107XHJcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW5nQ2FsbGJhY2tzID0gW107XHJcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0ZWRDYWxsYmFja3MgPSBbXTtcclxuICAgICAgICB0aGlzLl9pbnZvY2F0aW9uSWQgPSAwO1xyXG4gICAgICAgIHRoaXMuX3JlY2VpdmVkSGFuZHNoYWtlUmVzcG9uc2UgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9jb25uZWN0aW9uU3RhdGUgPSBIdWJDb25uZWN0aW9uU3RhdGUuRGlzY29ubmVjdGVkO1xyXG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25TdGFydGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fY2FjaGVkUGluZ01lc3NhZ2UgPSB0aGlzLl9wcm90b2NvbC53cml0ZU1lc3NhZ2UoeyB0eXBlOiBNZXNzYWdlVHlwZS5QaW5nIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqIEluZGljYXRlcyB0aGUgc3RhdGUgb2YgdGhlIHtAbGluayBIdWJDb25uZWN0aW9ufSB0byB0aGUgc2VydmVyLiAqL1xyXG4gICAgZ2V0IHN0YXRlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb25uZWN0aW9uU3RhdGU7XHJcbiAgICB9XHJcbiAgICAvKiogUmVwcmVzZW50cyB0aGUgY29ubmVjdGlvbiBpZCBvZiB0aGUge0BsaW5rIEh1YkNvbm5lY3Rpb259IG9uIHRoZSBzZXJ2ZXIuIFRoZSBjb25uZWN0aW9uIGlkIHdpbGwgYmUgbnVsbCB3aGVuIHRoZSBjb25uZWN0aW9uIGlzIGVpdGhlclxyXG4gICAgICogIGluIHRoZSBkaXNjb25uZWN0ZWQgc3RhdGUgb3IgaWYgdGhlIG5lZ290aWF0aW9uIHN0ZXAgd2FzIHNraXBwZWQuXHJcbiAgICAgKi9cclxuICAgIGdldCBjb25uZWN0aW9uSWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbiA/ICh0aGlzLmNvbm5lY3Rpb24uY29ubmVjdGlvbklkIHx8IG51bGwpIDogbnVsbDtcclxuICAgIH1cclxuICAgIC8qKiBJbmRpY2F0ZXMgdGhlIHVybCBvZiB0aGUge0BsaW5rIEh1YkNvbm5lY3Rpb259IHRvIHRoZSBzZXJ2ZXIuICovXHJcbiAgICBnZXQgYmFzZVVybCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uLmJhc2VVcmwgfHwgXCJcIjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBhIG5ldyB1cmwgZm9yIHRoZSBIdWJDb25uZWN0aW9uLiBOb3RlIHRoYXQgdGhlIHVybCBjYW4gb25seSBiZSBjaGFuZ2VkIHdoZW4gdGhlIGNvbm5lY3Rpb24gaXMgaW4gZWl0aGVyIHRoZSBEaXNjb25uZWN0ZWQgb3JcclxuICAgICAqIFJlY29ubmVjdGluZyBzdGF0ZXMuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSB1cmwgdG8gY29ubmVjdCB0by5cclxuICAgICAqL1xyXG4gICAgc2V0IGJhc2VVcmwodXJsKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZSAhPT0gSHViQ29ubmVjdGlvblN0YXRlLkRpc2Nvbm5lY3RlZCAmJiB0aGlzLl9jb25uZWN0aW9uU3RhdGUgIT09IEh1YkNvbm5lY3Rpb25TdGF0ZS5SZWNvbm5lY3RpbmcpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIEh1YkNvbm5lY3Rpb24gbXVzdCBiZSBpbiB0aGUgRGlzY29ubmVjdGVkIG9yIFJlY29ubmVjdGluZyBzdGF0ZSB0byBjaGFuZ2UgdGhlIHVybC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdXJsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBIdWJDb25uZWN0aW9uIHVybCBtdXN0IGJlIGEgdmFsaWQgdXJsLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uLmJhc2VVcmwgPSB1cmw7XHJcbiAgICB9XHJcbiAgICAvKiogU3RhcnRzIHRoZSBjb25uZWN0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBjb25uZWN0aW9uIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBlc3RhYmxpc2hlZCwgb3IgcmVqZWN0cyB3aXRoIGFuIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLl9zdGFydFByb21pc2UgPSB0aGlzLl9zdGFydFdpdGhTdGF0ZVRyYW5zaXRpb25zKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXJ0UHJvbWlzZTtcclxuICAgIH1cclxuICAgIGFzeW5jIF9zdGFydFdpdGhTdGF0ZVRyYW5zaXRpb25zKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9jb25uZWN0aW9uU3RhdGUgIT09IEh1YkNvbm5lY3Rpb25TdGF0ZS5EaXNjb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkNhbm5vdCBzdGFydCBhIEh1YkNvbm5lY3Rpb24gdGhhdCBpcyBub3QgaW4gdGhlICdEaXNjb25uZWN0ZWQnIHN0YXRlLlwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZSA9IEh1YkNvbm5lY3Rpb25TdGF0ZS5Db25uZWN0aW5nO1xyXG4gICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIFwiU3RhcnRpbmcgSHViQ29ubmVjdGlvbi5cIik7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5fc3RhcnRJbnRlcm5hbCgpO1xyXG4gICAgICAgICAgICBpZiAoUGxhdGZvcm0uaXNCcm93c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBMb2cgd2hlbiB0aGUgYnJvd3NlciBmcmVlemVzIHRoZSB0YWIgc28gdXNlcnMga25vdyB3aHkgdGhlaXIgY29ubmVjdGlvbiB1bmV4cGVjdGVkbHkgc3RvcHBlZCB3b3JraW5nXHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImZyZWV6ZVwiLCB0aGlzLl9mcmVlemVFdmVudExpc3RlbmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9jb25uZWN0aW9uU3RhdGUgPSBIdWJDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGVkO1xyXG4gICAgICAgICAgICB0aGlzLl9jb25uZWN0aW9uU3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIFwiSHViQ29ubmVjdGlvbiBjb25uZWN0ZWQgc3VjY2Vzc2Z1bGx5LlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29ubmVjdGlvblN0YXRlID0gSHViQ29ubmVjdGlvblN0YXRlLkRpc2Nvbm5lY3RlZDtcclxuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5EZWJ1ZywgYEh1YkNvbm5lY3Rpb24gZmFpbGVkIHRvIHN0YXJ0IHN1Y2Nlc3NmdWxseSBiZWNhdXNlIG9mIGVycm9yICcke2V9Jy5gKTtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFzeW5jIF9zdGFydEludGVybmFsKCkge1xyXG4gICAgICAgIHRoaXMuX3N0b3BEdXJpbmdTdGFydEVycm9yID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuX3JlY2VpdmVkSGFuZHNoYWtlUmVzcG9uc2UgPSBmYWxzZTtcclxuICAgICAgICAvLyBTZXQgdXAgdGhlIHByb21pc2UgYmVmb3JlIGFueSBjb25uZWN0aW9uIGlzIChyZSlzdGFydGVkIG90aGVyd2lzZSBpdCBjb3VsZCByYWNlIHdpdGggcmVjZWl2ZWQgbWVzc2FnZXNcclxuICAgICAgICBjb25zdCBoYW5kc2hha2VQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kc2hha2VSZXNvbHZlciA9IHJlc29sdmU7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRzaGFrZVJlamVjdGVyID0gcmVqZWN0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuY29ubmVjdGlvbi5zdGFydCh0aGlzLl9wcm90b2NvbC50cmFuc2ZlckZvcm1hdCk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHZlcnNpb24gPSB0aGlzLl9wcm90b2NvbC52ZXJzaW9uO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGlvbi5mZWF0dXJlcy5yZWNvbm5lY3QpIHtcclxuICAgICAgICAgICAgICAgIC8vIFN0YXRlZnVsIFJlY29ubmVjdCBzdGFydHMgd2l0aCBIdWJQcm90b2NvbCB2ZXJzaW9uIDIsIG5ld2VyIGNsaWVudHMgY29ubmVjdGluZyB0byBvbGRlciBzZXJ2ZXJzIHdpbGwgZmFpbCB0byBjb25uZWN0IGR1ZSB0b1xyXG4gICAgICAgICAgICAgICAgLy8gdGhlIGhhbmRzaGFrZSBvbmx5IHN1cHBvcnRpbmcgdmVyc2lvbiAxLCBzbyB3ZSB3aWxsIHRyeSB0byBzZW5kIHZlcnNpb24gMSBkdXJpbmcgdGhlIGhhbmRzaGFrZSB0byBrZWVwIG9sZCBzZXJ2ZXJzIHdvcmtpbmcuXHJcbiAgICAgICAgICAgICAgICB2ZXJzaW9uID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBoYW5kc2hha2VSZXF1ZXN0ID0ge1xyXG4gICAgICAgICAgICAgICAgcHJvdG9jb2w6IHRoaXMuX3Byb3RvY29sLm5hbWUsXHJcbiAgICAgICAgICAgICAgICB2ZXJzaW9uLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkRlYnVnLCBcIlNlbmRpbmcgaGFuZHNoYWtlIHJlcXVlc3QuXCIpO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9zZW5kTWVzc2FnZSh0aGlzLl9oYW5kc2hha2VQcm90b2NvbC53cml0ZUhhbmRzaGFrZVJlcXVlc3QoaGFuZHNoYWtlUmVxdWVzdCkpO1xyXG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkluZm9ybWF0aW9uLCBgVXNpbmcgSHViUHJvdG9jb2wgJyR7dGhpcy5fcHJvdG9jb2wubmFtZX0nLmApO1xyXG4gICAgICAgICAgICAvLyBkZWZlbnNpdmVseSBjbGVhbnVwIHRpbWVvdXQgaW4gY2FzZSB3ZSByZWNlaXZlIGEgbWVzc2FnZSBmcm9tIHRoZSBzZXJ2ZXIgYmVmb3JlIHdlIGZpbmlzaCBzdGFydFxyXG4gICAgICAgICAgICB0aGlzLl9jbGVhbnVwVGltZW91dCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9yZXNldFRpbWVvdXRQZXJpb2QoKTtcclxuICAgICAgICAgICAgdGhpcy5fcmVzZXRLZWVwQWxpdmVJbnRlcnZhbCgpO1xyXG4gICAgICAgICAgICBhd2FpdCBoYW5kc2hha2VQcm9taXNlO1xyXG4gICAgICAgICAgICAvLyBJdCdzIGltcG9ydGFudCB0byBjaGVjayB0aGUgc3RvcER1cmluZ1N0YXJ0RXJyb3IgaW5zdGVhZCBvZiBqdXN0IHJlbHlpbmcgb24gdGhlIGhhbmRzaGFrZVByb21pc2VcclxuICAgICAgICAgICAgLy8gYmVpbmcgcmVqZWN0ZWQgb24gY2xvc2UsIGJlY2F1c2UgdGhpcyBjb250aW51YXRpb24gY2FuIHJ1biBhZnRlciBib3RoIHRoZSBoYW5kc2hha2UgY29tcGxldGVkIHN1Y2Nlc3NmdWxseVxyXG4gICAgICAgICAgICAvLyBhbmQgdGhlIGNvbm5lY3Rpb24gd2FzIGNsb3NlZC5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX3N0b3BEdXJpbmdTdGFydEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJdCdzIGltcG9ydGFudCB0byB0aHJvdyBpbnN0ZWFkIG9mIHJldHVybmluZyBhIHJlamVjdGVkIHByb21pc2UsIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCB0byBhbGxvdyBhbnkgc3RhdGVcclxuICAgICAgICAgICAgICAgIC8vIHRyYW5zaXRpb25zIHRvIG9jY3VyIGJldHdlZW4gbm93IGFuZCB0aGUgY2FsbGluZyBjb2RlIG9ic2VydmluZyB0aGUgZXhjZXB0aW9ucy4gUmV0dXJuaW5nIGEgcmVqZWN0ZWQgcHJvbWlzZVxyXG4gICAgICAgICAgICAgICAgLy8gd2lsbCBjYXVzZSB0aGUgY2FsbGluZyBjb250aW51YXRpb24gdG8gZ2V0IHNjaGVkdWxlZCB0byBydW4gbGF0ZXIuXHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRocm93LWxpdGVyYWxcclxuICAgICAgICAgICAgICAgIHRocm93IHRoaXMuX3N0b3BEdXJpbmdTdGFydEVycm9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZVN0YXRlZnVsUmVjb25uZWN0ID0gdGhpcy5jb25uZWN0aW9uLmZlYXR1cmVzLnJlY29ubmVjdCB8fCBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKHVzZVN0YXRlZnVsUmVjb25uZWN0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tZXNzYWdlQnVmZmVyID0gbmV3IE1lc3NhZ2VCdWZmZXIodGhpcy5fcHJvdG9jb2wsIHRoaXMuY29ubmVjdGlvbiwgdGhpcy5fc3RhdGVmdWxSZWNvbm5lY3RCdWZmZXJTaXplKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbi5mZWF0dXJlcy5kaXNjb25uZWN0ZWQgPSB0aGlzLl9tZXNzYWdlQnVmZmVyLl9kaXNjb25uZWN0ZWQuYmluZCh0aGlzLl9tZXNzYWdlQnVmZmVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbi5mZWF0dXJlcy5yZXNlbmQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX21lc3NhZ2VCdWZmZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21lc3NhZ2VCdWZmZXIuX3Jlc2VuZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3Rpb24uZmVhdHVyZXMuaW5oZXJlbnRLZWVwQWxpdmUpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3NlbmRNZXNzYWdlKHRoaXMuX2NhY2hlZFBpbmdNZXNzYWdlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkRlYnVnLCBgSHViIGhhbmRzaGFrZSBmYWlsZWQgd2l0aCBlcnJvciAnJHtlfScgZHVyaW5nIHN0YXJ0KCkuIFN0b3BwaW5nIEh1YkNvbm5lY3Rpb24uYCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2NsZWFudXBUaW1lb3V0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2NsZWFudXBQaW5nVGltZXIoKTtcclxuICAgICAgICAgICAgLy8gSHR0cENvbm5lY3Rpb24uc3RvcCgpIHNob3VsZCBub3QgY29tcGxldGUgdW50aWwgYWZ0ZXIgdGhlIG9uY2xvc2UgY2FsbGJhY2sgaXMgaW52b2tlZC5cclxuICAgICAgICAgICAgLy8gVGhpcyB3aWxsIHRyYW5zaXRpb24gdGhlIEh1YkNvbm5lY3Rpb24gdG8gdGhlIGRpc2Nvbm5lY3RlZCBzdGF0ZSBiZWZvcmUgSHR0cENvbm5lY3Rpb24uc3RvcCgpIGNvbXBsZXRlcy5cclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uZWN0aW9uLnN0b3AoZSk7XHJcbiAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqIFN0b3BzIHRoZSBjb25uZWN0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBjb25uZWN0aW9uIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSB0ZXJtaW5hdGVkLCBvciByZWplY3RzIHdpdGggYW4gZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHN0b3AoKSB7XHJcbiAgICAgICAgLy8gQ2FwdHVyZSB0aGUgc3RhcnQgcHJvbWlzZSBiZWZvcmUgdGhlIGNvbm5lY3Rpb24gbWlnaHQgYmUgcmVzdGFydGVkIGluIGFuIG9uY2xvc2UgY2FsbGJhY2suXHJcbiAgICAgICAgY29uc3Qgc3RhcnRQcm9taXNlID0gdGhpcy5fc3RhcnRQcm9taXNlO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5mZWF0dXJlcy5yZWNvbm5lY3QgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9zdG9wUHJvbWlzZSA9IHRoaXMuX3N0b3BJbnRlcm5hbCgpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuX3N0b3BQcm9taXNlO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIEF3YWl0aW5nIHVuZGVmaW5lZCBjb250aW51ZXMgaW1tZWRpYXRlbHlcclxuICAgICAgICAgICAgYXdhaXQgc3RhcnRQcm9taXNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyBUaGlzIGV4Y2VwdGlvbiBpcyByZXR1cm5lZCB0byB0aGUgdXNlciBhcyBhIHJlamVjdGVkIFByb21pc2UgZnJvbSB0aGUgc3RhcnQgbWV0aG9kLlxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9zdG9wSW50ZXJuYWwoZXJyb3IpIHtcclxuICAgICAgICBpZiAodGhpcy5fY29ubmVjdGlvblN0YXRlID09PSBIdWJDb25uZWN0aW9uU3RhdGUuRGlzY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIGBDYWxsIHRvIEh1YkNvbm5lY3Rpb24uc3RvcCgke2Vycm9yfSkgaWdub3JlZCBiZWNhdXNlIGl0IGlzIGFscmVhZHkgaW4gdGhlIGRpc2Nvbm5lY3RlZCBzdGF0ZS5gKTtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fY29ubmVjdGlvblN0YXRlID09PSBIdWJDb25uZWN0aW9uU3RhdGUuRGlzY29ubmVjdGluZykge1xyXG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkRlYnVnLCBgQ2FsbCB0byBIdHRwQ29ubmVjdGlvbi5zdG9wKCR7ZXJyb3J9KSBpZ25vcmVkIGJlY2F1c2UgdGhlIGNvbm5lY3Rpb24gaXMgYWxyZWFkeSBpbiB0aGUgZGlzY29ubmVjdGluZyBzdGF0ZS5gKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0b3BQcm9taXNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZTtcclxuICAgICAgICB0aGlzLl9jb25uZWN0aW9uU3RhdGUgPSBIdWJDb25uZWN0aW9uU3RhdGUuRGlzY29ubmVjdGluZztcclxuICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkRlYnVnLCBcIlN0b3BwaW5nIEh1YkNvbm5lY3Rpb24uXCIpO1xyXG4gICAgICAgIGlmICh0aGlzLl9yZWNvbm5lY3REZWxheUhhbmRsZSkge1xyXG4gICAgICAgICAgICAvLyBXZSdyZSBpbiBhIHJlY29ubmVjdCBkZWxheSB3aGljaCBtZWFucyB0aGUgdW5kZXJseWluZyBjb25uZWN0aW9uIGlzIGN1cnJlbnRseSBhbHJlYWR5IHN0b3BwZWQuXHJcbiAgICAgICAgICAgIC8vIEp1c3QgY2xlYXIgdGhlIGhhbmRsZSB0byBzdG9wIHRoZSByZWNvbm5lY3QgbG9vcCAod2hpY2ggbm8gb25lIGlzIHdhaXRpbmcgb24gdGhhbmtmdWxseSkgYW5kXHJcbiAgICAgICAgICAgIC8vIGZpcmUgdGhlIG9uY2xvc2UgY2FsbGJhY2tzLlxyXG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkRlYnVnLCBcIkNvbm5lY3Rpb24gc3RvcHBlZCBkdXJpbmcgcmVjb25uZWN0IGRlbGF5LiBEb25lIHJlY29ubmVjdGluZy5cIik7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9yZWNvbm5lY3REZWxheUhhbmRsZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlY29ubmVjdERlbGF5SGFuZGxlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZUNsb3NlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0YXRlID09PSBIdWJDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXNcclxuICAgICAgICAgICAgdGhpcy5fc2VuZENsb3NlTWVzc2FnZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9jbGVhbnVwVGltZW91dCgpO1xyXG4gICAgICAgIHRoaXMuX2NsZWFudXBQaW5nVGltZXIoKTtcclxuICAgICAgICB0aGlzLl9zdG9wRHVyaW5nU3RhcnRFcnJvciA9IGVycm9yIHx8IG5ldyBBYm9ydEVycm9yKFwiVGhlIGNvbm5lY3Rpb24gd2FzIHN0b3BwZWQgYmVmb3JlIHRoZSBodWIgaGFuZHNoYWtlIGNvdWxkIGNvbXBsZXRlLlwiKTtcclxuICAgICAgICAvLyBIdHRwQ29ubmVjdGlvbi5zdG9wKCkgc2hvdWxkIG5vdCBjb21wbGV0ZSB1bnRpbCBhZnRlciBlaXRoZXIgSHR0cENvbm5lY3Rpb24uc3RhcnQoKSBmYWlsc1xyXG4gICAgICAgIC8vIG9yIHRoZSBvbmNsb3NlIGNhbGxiYWNrIGlzIGludm9rZWQuIFRoZSBvbmNsb3NlIGNhbGxiYWNrIHdpbGwgdHJhbnNpdGlvbiB0aGUgSHViQ29ubmVjdGlvblxyXG4gICAgICAgIC8vIHRvIHRoZSBkaXNjb25uZWN0ZWQgc3RhdGUgaWYgbmVlZCBiZSBiZWZvcmUgSHR0cENvbm5lY3Rpb24uc3RvcCgpIGNvbXBsZXRlcy5cclxuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uLnN0b3AoZXJyb3IpO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgX3NlbmRDbG9zZU1lc3NhZ2UoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5fc2VuZFdpdGhQcm90b2NvbCh0aGlzLl9jcmVhdGVDbG9zZU1lc3NhZ2UoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIHtcclxuICAgICAgICAgICAgLy8gSWdub3JlLCB0aGlzIGlzIGEgYmVzdCBlZmZvcnQgYXR0ZW1wdCB0byBsZXQgdGhlIHNlcnZlciBrbm93IHRoZSBjbGllbnQgY2xvc2VkIGdyYWNlZnVsbHkuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqIEludm9rZXMgYSBzdHJlYW1pbmcgaHViIG1ldGhvZCBvbiB0aGUgc2VydmVyIHVzaW5nIHRoZSBzcGVjaWZpZWQgbmFtZSBhbmQgYXJndW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlcGFyYW0gVCBUaGUgdHlwZSBvZiB0aGUgaXRlbXMgcmV0dXJuZWQgYnkgdGhlIHNlcnZlci5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBzZXJ2ZXIgbWV0aG9kIHRvIGludm9rZS5cclxuICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3MgVGhlIGFyZ3VtZW50cyB1c2VkIHRvIGludm9rZSB0aGUgc2VydmVyIG1ldGhvZC5cclxuICAgICAqIEByZXR1cm5zIHtJU3RyZWFtUmVzdWx0PFQ+fSBBbiBvYmplY3QgdGhhdCB5aWVsZHMgcmVzdWx0cyBmcm9tIHRoZSBzZXJ2ZXIgYXMgdGhleSBhcmUgcmVjZWl2ZWQuXHJcbiAgICAgKi9cclxuICAgIHN0cmVhbShtZXRob2ROYW1lLCAuLi5hcmdzKSB7XHJcbiAgICAgICAgY29uc3QgW3N0cmVhbXMsIHN0cmVhbUlkc10gPSB0aGlzLl9yZXBsYWNlU3RyZWFtaW5nUGFyYW1zKGFyZ3MpO1xyXG4gICAgICAgIGNvbnN0IGludm9jYXRpb25EZXNjcmlwdG9yID0gdGhpcy5fY3JlYXRlU3RyZWFtSW52b2NhdGlvbihtZXRob2ROYW1lLCBhcmdzLCBzdHJlYW1JZHMpO1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3RcclxuICAgICAgICBsZXQgcHJvbWlzZVF1ZXVlO1xyXG4gICAgICAgIGNvbnN0IHN1YmplY3QgPSBuZXcgU3ViamVjdCgpO1xyXG4gICAgICAgIHN1YmplY3QuY2FuY2VsQ2FsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhbmNlbEludm9jYXRpb24gPSB0aGlzLl9jcmVhdGVDYW5jZWxJbnZvY2F0aW9uKGludm9jYXRpb25EZXNjcmlwdG9yLmludm9jYXRpb25JZCk7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbaW52b2NhdGlvbkRlc2NyaXB0b3IuaW52b2NhdGlvbklkXTtcclxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VRdWV1ZS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZW5kV2l0aFByb3RvY29sKGNhbmNlbEludm9jYXRpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrc1tpbnZvY2F0aW9uRGVzY3JpcHRvci5pbnZvY2F0aW9uSWRdID0gKGludm9jYXRpb25FdmVudCwgZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBzdWJqZWN0LmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpbnZvY2F0aW9uRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIC8vIGludm9jYXRpb25FdmVudCB3aWxsIG5vdCBiZSBudWxsIHdoZW4gYW4gZXJyb3IgaXMgbm90IHBhc3NlZCB0byB0aGUgY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgIGlmIChpbnZvY2F0aW9uRXZlbnQudHlwZSA9PT0gTWVzc2FnZVR5cGUuQ29tcGxldGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnZvY2F0aW9uRXZlbnQuZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViamVjdC5lcnJvcihuZXcgRXJyb3IoaW52b2NhdGlvbkV2ZW50LmVycm9yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJqZWN0LmNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ViamVjdC5uZXh0KChpbnZvY2F0aW9uRXZlbnQuaXRlbSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwcm9taXNlUXVldWUgPSB0aGlzLl9zZW5kV2l0aFByb3RvY29sKGludm9jYXRpb25EZXNjcmlwdG9yKVxyXG4gICAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcclxuICAgICAgICAgICAgc3ViamVjdC5lcnJvcihlKTtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1tpbnZvY2F0aW9uRGVzY3JpcHRvci5pbnZvY2F0aW9uSWRdO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2xhdW5jaFN0cmVhbXMoc3RyZWFtcywgcHJvbWlzZVF1ZXVlKTtcclxuICAgICAgICByZXR1cm4gc3ViamVjdDtcclxuICAgIH1cclxuICAgIF9zZW5kTWVzc2FnZShtZXNzYWdlKSB7XHJcbiAgICAgICAgdGhpcy5fcmVzZXRLZWVwQWxpdmVJbnRlcnZhbCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb24uc2VuZChtZXNzYWdlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2VuZHMgYSBqcyBvYmplY3QgdG8gdGhlIHNlcnZlci5cclxuICAgICAqIEBwYXJhbSBtZXNzYWdlIFRoZSBqcyBvYmplY3QgdG8gc2VyaWFsaXplIGFuZCBzZW5kLlxyXG4gICAgICovXHJcbiAgICBfc2VuZFdpdGhQcm90b2NvbChtZXNzYWdlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX21lc3NhZ2VCdWZmZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21lc3NhZ2VCdWZmZXIuX3NlbmQobWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2VuZE1lc3NhZ2UodGhpcy5fcHJvdG9jb2wud3JpdGVNZXNzYWdlKG1lc3NhZ2UpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKiogSW52b2tlcyBhIGh1YiBtZXRob2Qgb24gdGhlIHNlcnZlciB1c2luZyB0aGUgc3BlY2lmaWVkIG5hbWUgYW5kIGFyZ3VtZW50cy4gRG9lcyBub3Qgd2FpdCBmb3IgYSByZXNwb25zZSBmcm9tIHRoZSByZWNlaXZlci5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgUHJvbWlzZSByZXR1cm5lZCBieSB0aGlzIG1ldGhvZCByZXNvbHZlcyB3aGVuIHRoZSBjbGllbnQgaGFzIHNlbnQgdGhlIGludm9jYXRpb24gdG8gdGhlIHNlcnZlci4gVGhlIHNlcnZlciBtYXkgc3RpbGxcclxuICAgICAqIGJlIHByb2Nlc3NpbmcgdGhlIGludm9jYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIHNlcnZlciBtZXRob2QgdG8gaW52b2tlLlxyXG4gICAgICogQHBhcmFtIHthbnlbXX0gYXJncyBUaGUgYXJndW1lbnRzIHVzZWQgdG8gaW52b2tlIHRoZSBzZXJ2ZXIgbWV0aG9kLlxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGludm9jYXRpb24gaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IHNlbnQsIG9yIHJlamVjdHMgd2l0aCBhbiBlcnJvci5cclxuICAgICAqL1xyXG4gICAgc2VuZChtZXRob2ROYW1lLCAuLi5hcmdzKSB7XHJcbiAgICAgICAgY29uc3QgW3N0cmVhbXMsIHN0cmVhbUlkc10gPSB0aGlzLl9yZXBsYWNlU3RyZWFtaW5nUGFyYW1zKGFyZ3MpO1xyXG4gICAgICAgIGNvbnN0IHNlbmRQcm9taXNlID0gdGhpcy5fc2VuZFdpdGhQcm90b2NvbCh0aGlzLl9jcmVhdGVJbnZvY2F0aW9uKG1ldGhvZE5hbWUsIGFyZ3MsIHRydWUsIHN0cmVhbUlkcykpO1xyXG4gICAgICAgIHRoaXMuX2xhdW5jaFN0cmVhbXMoc3RyZWFtcywgc2VuZFByb21pc2UpO1xyXG4gICAgICAgIHJldHVybiBzZW5kUHJvbWlzZTtcclxuICAgIH1cclxuICAgIC8qKiBJbnZva2VzIGEgaHViIG1ldGhvZCBvbiB0aGUgc2VydmVyIHVzaW5nIHRoZSBzcGVjaWZpZWQgbmFtZSBhbmQgYXJndW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIFRoZSBQcm9taXNlIHJldHVybmVkIGJ5IHRoaXMgbWV0aG9kIHJlc29sdmVzIHdoZW4gdGhlIHNlcnZlciBpbmRpY2F0ZXMgaXQgaGFzIGZpbmlzaGVkIGludm9raW5nIHRoZSBtZXRob2QuIFdoZW4gdGhlIHByb21pc2VcclxuICAgICAqIHJlc29sdmVzLCB0aGUgc2VydmVyIGhhcyBmaW5pc2hlZCBpbnZva2luZyB0aGUgbWV0aG9kLiBJZiB0aGUgc2VydmVyIG1ldGhvZCByZXR1cm5zIGEgcmVzdWx0LCBpdCBpcyBwcm9kdWNlZCBhcyB0aGUgcmVzdWx0IG9mXHJcbiAgICAgKiByZXNvbHZpbmcgdGhlIFByb21pc2UuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGVwYXJhbSBUIFRoZSBleHBlY3RlZCByZXR1cm4gdHlwZS5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBzZXJ2ZXIgbWV0aG9kIHRvIGludm9rZS5cclxuICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3MgVGhlIGFyZ3VtZW50cyB1c2VkIHRvIGludm9rZSB0aGUgc2VydmVyIG1ldGhvZC5cclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFQ+fSBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIHNlcnZlciBtZXRob2QgKGlmIGFueSksIG9yIHJlamVjdHMgd2l0aCBhbiBlcnJvci5cclxuICAgICAqL1xyXG4gICAgaW52b2tlKG1ldGhvZE5hbWUsIC4uLmFyZ3MpIHtcclxuICAgICAgICBjb25zdCBbc3RyZWFtcywgc3RyZWFtSWRzXSA9IHRoaXMuX3JlcGxhY2VTdHJlYW1pbmdQYXJhbXMoYXJncyk7XHJcbiAgICAgICAgY29uc3QgaW52b2NhdGlvbkRlc2NyaXB0b3IgPSB0aGlzLl9jcmVhdGVJbnZvY2F0aW9uKG1ldGhvZE5hbWUsIGFyZ3MsIGZhbHNlLCBzdHJlYW1JZHMpO1xyXG4gICAgICAgIGNvbnN0IHAgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGludm9jYXRpb25JZCB3aWxsIGFsd2F5cyBoYXZlIGEgdmFsdWUgZm9yIGEgbm9uLWJsb2NraW5nIGludm9jYXRpb25cclxuICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2tzW2ludm9jYXRpb25EZXNjcmlwdG9yLmludm9jYXRpb25JZF0gPSAoaW52b2NhdGlvbkV2ZW50LCBlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbnZvY2F0aW9uRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpbnZvY2F0aW9uRXZlbnQgd2lsbCBub3QgYmUgbnVsbCB3aGVuIGFuIGVycm9yIGlzIG5vdCBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGludm9jYXRpb25FdmVudC50eXBlID09PSBNZXNzYWdlVHlwZS5Db21wbGV0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnZvY2F0aW9uRXZlbnQuZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoaW52b2NhdGlvbkV2ZW50LmVycm9yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGludm9jYXRpb25FdmVudC5yZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBVbmV4cGVjdGVkIG1lc3NhZ2UgdHlwZTogJHtpbnZvY2F0aW9uRXZlbnQudHlwZX1gKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zdCBwcm9taXNlUXVldWUgPSB0aGlzLl9zZW5kV2l0aFByb3RvY29sKGludm9jYXRpb25EZXNjcmlwdG9yKVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBpbnZvY2F0aW9uSWQgd2lsbCBhbHdheXMgaGF2ZSBhIHZhbHVlIGZvciBhIG5vbi1ibG9ja2luZyBpbnZvY2F0aW9uXHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzW2ludm9jYXRpb25EZXNjcmlwdG9yLmludm9jYXRpb25JZF07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLl9sYXVuY2hTdHJlYW1zKHN0cmVhbXMsIHByb21pc2VRdWV1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHA7XHJcbiAgICB9XHJcbiAgICBvbihtZXRob2ROYW1lLCBuZXdNZXRob2QpIHtcclxuICAgICAgICBpZiAoIW1ldGhvZE5hbWUgfHwgIW5ld01ldGhvZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1ldGhvZE5hbWUgPSBtZXRob2ROYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9tZXRob2RzW21ldGhvZE5hbWVdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21ldGhvZHNbbWV0aG9kTmFtZV0gPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUHJldmVudGluZyBhZGRpbmcgdGhlIHNhbWUgaGFuZGxlciBtdWx0aXBsZSB0aW1lcy5cclxuICAgICAgICBpZiAodGhpcy5fbWV0aG9kc1ttZXRob2ROYW1lXS5pbmRleE9mKG5ld01ldGhvZCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbWV0aG9kc1ttZXRob2ROYW1lXS5wdXNoKG5ld01ldGhvZCk7XHJcbiAgICB9XHJcbiAgICBvZmYobWV0aG9kTmFtZSwgbWV0aG9kKSB7XHJcbiAgICAgICAgaWYgKCFtZXRob2ROYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbWV0aG9kTmFtZSA9IG1ldGhvZE5hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBjb25zdCBoYW5kbGVycyA9IHRoaXMuX21ldGhvZHNbbWV0aG9kTmFtZV07XHJcbiAgICAgICAgaWYgKCFoYW5kbGVycykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtZXRob2QpIHtcclxuICAgICAgICAgICAgY29uc3QgcmVtb3ZlSWR4ID0gaGFuZGxlcnMuaW5kZXhPZihtZXRob2QpO1xyXG4gICAgICAgICAgICBpZiAocmVtb3ZlSWR4ICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKHJlbW92ZUlkeCwgMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFuZGxlcnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX21ldGhvZHNbbWV0aG9kTmFtZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9tZXRob2RzW21ldGhvZE5hbWVdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKiBSZWdpc3RlcnMgYSBoYW5kbGVyIHRoYXQgd2lsbCBiZSBpbnZva2VkIHdoZW4gdGhlIGNvbm5lY3Rpb24gaXMgY2xvc2VkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBoYW5kbGVyIHRoYXQgd2lsbCBiZSBpbnZva2VkIHdoZW4gdGhlIGNvbm5lY3Rpb24gaXMgY2xvc2VkLiBPcHRpb25hbGx5IHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50IGNvbnRhaW5pbmcgdGhlIGVycm9yIHRoYXQgY2F1c2VkIHRoZSBjb25uZWN0aW9uIHRvIGNsb3NlIChpZiBhbnkpLlxyXG4gICAgICovXHJcbiAgICBvbmNsb3NlKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlZENhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKiogUmVnaXN0ZXJzIGEgaGFuZGxlciB0aGF0IHdpbGwgYmUgaW52b2tlZCB3aGVuIHRoZSBjb25uZWN0aW9uIHN0YXJ0cyByZWNvbm5lY3RpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGhhbmRsZXIgdGhhdCB3aWxsIGJlIGludm9rZWQgd2hlbiB0aGUgY29ubmVjdGlvbiBzdGFydHMgcmVjb25uZWN0aW5nLiBPcHRpb25hbGx5IHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50IGNvbnRhaW5pbmcgdGhlIGVycm9yIHRoYXQgY2F1c2VkIHRoZSBjb25uZWN0aW9uIHRvIHN0YXJ0IHJlY29ubmVjdGluZyAoaWYgYW55KS5cclxuICAgICAqL1xyXG4gICAgb25yZWNvbm5lY3RpbmcoY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0aW5nQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKiBSZWdpc3RlcnMgYSBoYW5kbGVyIHRoYXQgd2lsbCBiZSBpbnZva2VkIHdoZW4gdGhlIGNvbm5lY3Rpb24gc3VjY2Vzc2Z1bGx5IHJlY29ubmVjdHMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGhhbmRsZXIgdGhhdCB3aWxsIGJlIGludm9rZWQgd2hlbiB0aGUgY29ubmVjdGlvbiBzdWNjZXNzZnVsbHkgcmVjb25uZWN0cy5cclxuICAgICAqL1xyXG4gICAgb25yZWNvbm5lY3RlZChjYWxsYmFjaykge1xyXG4gICAgICAgIGlmIChjYWxsYmFjaykge1xyXG4gICAgICAgICAgICB0aGlzLl9yZWNvbm5lY3RlZENhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcHJvY2Vzc0luY29taW5nRGF0YShkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5fY2xlYW51cFRpbWVvdXQoKTtcclxuICAgICAgICBpZiAoIXRoaXMuX3JlY2VpdmVkSGFuZHNoYWtlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgZGF0YSA9IHRoaXMuX3Byb2Nlc3NIYW5kc2hha2VSZXNwb25zZShkYXRhKTtcclxuICAgICAgICAgICAgdGhpcy5fcmVjZWl2ZWRIYW5kc2hha2VSZXNwb25zZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIERhdGEgbWF5IGhhdmUgYWxsIGJlZW4gcmVhZCB3aGVuIHByb2Nlc3NpbmcgaGFuZHNoYWtlIHJlc3BvbnNlXHJcbiAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgLy8gUGFyc2UgdGhlIG1lc3NhZ2VzXHJcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gdGhpcy5fcHJvdG9jb2wucGFyc2VNZXNzYWdlcyhkYXRhLCB0aGlzLl9sb2dnZXIpO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tZXNzYWdlQnVmZmVyICYmICF0aGlzLl9tZXNzYWdlQnVmZmVyLl9zaG91bGRQcm9jZXNzTWVzc2FnZShtZXNzYWdlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIERvbid0IHByb2Nlc3MgdGhlIG1lc3NhZ2UsIHdlIGFyZSBlaXRoZXIgd2FpdGluZyBmb3IgYSBTZXF1ZW5jZU1lc3NhZ2Ugb3IgcmVjZWl2ZWQgYSBkdXBsaWNhdGUgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLkludm9jYXRpb246XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW52b2tlQ2xpZW50TWV0aG9kKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLlN0cmVhbUl0ZW06XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5Db21wbGV0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gdGhpcy5fY2FsbGJhY2tzW21lc3NhZ2UuaW52b2NhdGlvbklkXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50eXBlID09PSBNZXNzYWdlVHlwZS5Db21wbGV0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1ttZXNzYWdlLmludm9jYXRpb25JZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkVycm9yLCBgU3RyZWFtIGNhbGxiYWNrIHRocmV3IGVycm9yOiAke2dldEVycm9yU3RyaW5nKGUpfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLlBpbmc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGNhcmUgYWJvdXQgcGluZ3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5DbG9zZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkluZm9ybWF0aW9uLCBcIkNsb3NlIG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSBzZXJ2ZXIuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IG1lc3NhZ2UuZXJyb3IgPyBuZXcgRXJyb3IoXCJTZXJ2ZXIgcmV0dXJuZWQgYW4gZXJyb3Igb24gY2xvc2U6IFwiICsgbWVzc2FnZS5lcnJvcikgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmFsbG93UmVjb25uZWN0ID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJdCBmZWVscyB3cm9uZyBub3QgdG8gYXdhaXQgY29ubmVjdGlvbi5zdG9wKCkgaGVyZSwgYnV0IHByb2Nlc3NJbmNvbWluZ0RhdGEgaXMgY2FsbGVkIGFzIHBhcnQgb2YgYW4gb25yZWNlaXZlIGNhbGxiYWNrIHdoaWNoIGlzIG5vdCBhc3luYyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYWxyZWFkeSB0aGUgYmVoYXZpb3IgZm9yIHNlcnZlclRpbWVvdXQoKSwgYW5kIEh0dHBDb25uZWN0aW9uLlN0b3AoKSBzaG91bGQgY2F0Y2ggYW5kIGxvZyBhbGwgcG9zc2libGUgZXhjZXB0aW9ucy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbi5zdG9wKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGNhbm5vdCBhd2FpdCBzdG9wSW50ZXJuYWwoKSBoZXJlLCBidXQgc3Vic2VxdWVudCBjYWxscyB0byBzdG9wKCkgd2lsbCBhd2FpdCB0aGlzIGlmIHN0b3BJbnRlcm5hbCgpIGlzIHN0aWxsIG9uZ29pbmcuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdG9wUHJvbWlzZSA9IHRoaXMuX3N0b3BJbnRlcm5hbChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTWVzc2FnZVR5cGUuQWNrOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fbWVzc2FnZUJ1ZmZlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVzc2FnZUJ1ZmZlci5fYWNrKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTWVzc2FnZVR5cGUuU2VxdWVuY2U6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tZXNzYWdlQnVmZmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9tZXNzYWdlQnVmZmVyLl9yZXNldFNlcXVlbmNlKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuV2FybmluZywgYEludmFsaWQgbWVzc2FnZSB0eXBlOiAke21lc3NhZ2UudHlwZX0uYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3Jlc2V0VGltZW91dFBlcmlvZCgpO1xyXG4gICAgfVxyXG4gICAgX3Byb2Nlc3NIYW5kc2hha2VSZXNwb25zZShkYXRhKSB7XHJcbiAgICAgICAgbGV0IHJlc3BvbnNlTWVzc2FnZTtcclxuICAgICAgICBsZXQgcmVtYWluaW5nRGF0YTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBbcmVtYWluaW5nRGF0YSwgcmVzcG9uc2VNZXNzYWdlXSA9IHRoaXMuX2hhbmRzaGFrZVByb3RvY29sLnBhcnNlSGFuZHNoYWtlUmVzcG9uc2UoZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBcIkVycm9yIHBhcnNpbmcgaGFuZHNoYWtlIHJlc3BvbnNlOiBcIiArIGU7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuRXJyb3IsIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcclxuICAgICAgICAgICAgdGhpcy5faGFuZHNoYWtlUmVqZWN0ZXIoZXJyb3IpO1xyXG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlTWVzc2FnZS5lcnJvcikge1xyXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gXCJTZXJ2ZXIgcmV0dXJuZWQgaGFuZHNoYWtlIGVycm9yOiBcIiArIHJlc3BvbnNlTWVzc2FnZS5lcnJvcjtcclxuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5FcnJvciwgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kc2hha2VSZWplY3RlcihlcnJvcik7XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5EZWJ1ZywgXCJTZXJ2ZXIgaGFuZHNoYWtlIGNvbXBsZXRlLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faGFuZHNoYWtlUmVzb2x2ZXIoKTtcclxuICAgICAgICByZXR1cm4gcmVtYWluaW5nRGF0YTtcclxuICAgIH1cclxuICAgIF9yZXNldEtlZXBBbGl2ZUludGVydmFsKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb24uZmVhdHVyZXMuaW5oZXJlbnRLZWVwQWxpdmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTZXQgdGhlIHRpbWUgd2Ugd2FudCB0aGUgbmV4dCBrZWVwIGFsaXZlIHRvIGJlIHNlbnRcclxuICAgICAgICAvLyBUaW1lciB3aWxsIGJlIHNldHVwIG9uIG5leHQgbWVzc2FnZSByZWNlaXZlXHJcbiAgICAgICAgdGhpcy5fbmV4dEtlZXBBbGl2ZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgdGhpcy5rZWVwQWxpdmVJbnRlcnZhbEluTWlsbGlzZWNvbmRzO1xyXG4gICAgICAgIHRoaXMuX2NsZWFudXBQaW5nVGltZXIoKTtcclxuICAgIH1cclxuICAgIF9yZXNldFRpbWVvdXRQZXJpb2QoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3Rpb24uZmVhdHVyZXMgfHwgIXRoaXMuY29ubmVjdGlvbi5mZWF0dXJlcy5pbmhlcmVudEtlZXBBbGl2ZSkge1xyXG4gICAgICAgICAgICAvLyBTZXQgdGhlIHRpbWVvdXQgdGltZXJcclxuICAgICAgICAgICAgdGhpcy5fdGltZW91dEhhbmRsZSA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zZXJ2ZXJUaW1lb3V0KCksIHRoaXMuc2VydmVyVGltZW91dEluTWlsbGlzZWNvbmRzKTtcclxuICAgICAgICAgICAgLy8gU2V0IGtlZXBBbGl2ZSB0aW1lciBpZiB0aGVyZSBpc24ndCBvbmVcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3BpbmdTZXJ2ZXJIYW5kbGUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5leHRQaW5nID0gdGhpcy5fbmV4dEtlZXBBbGl2ZSAtIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRQaW5nIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRQaW5nID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFRoZSB0aW1lciBuZWVkcyB0byBiZSBzZXQgZnJvbSBhIG5ldHdvcmtpbmcgY2FsbGJhY2sgdG8gYXZvaWQgQ2hyb21lIHRpbWVyIHRocm90dGxpbmcgZnJvbSBjYXVzaW5nIHRpbWVycyB0byBydW4gb25jZSBhIG1pbnV0ZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcGluZ1NlcnZlckhhbmRsZSA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jb25uZWN0aW9uU3RhdGUgPT09IEh1YkNvbm5lY3Rpb25TdGF0ZS5Db25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3NlbmRNZXNzYWdlKHRoaXMuX2NhY2hlZFBpbmdNZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCBjYXJlIGFib3V0IHRoZSBlcnJvci4gSXQgc2hvdWxkIGJlIHNlZW4gZWxzZXdoZXJlIGluIHRoZSBjbGllbnQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgY29ubmVjdGlvbiBpcyBwcm9iYWJseSBpbiBhIGJhZCBvciBjbG9zZWQgc3RhdGUgbm93LCBjbGVhbnVwIHRoZSB0aW1lciBzbyBpdCBzdG9wcyB0cmlnZ2VyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbGVhbnVwUGluZ1RpbWVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBuZXh0UGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25hbWluZy1jb252ZW50aW9uXHJcbiAgICBzZXJ2ZXJUaW1lb3V0KCkge1xyXG4gICAgICAgIC8vIFRoZSBzZXJ2ZXIgaGFzbid0IHRhbGtlZCB0byB1cyBpbiBhIHdoaWxlLiBJdCBkb2Vzbid0IGxpa2UgdXMgYW55bW9yZSAuLi4gOihcclxuICAgICAgICAvLyBUZXJtaW5hdGUgdGhlIGNvbm5lY3Rpb24sIGJ1dCB3ZSBkb24ndCBuZWVkIHRvIHdhaXQgb24gdGhlIHByb21pc2UuIFRoaXMgY291bGQgdHJpZ2dlciByZWNvbm5lY3RpbmcuXHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5zdG9wKG5ldyBFcnJvcihcIlNlcnZlciB0aW1lb3V0IGVsYXBzZWQgd2l0aG91dCByZWNlaXZpbmcgYSBtZXNzYWdlIGZyb20gdGhlIHNlcnZlci5cIikpO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgX2ludm9rZUNsaWVudE1ldGhvZChpbnZvY2F0aW9uTWVzc2FnZSkge1xyXG4gICAgICAgIGNvbnN0IG1ldGhvZE5hbWUgPSBpbnZvY2F0aW9uTWVzc2FnZS50YXJnZXQudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBjb25zdCBtZXRob2RzID0gdGhpcy5fbWV0aG9kc1ttZXRob2ROYW1lXTtcclxuICAgICAgICBpZiAoIW1ldGhvZHMpIHtcclxuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5XYXJuaW5nLCBgTm8gY2xpZW50IG1ldGhvZCB3aXRoIHRoZSBuYW1lICcke21ldGhvZE5hbWV9JyBmb3VuZC5gKTtcclxuICAgICAgICAgICAgLy8gTm8gaGFuZGxlcnMgcHJvdmlkZWQgYnkgY2xpZW50IGJ1dCB0aGUgc2VydmVyIGlzIGV4cGVjdGluZyBhIHJlc3BvbnNlIHN0aWxsLCBzbyB3ZSBzZW5kIGFuIGVycm9yXHJcbiAgICAgICAgICAgIGlmIChpbnZvY2F0aW9uTWVzc2FnZS5pbnZvY2F0aW9uSWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuV2FybmluZywgYE5vIHJlc3VsdCBnaXZlbiBmb3IgJyR7bWV0aG9kTmFtZX0nIG1ldGhvZCBhbmQgaW52b2NhdGlvbiBJRCAnJHtpbnZvY2F0aW9uTWVzc2FnZS5pbnZvY2F0aW9uSWR9Jy5gKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3NlbmRXaXRoUHJvdG9jb2wodGhpcy5fY3JlYXRlQ29tcGxldGlvbk1lc3NhZ2UoaW52b2NhdGlvbk1lc3NhZ2UuaW52b2NhdGlvbklkLCBcIkNsaWVudCBkaWRuJ3QgcHJvdmlkZSBhIHJlc3VsdC5cIiwgbnVsbCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQXZvaWQgaXNzdWVzIHdpdGggaGFuZGxlcnMgcmVtb3ZpbmcgdGhlbXNlbHZlcyB0aHVzIG1vZGlmeWluZyB0aGUgbGlzdCB3aGlsZSBpdGVyYXRpbmcgdGhyb3VnaCBpdFxyXG4gICAgICAgIGNvbnN0IG1ldGhvZHNDb3B5ID0gbWV0aG9kcy5zbGljZSgpO1xyXG4gICAgICAgIC8vIFNlcnZlciBleHBlY3RzIGEgcmVzcG9uc2VcclxuICAgICAgICBjb25zdCBleHBlY3RzUmVzcG9uc2UgPSBpbnZvY2F0aW9uTWVzc2FnZS5pbnZvY2F0aW9uSWQgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgLy8gV2UgcHJlc2VydmUgdGhlIGxhc3QgcmVzdWx0IG9yIGV4Y2VwdGlvbiBidXQgc3RpbGwgY2FsbCBhbGwgaGFuZGxlcnNcclxuICAgICAgICBsZXQgcmVzO1xyXG4gICAgICAgIGxldCBleGNlcHRpb247XHJcbiAgICAgICAgbGV0IGNvbXBsZXRpb25NZXNzYWdlO1xyXG4gICAgICAgIGZvciAoY29uc3QgbSBvZiBtZXRob2RzQ29weSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldlJlcyA9IHJlcztcclxuICAgICAgICAgICAgICAgIHJlcyA9IGF3YWl0IG0uYXBwbHkodGhpcywgaW52b2NhdGlvbk1lc3NhZ2UuYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIGlmIChleHBlY3RzUmVzcG9uc2UgJiYgcmVzICYmIHByZXZSZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkVycm9yLCBgTXVsdGlwbGUgcmVzdWx0cyBwcm92aWRlZCBmb3IgJyR7bWV0aG9kTmFtZX0nLiBTZW5kaW5nIGVycm9yIHRvIHNlcnZlci5gKTtcclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0aW9uTWVzc2FnZSA9IHRoaXMuX2NyZWF0ZUNvbXBsZXRpb25NZXNzYWdlKGludm9jYXRpb25NZXNzYWdlLmludm9jYXRpb25JZCwgYENsaWVudCBwcm92aWRlZCBtdWx0aXBsZSByZXN1bHRzLmAsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gSWdub3JlIGV4Y2VwdGlvbiBpZiB3ZSBnb3QgYSByZXN1bHQgYWZ0ZXIsIHRoZSBleGNlcHRpb24gd2lsbCBiZSBsb2dnZWRcclxuICAgICAgICAgICAgICAgIGV4Y2VwdGlvbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgZXhjZXB0aW9uID0gZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuRXJyb3IsIGBBIGNhbGxiYWNrIGZvciB0aGUgbWV0aG9kICcke21ldGhvZE5hbWV9JyB0aHJldyBlcnJvciAnJHtlfScuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbXBsZXRpb25NZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3NlbmRXaXRoUHJvdG9jb2woY29tcGxldGlvbk1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChleHBlY3RzUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gZXhjZXB0aW9uIHRoYXQgbWVhbnMgZWl0aGVyIG5vIHJlc3VsdCB3YXMgZ2l2ZW4gb3IgYSBoYW5kbGVyIGFmdGVyIGEgcmVzdWx0IHRocmV3XHJcbiAgICAgICAgICAgIGlmIChleGNlcHRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRpb25NZXNzYWdlID0gdGhpcy5fY3JlYXRlQ29tcGxldGlvbk1lc3NhZ2UoaW52b2NhdGlvbk1lc3NhZ2UuaW52b2NhdGlvbklkLCBgJHtleGNlcHRpb259YCwgbnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocmVzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRpb25NZXNzYWdlID0gdGhpcy5fY3JlYXRlQ29tcGxldGlvbk1lc3NhZ2UoaW52b2NhdGlvbk1lc3NhZ2UuaW52b2NhdGlvbklkLCBudWxsLCByZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5XYXJuaW5nLCBgTm8gcmVzdWx0IGdpdmVuIGZvciAnJHttZXRob2ROYW1lfScgbWV0aG9kIGFuZCBpbnZvY2F0aW9uIElEICcke2ludm9jYXRpb25NZXNzYWdlLmludm9jYXRpb25JZH0nLmApO1xyXG4gICAgICAgICAgICAgICAgLy8gQ2xpZW50IGRpZG4ndCBwcm92aWRlIGEgcmVzdWx0IG9yIHRocm93IGZyb20gYSBoYW5kbGVyLCBzZXJ2ZXIgZXhwZWN0cyBhIHJlc3BvbnNlIHNvIHdlIHNlbmQgYW4gZXJyb3JcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRpb25NZXNzYWdlID0gdGhpcy5fY3JlYXRlQ29tcGxldGlvbk1lc3NhZ2UoaW52b2NhdGlvbk1lc3NhZ2UuaW52b2NhdGlvbklkLCBcIkNsaWVudCBkaWRuJ3QgcHJvdmlkZSBhIHJlc3VsdC5cIiwgbnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5fc2VuZFdpdGhQcm90b2NvbChjb21wbGV0aW9uTWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkVycm9yLCBgUmVzdWx0IGdpdmVuIGZvciAnJHttZXRob2ROYW1lfScgbWV0aG9kIGJ1dCBzZXJ2ZXIgaXMgbm90IGV4cGVjdGluZyBhIHJlc3VsdC5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9jb25uZWN0aW9uQ2xvc2VkKGVycm9yKSB7XHJcbiAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5EZWJ1ZywgYEh1YkNvbm5lY3Rpb24uY29ubmVjdGlvbkNsb3NlZCgke2Vycm9yfSkgY2FsbGVkIHdoaWxlIGluIHN0YXRlICR7dGhpcy5fY29ubmVjdGlvblN0YXRlfS5gKTtcclxuICAgICAgICAvLyBUcmlnZ2VyaW5nIHRoaXMuaGFuZHNoYWtlUmVqZWN0ZXIgaXMgaW5zdWZmaWNpZW50IGJlY2F1c2UgaXQgY291bGQgYWxyZWFkeSBiZSByZXNvbHZlZCB3aXRob3V0IHRoZSBjb250aW51YXRpb24gaGF2aW5nIHJ1biB5ZXQuXHJcbiAgICAgICAgdGhpcy5fc3RvcER1cmluZ1N0YXJ0RXJyb3IgPSB0aGlzLl9zdG9wRHVyaW5nU3RhcnRFcnJvciB8fCBlcnJvciB8fCBuZXcgQWJvcnRFcnJvcihcIlRoZSB1bmRlcmx5aW5nIGNvbm5lY3Rpb24gd2FzIGNsb3NlZCBiZWZvcmUgdGhlIGh1YiBoYW5kc2hha2UgY291bGQgY29tcGxldGUuXCIpO1xyXG4gICAgICAgIC8vIElmIHRoZSBoYW5kc2hha2UgaXMgaW4gcHJvZ3Jlc3MsIHN0YXJ0IHdpbGwgYmUgd2FpdGluZyBmb3IgdGhlIGhhbmRzaGFrZSBwcm9taXNlLCBzbyB3ZSBjb21wbGV0ZSBpdC5cclxuICAgICAgICAvLyBJZiBpdCBoYXMgYWxyZWFkeSBjb21wbGV0ZWQsIHRoaXMgc2hvdWxkIGp1c3Qgbm9vcC5cclxuICAgICAgICBpZiAodGhpcy5faGFuZHNoYWtlUmVzb2x2ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZHNoYWtlUmVzb2x2ZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fY2FuY2VsQ2FsbGJhY2tzV2l0aEVycm9yKGVycm9yIHx8IG5ldyBFcnJvcihcIkludm9jYXRpb24gY2FuY2VsZWQgZHVlIHRvIHRoZSB1bmRlcmx5aW5nIGNvbm5lY3Rpb24gYmVpbmcgY2xvc2VkLlwiKSk7XHJcbiAgICAgICAgdGhpcy5fY2xlYW51cFRpbWVvdXQoKTtcclxuICAgICAgICB0aGlzLl9jbGVhbnVwUGluZ1RpbWVyKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZSA9PT0gSHViQ29ubmVjdGlvblN0YXRlLkRpc2Nvbm5lY3RpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29tcGxldGVDbG9zZShlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZSA9PT0gSHViQ29ubmVjdGlvblN0YXRlLkNvbm5lY3RlZCAmJiB0aGlzLl9yZWNvbm5lY3RQb2xpY3kpIHtcclxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xyXG4gICAgICAgICAgICB0aGlzLl9yZWNvbm5lY3QoZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLl9jb25uZWN0aW9uU3RhdGUgPT09IEh1YkNvbm5lY3Rpb25TdGF0ZS5Db25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29tcGxldGVDbG9zZShlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIElmIG5vbmUgb2YgdGhlIGFib3ZlIGlmIGNvbmRpdGlvbnMgd2VyZSB0cnVlIHdlcmUgY2FsbGVkIHRoZSBIdWJDb25uZWN0aW9uIG11c3QgYmUgaW4gZWl0aGVyOlxyXG4gICAgICAgIC8vIDEuIFRoZSBDb25uZWN0aW5nIHN0YXRlIGluIHdoaWNoIGNhc2UgdGhlIGhhbmRzaGFrZVJlc29sdmVyIHdpbGwgY29tcGxldGUgaXQgYW5kIHN0b3BEdXJpbmdTdGFydEVycm9yIHdpbGwgZmFpbCBpdC5cclxuICAgICAgICAvLyAyLiBUaGUgUmVjb25uZWN0aW5nIHN0YXRlIGluIHdoaWNoIGNhc2UgdGhlIGhhbmRzaGFrZVJlc29sdmVyIHdpbGwgY29tcGxldGUgaXQgYW5kIHN0b3BEdXJpbmdTdGFydEVycm9yIHdpbGwgZmFpbCB0aGUgY3VycmVudCByZWNvbm5lY3QgYXR0ZW1wdFxyXG4gICAgICAgIC8vICAgIGFuZCBwb3RlbnRpYWxseSBjb250aW51ZSB0aGUgcmVjb25uZWN0KCkgbG9vcC5cclxuICAgICAgICAvLyAzLiBUaGUgRGlzY29ubmVjdGVkIHN0YXRlIGluIHdoaWNoIGNhc2Ugd2UncmUgYWxyZWFkeSBkb25lLlxyXG4gICAgfVxyXG4gICAgX2NvbXBsZXRlQ2xvc2UoZXJyb3IpIHtcclxuICAgICAgICBpZiAodGhpcy5fY29ubmVjdGlvblN0YXJ0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29ubmVjdGlvblN0YXRlID0gSHViQ29ubmVjdGlvblN0YXRlLkRpc2Nvbm5lY3RlZDtcclxuICAgICAgICAgICAgdGhpcy5fY29ubmVjdGlvblN0YXJ0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX21lc3NhZ2VCdWZmZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21lc3NhZ2VCdWZmZXIuX2Rpc3Bvc2UoZXJyb3IgIT09IG51bGwgJiYgZXJyb3IgIT09IHZvaWQgMCA/IGVycm9yIDogbmV3IEVycm9yKFwiQ29ubmVjdGlvbiBjbG9zZWQuXCIpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21lc3NhZ2VCdWZmZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKFBsYXRmb3JtLmlzQnJvd3Nlcikge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmcmVlemVcIiwgdGhpcy5fZnJlZXplRXZlbnRMaXN0ZW5lcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Nsb3NlZENhbGxiYWNrcy5mb3JFYWNoKChjKSA9PiBjLmFwcGx5KHRoaXMsIFtlcnJvcl0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5FcnJvciwgYEFuIG9uY2xvc2UgY2FsbGJhY2sgY2FsbGVkIHdpdGggZXJyb3IgJyR7ZXJyb3J9JyB0aHJldyBlcnJvciAnJHtlfScuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhc3luYyBfcmVjb25uZWN0KGVycm9yKSB7XHJcbiAgICAgICAgY29uc3QgcmVjb25uZWN0U3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBsZXQgcHJldmlvdXNSZWNvbm5lY3RBdHRlbXB0cyA9IDA7XHJcbiAgICAgICAgbGV0IHJldHJ5RXJyb3IgPSBlcnJvciAhPT0gdW5kZWZpbmVkID8gZXJyb3IgOiBuZXcgRXJyb3IoXCJBdHRlbXB0aW5nIHRvIHJlY29ubmVjdCBkdWUgdG8gYSB1bmtub3duIGVycm9yLlwiKTtcclxuICAgICAgICBsZXQgbmV4dFJldHJ5RGVsYXkgPSB0aGlzLl9nZXROZXh0UmV0cnlEZWxheShwcmV2aW91c1JlY29ubmVjdEF0dGVtcHRzKyssIDAsIHJldHJ5RXJyb3IpO1xyXG4gICAgICAgIGlmIChuZXh0UmV0cnlEZWxheSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkRlYnVnLCBcIkNvbm5lY3Rpb24gbm90IHJlY29ubmVjdGluZyBiZWNhdXNlIHRoZSBJUmV0cnlQb2xpY3kgcmV0dXJuZWQgbnVsbCBvbiB0aGUgZmlyc3QgcmVjb25uZWN0IGF0dGVtcHQuXCIpO1xyXG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZUNsb3NlKGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9jb25uZWN0aW9uU3RhdGUgPSBIdWJDb25uZWN0aW9uU3RhdGUuUmVjb25uZWN0aW5nO1xyXG4gICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkluZm9ybWF0aW9uLCBgQ29ubmVjdGlvbiByZWNvbm5lY3RpbmcgYmVjYXVzZSBvZiBlcnJvciAnJHtlcnJvcn0nLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5JbmZvcm1hdGlvbiwgXCJDb25uZWN0aW9uIHJlY29ubmVjdGluZy5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9yZWNvbm5lY3RpbmdDYWxsYmFja3MubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWNvbm5lY3RpbmdDYWxsYmFja3MuZm9yRWFjaCgoYykgPT4gYy5hcHBseSh0aGlzLCBbZXJyb3JdKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuRXJyb3IsIGBBbiBvbnJlY29ubmVjdGluZyBjYWxsYmFjayBjYWxsZWQgd2l0aCBlcnJvciAnJHtlcnJvcn0nIHRocmV3IGVycm9yICcke2V9Jy5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBFeGl0IGVhcmx5IGlmIGFuIG9ucmVjb25uZWN0aW5nIGNhbGxiYWNrIGNhbGxlZCBjb25uZWN0aW9uLnN0b3AoKS5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZSAhPT0gSHViQ29ubmVjdGlvblN0YXRlLlJlY29ubmVjdGluZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5EZWJ1ZywgXCJDb25uZWN0aW9uIGxlZnQgdGhlIHJlY29ubmVjdGluZyBzdGF0ZSBpbiBvbnJlY29ubmVjdGluZyBjYWxsYmFjay4gRG9uZSByZWNvbm5lY3RpbmcuXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdoaWxlIChuZXh0UmV0cnlEZWxheSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkluZm9ybWF0aW9uLCBgUmVjb25uZWN0IGF0dGVtcHQgbnVtYmVyICR7cHJldmlvdXNSZWNvbm5lY3RBdHRlbXB0c30gd2lsbCBzdGFydCBpbiAke25leHRSZXRyeURlbGF5fSBtcy5gKTtcclxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JlY29ubmVjdERlbGF5SGFuZGxlID0gc2V0VGltZW91dChyZXNvbHZlLCBuZXh0UmV0cnlEZWxheSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLl9yZWNvbm5lY3REZWxheUhhbmRsZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZSAhPT0gSHViQ29ubmVjdGlvblN0YXRlLlJlY29ubmVjdGluZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5EZWJ1ZywgXCJDb25uZWN0aW9uIGxlZnQgdGhlIHJlY29ubmVjdGluZyBzdGF0ZSBkdXJpbmcgcmVjb25uZWN0IGRlbGF5LiBEb25lIHJlY29ubmVjdGluZy5cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3N0YXJ0SW50ZXJuYWwoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZSA9IEh1YkNvbm5lY3Rpb25TdGF0ZS5Db25uZWN0ZWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkluZm9ybWF0aW9uLCBcIkh1YkNvbm5lY3Rpb24gcmVjb25uZWN0ZWQgc3VjY2Vzc2Z1bGx5LlwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9yZWNvbm5lY3RlZENhbGxiYWNrcy5sZW5ndGggIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWNvbm5lY3RlZENhbGxiYWNrcy5mb3JFYWNoKChjKSA9PiBjLmFwcGx5KHRoaXMsIFt0aGlzLmNvbm5lY3Rpb24uY29ubmVjdGlvbklkXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkVycm9yLCBgQW4gb25yZWNvbm5lY3RlZCBjYWxsYmFjayBjYWxsZWQgd2l0aCBjb25uZWN0aW9uSWQgJyR7dGhpcy5jb25uZWN0aW9uLmNvbm5lY3Rpb25JZH07IHRocmV3IGVycm9yICcke2V9Jy5gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuSW5mb3JtYXRpb24sIGBSZWNvbm5lY3QgYXR0ZW1wdCBmYWlsZWQgYmVjYXVzZSBvZiBlcnJvciAnJHtlfScuYCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29ubmVjdGlvblN0YXRlICE9PSBIdWJDb25uZWN0aW9uU3RhdGUuUmVjb25uZWN0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5EZWJ1ZywgYENvbm5lY3Rpb24gbW92ZWQgdG8gdGhlICcke3RoaXMuX2Nvbm5lY3Rpb25TdGF0ZX0nIGZyb20gdGhlIHJlY29ubmVjdGluZyBzdGF0ZSBkdXJpbmcgcmVjb25uZWN0IGF0dGVtcHQuIERvbmUgcmVjb25uZWN0aW5nLmApO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBUeXBlU2NyaXB0IGNvbXBpbGVyIHRoaW5rcyB0aGF0IGNvbm5lY3Rpb25TdGF0ZSBtdXN0IGJlIENvbm5lY3RlZCBoZXJlLiBUaGUgVHlwZVNjcmlwdCBjb21waWxlciBpcyB3cm9uZy5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29ubmVjdGlvblN0YXRlID09PSBIdWJDb25uZWN0aW9uU3RhdGUuRGlzY29ubmVjdGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb21wbGV0ZUNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHJ5RXJyb3IgPSBlIGluc3RhbmNlb2YgRXJyb3IgPyBlIDogbmV3IEVycm9yKGUudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICBuZXh0UmV0cnlEZWxheSA9IHRoaXMuX2dldE5leHRSZXRyeURlbGF5KHByZXZpb3VzUmVjb25uZWN0QXR0ZW1wdHMrKywgRGF0ZS5ub3coKSAtIHJlY29ubmVjdFN0YXJ0VGltZSwgcmV0cnlFcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5JbmZvcm1hdGlvbiwgYFJlY29ubmVjdCByZXRyaWVzIGhhdmUgYmVlbiBleGhhdXN0ZWQgYWZ0ZXIgJHtEYXRlLm5vdygpIC0gcmVjb25uZWN0U3RhcnRUaW1lfSBtcyBhbmQgJHtwcmV2aW91c1JlY29ubmVjdEF0dGVtcHRzfSBmYWlsZWQgYXR0ZW1wdHMuIENvbm5lY3Rpb24gZGlzY29ubmVjdGluZy5gKTtcclxuICAgICAgICB0aGlzLl9jb21wbGV0ZUNsb3NlKCk7XHJcbiAgICB9XHJcbiAgICBfZ2V0TmV4dFJldHJ5RGVsYXkocHJldmlvdXNSZXRyeUNvdW50LCBlbGFwc2VkTWlsbGlzZWNvbmRzLCByZXRyeVJlYXNvbikge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWNvbm5lY3RQb2xpY3kubmV4dFJldHJ5RGVsYXlJbk1pbGxpc2Vjb25kcyh7XHJcbiAgICAgICAgICAgICAgICBlbGFwc2VkTWlsbGlzZWNvbmRzLFxyXG4gICAgICAgICAgICAgICAgcHJldmlvdXNSZXRyeUNvdW50LFxyXG4gICAgICAgICAgICAgICAgcmV0cnlSZWFzb24sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkVycm9yLCBgSVJldHJ5UG9saWN5Lm5leHRSZXRyeURlbGF5SW5NaWxsaXNlY29uZHMoJHtwcmV2aW91c1JldHJ5Q291bnR9LCAke2VsYXBzZWRNaWxsaXNlY29uZHN9KSB0aHJldyBlcnJvciAnJHtlfScuYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9jYW5jZWxDYWxsYmFja3NXaXRoRXJyb3IoZXJyb3IpIHtcclxuICAgICAgICBjb25zdCBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3M7XHJcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzID0ge307XHJcbiAgICAgICAgT2JqZWN0LmtleXMoY2FsbGJhY2tzKVxyXG4gICAgICAgICAgICAuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gY2FsbGJhY2tzW2tleV07XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuRXJyb3IsIGBTdHJlYW0gJ2Vycm9yJyBjYWxsYmFjayBjYWxsZWQgd2l0aCAnJHtlcnJvcn0nIHRocmV3IGVycm9yOiAke2dldEVycm9yU3RyaW5nKGUpfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfY2xlYW51cFBpbmdUaW1lcigpIHtcclxuICAgICAgICBpZiAodGhpcy5fcGluZ1NlcnZlckhhbmRsZSkge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fcGluZ1NlcnZlckhhbmRsZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3BpbmdTZXJ2ZXJIYW5kbGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2NsZWFudXBUaW1lb3V0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLl90aW1lb3V0SGFuZGxlKSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0SGFuZGxlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfY3JlYXRlSW52b2NhdGlvbihtZXRob2ROYW1lLCBhcmdzLCBub25ibG9ja2luZywgc3RyZWFtSWRzKSB7XHJcbiAgICAgICAgaWYgKG5vbmJsb2NraW5nKSB7XHJcbiAgICAgICAgICAgIGlmIChzdHJlYW1JZHMubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50czogYXJncyxcclxuICAgICAgICAgICAgICAgICAgICBzdHJlYW1JZHMsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBtZXRob2ROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE1lc3NhZ2VUeXBlLkludm9jYXRpb24sXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IGFyZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBtZXRob2ROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE1lc3NhZ2VUeXBlLkludm9jYXRpb24sXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBpbnZvY2F0aW9uSWQgPSB0aGlzLl9pbnZvY2F0aW9uSWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2ludm9jYXRpb25JZCsrO1xyXG4gICAgICAgICAgICBpZiAoc3RyZWFtSWRzLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IGFyZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2NhdGlvbklkOiBpbnZvY2F0aW9uSWQudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgICAgICBzdHJlYW1JZHMsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBtZXRob2ROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE1lc3NhZ2VUeXBlLkludm9jYXRpb24sXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IGFyZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2NhdGlvbklkOiBpbnZvY2F0aW9uSWQudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IG1ldGhvZE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogTWVzc2FnZVR5cGUuSW52b2NhdGlvbixcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfbGF1bmNoU3RyZWFtcyhzdHJlYW1zLCBwcm9taXNlUXVldWUpIHtcclxuICAgICAgICBpZiAoc3RyZWFtcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTeW5jaHJvbml6ZSBzdHJlYW0gZGF0YSBzbyB0aGV5IGFycml2ZSBpbi1vcmRlciBvbiB0aGUgc2VydmVyXHJcbiAgICAgICAgaWYgKCFwcm9taXNlUXVldWUpIHtcclxuICAgICAgICAgICAgcHJvbWlzZVF1ZXVlID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFdlIHdhbnQgdG8gaXRlcmF0ZSBvdmVyIHRoZSBrZXlzLCBzaW5jZSB0aGUga2V5cyBhcmUgdGhlIHN0cmVhbSBpZHNcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluXHJcbiAgICAgICAgZm9yIChjb25zdCBzdHJlYW1JZCBpbiBzdHJlYW1zKSB7XHJcbiAgICAgICAgICAgIHN0cmVhbXNbc3RyZWFtSWRdLnN1YnNjcmliZSh7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VRdWV1ZSA9IHByb21pc2VRdWV1ZS50aGVuKCgpID0+IHRoaXMuX3NlbmRXaXRoUHJvdG9jb2wodGhpcy5fY3JlYXRlQ29tcGxldGlvbk1lc3NhZ2Uoc3RyZWFtSWQpKSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGVyci5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChlcnIgJiYgZXJyLnRvU3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBlcnIudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIlVua25vd24gZXJyb3JcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZVF1ZXVlID0gcHJvbWlzZVF1ZXVlLnRoZW4oKCkgPT4gdGhpcy5fc2VuZFdpdGhQcm90b2NvbCh0aGlzLl9jcmVhdGVDb21wbGV0aW9uTWVzc2FnZShzdHJlYW1JZCwgbWVzc2FnZSkpKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBuZXh0OiAoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VRdWV1ZSA9IHByb21pc2VRdWV1ZS50aGVuKCgpID0+IHRoaXMuX3NlbmRXaXRoUHJvdG9jb2wodGhpcy5fY3JlYXRlU3RyZWFtSXRlbU1lc3NhZ2Uoc3RyZWFtSWQsIGl0ZW0pKSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcmVwbGFjZVN0cmVhbWluZ1BhcmFtcyhhcmdzKSB7XHJcbiAgICAgICAgY29uc3Qgc3RyZWFtcyA9IFtdO1xyXG4gICAgICAgIGNvbnN0IHN0cmVhbUlkcyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBhcmd1bWVudCA9IGFyZ3NbaV07XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc09ic2VydmFibGUoYXJndW1lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW1JZCA9IHRoaXMuX2ludm9jYXRpb25JZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2ludm9jYXRpb25JZCsrO1xyXG4gICAgICAgICAgICAgICAgLy8gU3RvcmUgdGhlIHN0cmVhbSBmb3IgbGF0ZXIgdXNlXHJcbiAgICAgICAgICAgICAgICBzdHJlYW1zW3N0cmVhbUlkXSA9IGFyZ3VtZW50O1xyXG4gICAgICAgICAgICAgICAgc3RyZWFtSWRzLnB1c2goc3RyZWFtSWQudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgc3RyZWFtIGZyb20gYXJnc1xyXG4gICAgICAgICAgICAgICAgYXJncy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtzdHJlYW1zLCBzdHJlYW1JZHNdO1xyXG4gICAgfVxyXG4gICAgX2lzT2JzZXJ2YWJsZShhcmcpIHtcclxuICAgICAgICAvLyBUaGlzIGFsbG93cyBvdGhlciBzdHJlYW0gaW1wbGVtZW50YXRpb25zIHRvIGp1c3Qgd29yayAobGlrZSByeGpzKVxyXG4gICAgICAgIHJldHVybiBhcmcgJiYgYXJnLnN1YnNjcmliZSAmJiB0eXBlb2YgYXJnLnN1YnNjcmliZSA9PT0gXCJmdW5jdGlvblwiO1xyXG4gICAgfVxyXG4gICAgX2NyZWF0ZVN0cmVhbUludm9jYXRpb24obWV0aG9kTmFtZSwgYXJncywgc3RyZWFtSWRzKSB7XHJcbiAgICAgICAgY29uc3QgaW52b2NhdGlvbklkID0gdGhpcy5faW52b2NhdGlvbklkO1xyXG4gICAgICAgIHRoaXMuX2ludm9jYXRpb25JZCsrO1xyXG4gICAgICAgIGlmIChzdHJlYW1JZHMubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBhcmd1bWVudHM6IGFyZ3MsXHJcbiAgICAgICAgICAgICAgICBpbnZvY2F0aW9uSWQ6IGludm9jYXRpb25JZC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgc3RyZWFtSWRzLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBtZXRob2ROYW1lLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogTWVzc2FnZVR5cGUuU3RyZWFtSW52b2NhdGlvbixcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBhcmd1bWVudHM6IGFyZ3MsXHJcbiAgICAgICAgICAgICAgICBpbnZvY2F0aW9uSWQ6IGludm9jYXRpb25JZC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBtZXRob2ROYW1lLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogTWVzc2FnZVR5cGUuU3RyZWFtSW52b2NhdGlvbixcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfY3JlYXRlQ2FuY2VsSW52b2NhdGlvbihpZCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGludm9jYXRpb25JZDogaWQsXHJcbiAgICAgICAgICAgIHR5cGU6IE1lc3NhZ2VUeXBlLkNhbmNlbEludm9jYXRpb24sXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIF9jcmVhdGVTdHJlYW1JdGVtTWVzc2FnZShpZCwgaXRlbSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGludm9jYXRpb25JZDogaWQsXHJcbiAgICAgICAgICAgIGl0ZW0sXHJcbiAgICAgICAgICAgIHR5cGU6IE1lc3NhZ2VUeXBlLlN0cmVhbUl0ZW0sXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIF9jcmVhdGVDb21wbGV0aW9uTWVzc2FnZShpZCwgZXJyb3IsIHJlc3VsdCkge1xyXG4gICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgZXJyb3IsXHJcbiAgICAgICAgICAgICAgICBpbnZvY2F0aW9uSWQ6IGlkLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogTWVzc2FnZVR5cGUuQ29tcGxldGlvbixcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaW52b2NhdGlvbklkOiBpZCxcclxuICAgICAgICAgICAgcmVzdWx0LFxyXG4gICAgICAgICAgICB0eXBlOiBNZXNzYWdlVHlwZS5Db21wbGV0aW9uLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBfY3JlYXRlQ2xvc2VNZXNzYWdlKCkge1xyXG4gICAgICAgIHJldHVybiB7IHR5cGU6IE1lc3NhZ2VUeXBlLkNsb3NlIH07XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SHViQ29ubmVjdGlvbi5qcy5tYXAiXSwibmFtZXMiOlsiSGFuZHNoYWtlUHJvdG9jb2wiLCJBYm9ydEVycm9yIiwiTWVzc2FnZVR5cGUiLCJMb2dMZXZlbCIsIlN1YmplY3QiLCJBcmciLCJnZXRFcnJvclN0cmluZyIsIlBsYXRmb3JtIiwiTWVzc2FnZUJ1ZmZlciIsIkRFRkFVTFRfVElNRU9VVF9JTl9NUyIsIkRFRkFVTFRfUElOR19JTlRFUlZBTF9JTl9NUyIsIkRFRkFVTFRfU1RBVEVGVUxfUkVDT05ORUNUX0JVRkZFUl9TSVpFIiwiSHViQ29ubmVjdGlvblN0YXRlIiwiSHViQ29ubmVjdGlvbiIsImNyZWF0ZSIsImNvbm5lY3Rpb24iLCJsb2dnZXIiLCJwcm90b2NvbCIsInJlY29ubmVjdFBvbGljeSIsInNlcnZlclRpbWVvdXRJbk1pbGxpc2Vjb25kcyIsImtlZXBBbGl2ZUludGVydmFsSW5NaWxsaXNlY29uZHMiLCJzdGF0ZWZ1bFJlY29ubmVjdEJ1ZmZlclNpemUiLCJjb25zdHJ1Y3RvciIsIl9uZXh0S2VlcEFsaXZlIiwiX2ZyZWV6ZUV2ZW50TGlzdGVuZXIiLCJfbG9nZ2VyIiwibG9nIiwiV2FybmluZyIsImlzUmVxdWlyZWQiLCJfc3RhdGVmdWxSZWNvbm5lY3RCdWZmZXJTaXplIiwiX3Byb3RvY29sIiwiX3JlY29ubmVjdFBvbGljeSIsIl9oYW5kc2hha2VQcm90b2NvbCIsIm9ucmVjZWl2ZSIsImRhdGEiLCJfcHJvY2Vzc0luY29taW5nRGF0YSIsIm9uY2xvc2UiLCJlcnJvciIsIl9jb25uZWN0aW9uQ2xvc2VkIiwiX2NhbGxiYWNrcyIsIl9tZXRob2RzIiwiX2Nsb3NlZENhbGxiYWNrcyIsIl9yZWNvbm5lY3RpbmdDYWxsYmFja3MiLCJfcmVjb25uZWN0ZWRDYWxsYmFja3MiLCJfaW52b2NhdGlvbklkIiwiX3JlY2VpdmVkSGFuZHNoYWtlUmVzcG9uc2UiLCJfY29ubmVjdGlvblN0YXRlIiwiRGlzY29ubmVjdGVkIiwiX2Nvbm5lY3Rpb25TdGFydGVkIiwiX2NhY2hlZFBpbmdNZXNzYWdlIiwid3JpdGVNZXNzYWdlIiwidHlwZSIsIlBpbmciLCJzdGF0ZSIsImNvbm5lY3Rpb25JZCIsImJhc2VVcmwiLCJ1cmwiLCJSZWNvbm5lY3RpbmciLCJFcnJvciIsInN0YXJ0IiwiX3N0YXJ0UHJvbWlzZSIsIl9zdGFydFdpdGhTdGF0ZVRyYW5zaXRpb25zIiwiUHJvbWlzZSIsInJlamVjdCIsIkNvbm5lY3RpbmciLCJEZWJ1ZyIsIl9zdGFydEludGVybmFsIiwiaXNCcm93c2VyIiwid2luZG93IiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiQ29ubmVjdGVkIiwiZSIsIl9zdG9wRHVyaW5nU3RhcnRFcnJvciIsInVuZGVmaW5lZCIsImhhbmRzaGFrZVByb21pc2UiLCJyZXNvbHZlIiwiX2hhbmRzaGFrZVJlc29sdmVyIiwiX2hhbmRzaGFrZVJlamVjdGVyIiwidHJhbnNmZXJGb3JtYXQiLCJ2ZXJzaW9uIiwiZmVhdHVyZXMiLCJyZWNvbm5lY3QiLCJoYW5kc2hha2VSZXF1ZXN0IiwibmFtZSIsIl9zZW5kTWVzc2FnZSIsIndyaXRlSGFuZHNoYWtlUmVxdWVzdCIsIkluZm9ybWF0aW9uIiwiX2NsZWFudXBUaW1lb3V0IiwiX3Jlc2V0VGltZW91dFBlcmlvZCIsIl9yZXNldEtlZXBBbGl2ZUludGVydmFsIiwidXNlU3RhdGVmdWxSZWNvbm5lY3QiLCJfbWVzc2FnZUJ1ZmZlciIsImRpc2Nvbm5lY3RlZCIsIl9kaXNjb25uZWN0ZWQiLCJiaW5kIiwicmVzZW5kIiwiX3Jlc2VuZCIsImluaGVyZW50S2VlcEFsaXZlIiwiX2NsZWFudXBQaW5nVGltZXIiLCJzdG9wIiwic3RhcnRQcm9taXNlIiwiX3N0b3BQcm9taXNlIiwiX3N0b3BJbnRlcm5hbCIsIkRpc2Nvbm5lY3RpbmciLCJfcmVjb25uZWN0RGVsYXlIYW5kbGUiLCJjbGVhclRpbWVvdXQiLCJfY29tcGxldGVDbG9zZSIsIl9zZW5kQ2xvc2VNZXNzYWdlIiwiX3NlbmRXaXRoUHJvdG9jb2wiLCJfY3JlYXRlQ2xvc2VNZXNzYWdlIiwic3RyZWFtIiwibWV0aG9kTmFtZSIsImFyZ3MiLCJzdHJlYW1zIiwic3RyZWFtSWRzIiwiX3JlcGxhY2VTdHJlYW1pbmdQYXJhbXMiLCJpbnZvY2F0aW9uRGVzY3JpcHRvciIsIl9jcmVhdGVTdHJlYW1JbnZvY2F0aW9uIiwicHJvbWlzZVF1ZXVlIiwic3ViamVjdCIsImNhbmNlbENhbGxiYWNrIiwiY2FuY2VsSW52b2NhdGlvbiIsIl9jcmVhdGVDYW5jZWxJbnZvY2F0aW9uIiwiaW52b2NhdGlvbklkIiwidGhlbiIsImludm9jYXRpb25FdmVudCIsIkNvbXBsZXRpb24iLCJjb21wbGV0ZSIsIm5leHQiLCJpdGVtIiwiY2F0Y2giLCJfbGF1bmNoU3RyZWFtcyIsIm1lc3NhZ2UiLCJzZW5kIiwiX3NlbmQiLCJzZW5kUHJvbWlzZSIsIl9jcmVhdGVJbnZvY2F0aW9uIiwiaW52b2tlIiwicCIsInJlc3VsdCIsIm9uIiwibmV3TWV0aG9kIiwidG9Mb3dlckNhc2UiLCJpbmRleE9mIiwicHVzaCIsIm9mZiIsIm1ldGhvZCIsImhhbmRsZXJzIiwicmVtb3ZlSWR4Iiwic3BsaWNlIiwibGVuZ3RoIiwiY2FsbGJhY2siLCJvbnJlY29ubmVjdGluZyIsIm9ucmVjb25uZWN0ZWQiLCJfcHJvY2Vzc0hhbmRzaGFrZVJlc3BvbnNlIiwibWVzc2FnZXMiLCJwYXJzZU1lc3NhZ2VzIiwiX3Nob3VsZFByb2Nlc3NNZXNzYWdlIiwiSW52b2NhdGlvbiIsIl9pbnZva2VDbGllbnRNZXRob2QiLCJTdHJlYW1JdGVtIiwiQ2xvc2UiLCJhbGxvd1JlY29ubmVjdCIsIkFjayIsIl9hY2siLCJTZXF1ZW5jZSIsIl9yZXNldFNlcXVlbmNlIiwicmVzcG9uc2VNZXNzYWdlIiwicmVtYWluaW5nRGF0YSIsInBhcnNlSGFuZHNoYWtlUmVzcG9uc2UiLCJEYXRlIiwiZ2V0VGltZSIsIl90aW1lb3V0SGFuZGxlIiwic2V0VGltZW91dCIsInNlcnZlclRpbWVvdXQiLCJfcGluZ1NlcnZlckhhbmRsZSIsIm5leHRQaW5nIiwiaW52b2NhdGlvbk1lc3NhZ2UiLCJ0YXJnZXQiLCJtZXRob2RzIiwiX2NyZWF0ZUNvbXBsZXRpb25NZXNzYWdlIiwibWV0aG9kc0NvcHkiLCJzbGljZSIsImV4cGVjdHNSZXNwb25zZSIsInJlcyIsImV4Y2VwdGlvbiIsImNvbXBsZXRpb25NZXNzYWdlIiwibSIsInByZXZSZXMiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9jYW5jZWxDYWxsYmFja3NXaXRoRXJyb3IiLCJfcmVjb25uZWN0IiwiX2Rpc3Bvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZm9yRWFjaCIsImMiLCJyZWNvbm5lY3RTdGFydFRpbWUiLCJub3ciLCJwcmV2aW91c1JlY29ubmVjdEF0dGVtcHRzIiwicmV0cnlFcnJvciIsIm5leHRSZXRyeURlbGF5IiwiX2dldE5leHRSZXRyeURlbGF5IiwidG9TdHJpbmciLCJwcmV2aW91c1JldHJ5Q291bnQiLCJlbGFwc2VkTWlsbGlzZWNvbmRzIiwicmV0cnlSZWFzb24iLCJuZXh0UmV0cnlEZWxheUluTWlsbGlzZWNvbmRzIiwiY2FsbGJhY2tzIiwiT2JqZWN0Iiwia2V5cyIsImtleSIsIm5vbmJsb2NraW5nIiwic3RyZWFtSWQiLCJzdWJzY3JpYmUiLCJlcnIiLCJfY3JlYXRlU3RyZWFtSXRlbU1lc3NhZ2UiLCJpIiwiYXJndW1lbnQiLCJfaXNPYnNlcnZhYmxlIiwiYXJnIiwiU3RyZWFtSW52b2NhdGlvbiIsImlkIiwiQ2FuY2VsSW52b2NhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/HubConnection.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/HubConnectionBuilder.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/HubConnectionBuilder.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HubConnectionBuilder: () => (/* binding */ HubConnectionBuilder)\n/* harmony export */ });\n/* harmony import */ var _DefaultReconnectPolicy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DefaultReconnectPolicy */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/DefaultReconnectPolicy.js\");\n/* harmony import */ var _HttpConnection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./HttpConnection */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/HttpConnection.js\");\n/* harmony import */ var _HubConnection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./HubConnection */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/HubConnection.js\");\n/* harmony import */ var _ILogger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ILogger */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/ILogger.js\");\n/* harmony import */ var _JsonHubProtocol__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./JsonHubProtocol */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/JsonHubProtocol.js\");\n/* harmony import */ var _Loggers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Loggers */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Loggers.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Utils.js\");\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n\n\n\n\n\n\n\nconst LogLevelNameMapping = {\n    trace: _ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Trace,\n    debug: _ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Debug,\n    info: _ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Information,\n    information: _ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Information,\n    warn: _ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Warning,\n    warning: _ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Warning,\n    error: _ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Error,\n    critical: _ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Critical,\n    none: _ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.None\n};\nfunction parseLogLevel(name) {\n    // Case-insensitive matching via lower-casing\n    // Yes, I know case-folding is a complicated problem in Unicode, but we only support\n    // the ASCII strings defined in LogLevelNameMapping anyway, so it's fine -anurse.\n    const mapping = LogLevelNameMapping[name.toLowerCase()];\n    if (typeof mapping !== \"undefined\") {\n        return mapping;\n    } else {\n        throw new Error(`Unknown log level: ${name}`);\n    }\n}\n/** A builder for configuring {@link @microsoft/signalr.HubConnection} instances. */ class HubConnectionBuilder {\n    configureLogging(logging) {\n        _Utils__WEBPACK_IMPORTED_MODULE_1__.Arg.isRequired(logging, \"logging\");\n        if (isLogger(logging)) {\n            this.logger = logging;\n        } else if (typeof logging === \"string\") {\n            const logLevel = parseLogLevel(logging);\n            this.logger = new _Utils__WEBPACK_IMPORTED_MODULE_1__.ConsoleLogger(logLevel);\n        } else {\n            this.logger = new _Utils__WEBPACK_IMPORTED_MODULE_1__.ConsoleLogger(logging);\n        }\n        return this;\n    }\n    withUrl(url, transportTypeOrOptions) {\n        _Utils__WEBPACK_IMPORTED_MODULE_1__.Arg.isRequired(url, \"url\");\n        _Utils__WEBPACK_IMPORTED_MODULE_1__.Arg.isNotEmpty(url, \"url\");\n        this.url = url;\n        // Flow-typing knows where it's at. Since HttpTransportType is a number and IHttpConnectionOptions is guaranteed\n        // to be an object, we know (as does TypeScript) this comparison is all we need to figure out which overload was called.\n        if (typeof transportTypeOrOptions === \"object\") {\n            this.httpConnectionOptions = {\n                ...this.httpConnectionOptions,\n                ...transportTypeOrOptions\n            };\n        } else {\n            this.httpConnectionOptions = {\n                ...this.httpConnectionOptions,\n                transport: transportTypeOrOptions\n            };\n        }\n        return this;\n    }\n    /** Configures the {@link @microsoft/signalr.HubConnection} to use the specified Hub Protocol.\r\n     *\r\n     * @param {IHubProtocol} protocol The {@link @microsoft/signalr.IHubProtocol} implementation to use.\r\n     */ withHubProtocol(protocol) {\n        _Utils__WEBPACK_IMPORTED_MODULE_1__.Arg.isRequired(protocol, \"protocol\");\n        this.protocol = protocol;\n        return this;\n    }\n    withAutomaticReconnect(retryDelaysOrReconnectPolicy) {\n        if (this.reconnectPolicy) {\n            throw new Error(\"A reconnectPolicy has already been set.\");\n        }\n        if (!retryDelaysOrReconnectPolicy) {\n            this.reconnectPolicy = new _DefaultReconnectPolicy__WEBPACK_IMPORTED_MODULE_2__.DefaultReconnectPolicy();\n        } else if (Array.isArray(retryDelaysOrReconnectPolicy)) {\n            this.reconnectPolicy = new _DefaultReconnectPolicy__WEBPACK_IMPORTED_MODULE_2__.DefaultReconnectPolicy(retryDelaysOrReconnectPolicy);\n        } else {\n            this.reconnectPolicy = retryDelaysOrReconnectPolicy;\n        }\n        return this;\n    }\n    /** Configures {@link @microsoft/signalr.HubConnection.serverTimeoutInMilliseconds} for the {@link @microsoft/signalr.HubConnection}.\r\n     *\r\n     * @returns The {@link @microsoft/signalr.HubConnectionBuilder} instance, for chaining.\r\n     */ withServerTimeout(milliseconds) {\n        _Utils__WEBPACK_IMPORTED_MODULE_1__.Arg.isRequired(milliseconds, \"milliseconds\");\n        this._serverTimeoutInMilliseconds = milliseconds;\n        return this;\n    }\n    /** Configures {@link @microsoft/signalr.HubConnection.keepAliveIntervalInMilliseconds} for the {@link @microsoft/signalr.HubConnection}.\r\n     *\r\n     * @returns The {@link @microsoft/signalr.HubConnectionBuilder} instance, for chaining.\r\n     */ withKeepAliveInterval(milliseconds) {\n        _Utils__WEBPACK_IMPORTED_MODULE_1__.Arg.isRequired(milliseconds, \"milliseconds\");\n        this._keepAliveIntervalInMilliseconds = milliseconds;\n        return this;\n    }\n    /** Enables and configures options for the Stateful Reconnect feature.\r\n     *\r\n     * @returns The {@link @microsoft/signalr.HubConnectionBuilder} instance, for chaining.\r\n     */ withStatefulReconnect(options) {\n        if (this.httpConnectionOptions === undefined) {\n            this.httpConnectionOptions = {};\n        }\n        this.httpConnectionOptions._useStatefulReconnect = true;\n        this._statefulReconnectBufferSize = options === null || options === void 0 ? void 0 : options.bufferSize;\n        return this;\n    }\n    /** Creates a {@link @microsoft/signalr.HubConnection} from the configuration options specified in this builder.\r\n     *\r\n     * @returns {HubConnection} The configured {@link @microsoft/signalr.HubConnection}.\r\n     */ build() {\n        // If httpConnectionOptions has a logger, use it. Otherwise, override it with the one\n        // provided to configureLogger\n        const httpConnectionOptions = this.httpConnectionOptions || {};\n        // If it's 'null', the user **explicitly** asked for null, don't mess with it.\n        if (httpConnectionOptions.logger === undefined) {\n            // If our logger is undefined or null, that's OK, the HttpConnection constructor will handle it.\n            httpConnectionOptions.logger = this.logger;\n        }\n        // Now create the connection\n        if (!this.url) {\n            throw new Error(\"The 'HubConnectionBuilder.withUrl' method must be called before building the connection.\");\n        }\n        const connection = new _HttpConnection__WEBPACK_IMPORTED_MODULE_3__.HttpConnection(this.url, httpConnectionOptions);\n        return _HubConnection__WEBPACK_IMPORTED_MODULE_4__.HubConnection.create(connection, this.logger || _Loggers__WEBPACK_IMPORTED_MODULE_5__.NullLogger.instance, this.protocol || new _JsonHubProtocol__WEBPACK_IMPORTED_MODULE_6__.JsonHubProtocol(), this.reconnectPolicy, this._serverTimeoutInMilliseconds, this._keepAliveIntervalInMilliseconds, this._statefulReconnectBufferSize);\n    }\n}\nfunction isLogger(logger) {\n    return logger.log !== undefined;\n} //# sourceMappingURL=HubConnectionBuilder.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0h1YkNvbm5lY3Rpb25CdWlsZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsZ0VBQWdFO0FBQ2hFLHVFQUF1RTtBQUNMO0FBQ2hCO0FBQ0Y7QUFDWDtBQUNlO0FBQ2I7QUFDTTtBQUM3QyxNQUFNUSxzQkFBc0I7SUFDeEJDLE9BQU9OLDhDQUFRQSxDQUFDTyxLQUFLO0lBQ3JCQyxPQUFPUiw4Q0FBUUEsQ0FBQ1MsS0FBSztJQUNyQkMsTUFBTVYsOENBQVFBLENBQUNXLFdBQVc7SUFDMUJDLGFBQWFaLDhDQUFRQSxDQUFDVyxXQUFXO0lBQ2pDRSxNQUFNYiw4Q0FBUUEsQ0FBQ2MsT0FBTztJQUN0QkMsU0FBU2YsOENBQVFBLENBQUNjLE9BQU87SUFDekJFLE9BQU9oQiw4Q0FBUUEsQ0FBQ2lCLEtBQUs7SUFDckJDLFVBQVVsQiw4Q0FBUUEsQ0FBQ21CLFFBQVE7SUFDM0JDLE1BQU1wQiw4Q0FBUUEsQ0FBQ3FCLElBQUk7QUFDdkI7QUFDQSxTQUFTQyxjQUFjQyxJQUFJO0lBQ3ZCLDZDQUE2QztJQUM3QyxvRkFBb0Y7SUFDcEYsaUZBQWlGO0lBQ2pGLE1BQU1DLFVBQVVuQixtQkFBbUIsQ0FBQ2tCLEtBQUtFLFdBQVcsR0FBRztJQUN2RCxJQUFJLE9BQU9ELFlBQVksYUFBYTtRQUNoQyxPQUFPQTtJQUNYLE9BQ0s7UUFDRCxNQUFNLElBQUlQLE1BQU0sQ0FBQyxtQkFBbUIsRUFBRU0sS0FBSyxDQUFDO0lBQ2hEO0FBQ0o7QUFDQSxrRkFBa0YsR0FDM0UsTUFBTUc7SUFDVEMsaUJBQWlCQyxPQUFPLEVBQUU7UUFDdEJ6Qix1Q0FBR0EsQ0FBQzBCLFVBQVUsQ0FBQ0QsU0FBUztRQUN4QixJQUFJRSxTQUFTRixVQUFVO1lBQ25CLElBQUksQ0FBQ0csTUFBTSxHQUFHSDtRQUNsQixPQUNLLElBQUksT0FBT0EsWUFBWSxVQUFVO1lBQ2xDLE1BQU1JLFdBQVdWLGNBQWNN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RUFBRUc7UUFDaEQsT0FBT3RDLHlEQUFhQSxDQUFDNEQsTUFBTSxDQUFDRCxZQUFZLElBQUksQ0FBQzNCLE1BQU0sSUFBSTdCLGdEQUFVQSxDQUFDMEQsUUFBUSxFQUFFLElBQUksQ0FBQ3BCLFFBQVEsSUFBSSxJQUFJdkMsNkRBQWVBLElBQUksSUFBSSxDQUFDMEMsZUFBZSxFQUFFLElBQUksQ0FBQ0ssNEJBQTRCLEVBQUUsSUFBSSxDQUFDRSxnQ0FBZ0MsRUFBRSxJQUFJLENBQUNLLDRCQUE0QjtJQUN6UDtBQUNKO0FBQ0EsU0FBU3pCLFNBQVNDLE1BQU07SUFDcEIsT0FBT0EsT0FBTzhCLEdBQUcsS0FBS1I7QUFDMUIsRUFDQSxnREFBZ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWItc29ja2V0cy1jaGF0LWNsaWVudC1hcHAvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0h1YkNvbm5lY3Rpb25CdWlsZGVyLmpzP2M2Y2EiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5pbXBvcnQgeyBEZWZhdWx0UmVjb25uZWN0UG9saWN5IH0gZnJvbSBcIi4vRGVmYXVsdFJlY29ubmVjdFBvbGljeVwiO1xyXG5pbXBvcnQgeyBIdHRwQ29ubmVjdGlvbiB9IGZyb20gXCIuL0h0dHBDb25uZWN0aW9uXCI7XHJcbmltcG9ydCB7IEh1YkNvbm5lY3Rpb24gfSBmcm9tIFwiLi9IdWJDb25uZWN0aW9uXCI7XHJcbmltcG9ydCB7IExvZ0xldmVsIH0gZnJvbSBcIi4vSUxvZ2dlclwiO1xyXG5pbXBvcnQgeyBKc29uSHViUHJvdG9jb2wgfSBmcm9tIFwiLi9Kc29uSHViUHJvdG9jb2xcIjtcclxuaW1wb3J0IHsgTnVsbExvZ2dlciB9IGZyb20gXCIuL0xvZ2dlcnNcIjtcclxuaW1wb3J0IHsgQXJnLCBDb25zb2xlTG9nZ2VyIH0gZnJvbSBcIi4vVXRpbHNcIjtcclxuY29uc3QgTG9nTGV2ZWxOYW1lTWFwcGluZyA9IHtcclxuICAgIHRyYWNlOiBMb2dMZXZlbC5UcmFjZSxcclxuICAgIGRlYnVnOiBMb2dMZXZlbC5EZWJ1ZyxcclxuICAgIGluZm86IExvZ0xldmVsLkluZm9ybWF0aW9uLFxyXG4gICAgaW5mb3JtYXRpb246IExvZ0xldmVsLkluZm9ybWF0aW9uLFxyXG4gICAgd2FybjogTG9nTGV2ZWwuV2FybmluZyxcclxuICAgIHdhcm5pbmc6IExvZ0xldmVsLldhcm5pbmcsXHJcbiAgICBlcnJvcjogTG9nTGV2ZWwuRXJyb3IsXHJcbiAgICBjcml0aWNhbDogTG9nTGV2ZWwuQ3JpdGljYWwsXHJcbiAgICBub25lOiBMb2dMZXZlbC5Ob25lLFxyXG59O1xyXG5mdW5jdGlvbiBwYXJzZUxvZ0xldmVsKG5hbWUpIHtcclxuICAgIC8vIENhc2UtaW5zZW5zaXRpdmUgbWF0Y2hpbmcgdmlhIGxvd2VyLWNhc2luZ1xyXG4gICAgLy8gWWVzLCBJIGtub3cgY2FzZS1mb2xkaW5nIGlzIGEgY29tcGxpY2F0ZWQgcHJvYmxlbSBpbiBVbmljb2RlLCBidXQgd2Ugb25seSBzdXBwb3J0XHJcbiAgICAvLyB0aGUgQVNDSUkgc3RyaW5ncyBkZWZpbmVkIGluIExvZ0xldmVsTmFtZU1hcHBpbmcgYW55d2F5LCBzbyBpdCdzIGZpbmUgLWFudXJzZS5cclxuICAgIGNvbnN0IG1hcHBpbmcgPSBMb2dMZXZlbE5hbWVNYXBwaW5nW25hbWUudG9Mb3dlckNhc2UoKV07XHJcbiAgICBpZiAodHlwZW9mIG1hcHBpbmcgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICByZXR1cm4gbWFwcGluZztcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBsb2cgbGV2ZWw6ICR7bmFtZX1gKTtcclxuICAgIH1cclxufVxyXG4vKiogQSBidWlsZGVyIGZvciBjb25maWd1cmluZyB7QGxpbmsgQG1pY3Jvc29mdC9zaWduYWxyLkh1YkNvbm5lY3Rpb259IGluc3RhbmNlcy4gKi9cclxuZXhwb3J0IGNsYXNzIEh1YkNvbm5lY3Rpb25CdWlsZGVyIHtcclxuICAgIGNvbmZpZ3VyZUxvZ2dpbmcobG9nZ2luZykge1xyXG4gICAgICAgIEFyZy5pc1JlcXVpcmVkKGxvZ2dpbmcsIFwibG9nZ2luZ1wiKTtcclxuICAgICAgICBpZiAoaXNMb2dnZXIobG9nZ2luZykpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnaW5nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgbG9nZ2luZyA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBjb25zdCBsb2dMZXZlbCA9IHBhcnNlTG9nTGV2ZWwobG9nZ2luZyk7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyID0gbmV3IENvbnNvbGVMb2dnZXIobG9nTGV2ZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIgPSBuZXcgQ29uc29sZUxvZ2dlcihsb2dnaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICB3aXRoVXJsKHVybCwgdHJhbnNwb3J0VHlwZU9yT3B0aW9ucykge1xyXG4gICAgICAgIEFyZy5pc1JlcXVpcmVkKHVybCwgXCJ1cmxcIik7XHJcbiAgICAgICAgQXJnLmlzTm90RW1wdHkodXJsLCBcInVybFwiKTtcclxuICAgICAgICB0aGlzLnVybCA9IHVybDtcclxuICAgICAgICAvLyBGbG93LXR5cGluZyBrbm93cyB3aGVyZSBpdCdzIGF0LiBTaW5jZSBIdHRwVHJhbnNwb3J0VHlwZSBpcyBhIG51bWJlciBhbmQgSUh0dHBDb25uZWN0aW9uT3B0aW9ucyBpcyBndWFyYW50ZWVkXHJcbiAgICAgICAgLy8gdG8gYmUgYW4gb2JqZWN0LCB3ZSBrbm93IChhcyBkb2VzIFR5cGVTY3JpcHQpIHRoaXMgY29tcGFyaXNvbiBpcyBhbGwgd2UgbmVlZCB0byBmaWd1cmUgb3V0IHdoaWNoIG92ZXJsb2FkIHdhcyBjYWxsZWQuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0cmFuc3BvcnRUeXBlT3JPcHRpb25zID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaHR0cENvbm5lY3Rpb25PcHRpb25zID0geyAuLi50aGlzLmh0dHBDb25uZWN0aW9uT3B0aW9ucywgLi4udHJhbnNwb3J0VHlwZU9yT3B0aW9ucyB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5odHRwQ29ubmVjdGlvbk9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLmh0dHBDb25uZWN0aW9uT3B0aW9ucyxcclxuICAgICAgICAgICAgICAgIHRyYW5zcG9ydDogdHJhbnNwb3J0VHlwZU9yT3B0aW9ucyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKiogQ29uZmlndXJlcyB0aGUge0BsaW5rIEBtaWNyb3NvZnQvc2lnbmFsci5IdWJDb25uZWN0aW9ufSB0byB1c2UgdGhlIHNwZWNpZmllZCBIdWIgUHJvdG9jb2wuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtJSHViUHJvdG9jb2x9IHByb3RvY29sIFRoZSB7QGxpbmsgQG1pY3Jvc29mdC9zaWduYWxyLklIdWJQcm90b2NvbH0gaW1wbGVtZW50YXRpb24gdG8gdXNlLlxyXG4gICAgICovXHJcbiAgICB3aXRoSHViUHJvdG9jb2wocHJvdG9jb2wpIHtcclxuICAgICAgICBBcmcuaXNSZXF1aXJlZChwcm90b2NvbCwgXCJwcm90b2NvbFwiKTtcclxuICAgICAgICB0aGlzLnByb3RvY29sID0gcHJvdG9jb2w7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICB3aXRoQXV0b21hdGljUmVjb25uZWN0KHJldHJ5RGVsYXlzT3JSZWNvbm5lY3RQb2xpY3kpIHtcclxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RQb2xpY3kpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSByZWNvbm5lY3RQb2xpY3kgaGFzIGFscmVhZHkgYmVlbiBzZXQuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXJldHJ5RGVsYXlzT3JSZWNvbm5lY3RQb2xpY3kpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RQb2xpY3kgPSBuZXcgRGVmYXVsdFJlY29ubmVjdFBvbGljeSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHJldHJ5RGVsYXlzT3JSZWNvbm5lY3RQb2xpY3kpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0UG9saWN5ID0gbmV3IERlZmF1bHRSZWNvbm5lY3RQb2xpY3kocmV0cnlEZWxheXNPclJlY29ubmVjdFBvbGljeSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdFBvbGljeSA9IHJldHJ5RGVsYXlzT3JSZWNvbm5lY3RQb2xpY3k7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqIENvbmZpZ3VyZXMge0BsaW5rIEBtaWNyb3NvZnQvc2lnbmFsci5IdWJDb25uZWN0aW9uLnNlcnZlclRpbWVvdXRJbk1pbGxpc2Vjb25kc30gZm9yIHRoZSB7QGxpbmsgQG1pY3Jvc29mdC9zaWduYWxyLkh1YkNvbm5lY3Rpb259LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgQG1pY3Jvc29mdC9zaWduYWxyLkh1YkNvbm5lY3Rpb25CdWlsZGVyfSBpbnN0YW5jZSwgZm9yIGNoYWluaW5nLlxyXG4gICAgICovXHJcbiAgICB3aXRoU2VydmVyVGltZW91dChtaWxsaXNlY29uZHMpIHtcclxuICAgICAgICBBcmcuaXNSZXF1aXJlZChtaWxsaXNlY29uZHMsIFwibWlsbGlzZWNvbmRzXCIpO1xyXG4gICAgICAgIHRoaXMuX3NlcnZlclRpbWVvdXRJbk1pbGxpc2Vjb25kcyA9IG1pbGxpc2Vjb25kcztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKiBDb25maWd1cmVzIHtAbGluayBAbWljcm9zb2Z0L3NpZ25hbHIuSHViQ29ubmVjdGlvbi5rZWVwQWxpdmVJbnRlcnZhbEluTWlsbGlzZWNvbmRzfSBmb3IgdGhlIHtAbGluayBAbWljcm9zb2Z0L3NpZ25hbHIuSHViQ29ubmVjdGlvbn0uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgVGhlIHtAbGluayBAbWljcm9zb2Z0L3NpZ25hbHIuSHViQ29ubmVjdGlvbkJ1aWxkZXJ9IGluc3RhbmNlLCBmb3IgY2hhaW5pbmcuXHJcbiAgICAgKi9cclxuICAgIHdpdGhLZWVwQWxpdmVJbnRlcnZhbChtaWxsaXNlY29uZHMpIHtcclxuICAgICAgICBBcmcuaXNSZXF1aXJlZChtaWxsaXNlY29uZHMsIFwibWlsbGlzZWNvbmRzXCIpO1xyXG4gICAgICAgIHRoaXMuX2tlZXBBbGl2ZUludGVydmFsSW5NaWxsaXNlY29uZHMgPSBtaWxsaXNlY29uZHM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKiogRW5hYmxlcyBhbmQgY29uZmlndXJlcyBvcHRpb25zIGZvciB0aGUgU3RhdGVmdWwgUmVjb25uZWN0IGZlYXR1cmUuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgVGhlIHtAbGluayBAbWljcm9zb2Z0L3NpZ25hbHIuSHViQ29ubmVjdGlvbkJ1aWxkZXJ9IGluc3RhbmNlLCBmb3IgY2hhaW5pbmcuXHJcbiAgICAgKi9cclxuICAgIHdpdGhTdGF0ZWZ1bFJlY29ubmVjdChvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaHR0cENvbm5lY3Rpb25PcHRpb25zID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5odHRwQ29ubmVjdGlvbk9wdGlvbnMgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5odHRwQ29ubmVjdGlvbk9wdGlvbnMuX3VzZVN0YXRlZnVsUmVjb25uZWN0ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9zdGF0ZWZ1bFJlY29ubmVjdEJ1ZmZlclNpemUgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuYnVmZmVyU2l6ZTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKiBDcmVhdGVzIGEge0BsaW5rIEBtaWNyb3NvZnQvc2lnbmFsci5IdWJDb25uZWN0aW9ufSBmcm9tIHRoZSBjb25maWd1cmF0aW9uIG9wdGlvbnMgc3BlY2lmaWVkIGluIHRoaXMgYnVpbGRlci5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7SHViQ29ubmVjdGlvbn0gVGhlIGNvbmZpZ3VyZWQge0BsaW5rIEBtaWNyb3NvZnQvc2lnbmFsci5IdWJDb25uZWN0aW9ufS5cclxuICAgICAqL1xyXG4gICAgYnVpbGQoKSB7XHJcbiAgICAgICAgLy8gSWYgaHR0cENvbm5lY3Rpb25PcHRpb25zIGhhcyBhIGxvZ2dlciwgdXNlIGl0LiBPdGhlcndpc2UsIG92ZXJyaWRlIGl0IHdpdGggdGhlIG9uZVxyXG4gICAgICAgIC8vIHByb3ZpZGVkIHRvIGNvbmZpZ3VyZUxvZ2dlclxyXG4gICAgICAgIGNvbnN0IGh0dHBDb25uZWN0aW9uT3B0aW9ucyA9IHRoaXMuaHR0cENvbm5lY3Rpb25PcHRpb25zIHx8IHt9O1xyXG4gICAgICAgIC8vIElmIGl0J3MgJ251bGwnLCB0aGUgdXNlciAqKmV4cGxpY2l0bHkqKiBhc2tlZCBmb3IgbnVsbCwgZG9uJ3QgbWVzcyB3aXRoIGl0LlxyXG4gICAgICAgIGlmIChodHRwQ29ubmVjdGlvbk9wdGlvbnMubG9nZ2VyID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gSWYgb3VyIGxvZ2dlciBpcyB1bmRlZmluZWQgb3IgbnVsbCwgdGhhdCdzIE9LLCB0aGUgSHR0cENvbm5lY3Rpb24gY29uc3RydWN0b3Igd2lsbCBoYW5kbGUgaXQuXHJcbiAgICAgICAgICAgIGh0dHBDb25uZWN0aW9uT3B0aW9ucy5sb2dnZXIgPSB0aGlzLmxvZ2dlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTm93IGNyZWF0ZSB0aGUgY29ubmVjdGlvblxyXG4gICAgICAgIGlmICghdGhpcy51cmwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlICdIdWJDb25uZWN0aW9uQnVpbGRlci53aXRoVXJsJyBtZXRob2QgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIGJ1aWxkaW5nIHRoZSBjb25uZWN0aW9uLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IG5ldyBIdHRwQ29ubmVjdGlvbih0aGlzLnVybCwgaHR0cENvbm5lY3Rpb25PcHRpb25zKTtcclxuICAgICAgICByZXR1cm4gSHViQ29ubmVjdGlvbi5jcmVhdGUoY29ubmVjdGlvbiwgdGhpcy5sb2dnZXIgfHwgTnVsbExvZ2dlci5pbnN0YW5jZSwgdGhpcy5wcm90b2NvbCB8fCBuZXcgSnNvbkh1YlByb3RvY29sKCksIHRoaXMucmVjb25uZWN0UG9saWN5LCB0aGlzLl9zZXJ2ZXJUaW1lb3V0SW5NaWxsaXNlY29uZHMsIHRoaXMuX2tlZXBBbGl2ZUludGVydmFsSW5NaWxsaXNlY29uZHMsIHRoaXMuX3N0YXRlZnVsUmVjb25uZWN0QnVmZmVyU2l6ZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaXNMb2dnZXIobG9nZ2VyKSB7XHJcbiAgICByZXR1cm4gbG9nZ2VyLmxvZyAhPT0gdW5kZWZpbmVkO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUh1YkNvbm5lY3Rpb25CdWlsZGVyLmpzLm1hcCJdLCJuYW1lcyI6WyJEZWZhdWx0UmVjb25uZWN0UG9saWN5IiwiSHR0cENvbm5lY3Rpb24iLCJIdWJDb25uZWN0aW9uIiwiTG9nTGV2ZWwiLCJKc29uSHViUHJvdG9jb2wiLCJOdWxsTG9nZ2VyIiwiQXJnIiwiQ29uc29sZUxvZ2dlciIsIkxvZ0xldmVsTmFtZU1hcHBpbmciLCJ0cmFjZSIsIlRyYWNlIiwiZGVidWciLCJEZWJ1ZyIsImluZm8iLCJJbmZvcm1hdGlvbiIsImluZm9ybWF0aW9uIiwid2FybiIsIldhcm5pbmciLCJ3YXJuaW5nIiwiZXJyb3IiLCJFcnJvciIsImNyaXRpY2FsIiwiQ3JpdGljYWwiLCJub25lIiwiTm9uZSIsInBhcnNlTG9nTGV2ZWwiLCJuYW1lIiwibWFwcGluZyIsInRvTG93ZXJDYXNlIiwiSHViQ29ubmVjdGlvbkJ1aWxkZXIiLCJjb25maWd1cmVMb2dnaW5nIiwibG9nZ2luZyIsImlzUmVxdWlyZWQiLCJpc0xvZ2dlciIsImxvZ2dlciIsImxvZ0xldmVsIiwid2l0aFVybCIsInVybCIsInRyYW5zcG9ydFR5cGVPck9wdGlvbnMiLCJpc05vdEVtcHR5IiwiaHR0cENvbm5lY3Rpb25PcHRpb25zIiwidHJhbnNwb3J0Iiwid2l0aEh1YlByb3RvY29sIiwicHJvdG9jb2wiLCJ3aXRoQXV0b21hdGljUmVjb25uZWN0IiwicmV0cnlEZWxheXNPclJlY29ubmVjdFBvbGljeSIsInJlY29ubmVjdFBvbGljeSIsIkFycmF5IiwiaXNBcnJheSIsIndpdGhTZXJ2ZXJUaW1lb3V0IiwibWlsbGlzZWNvbmRzIiwiX3NlcnZlclRpbWVvdXRJbk1pbGxpc2Vjb25kcyIsIndpdGhLZWVwQWxpdmVJbnRlcnZhbCIsIl9rZWVwQWxpdmVJbnRlcnZhbEluTWlsbGlzZWNvbmRzIiwid2l0aFN0YXRlZnVsUmVjb25uZWN0Iiwib3B0aW9ucyIsInVuZGVmaW5lZCIsIl91c2VTdGF0ZWZ1bFJlY29ubmVjdCIsIl9zdGF0ZWZ1bFJlY29ubmVjdEJ1ZmZlclNpemUiLCJidWZmZXJTaXplIiwiYnVpbGQiLCJjb25uZWN0aW9uIiwiY3JlYXRlIiwiaW5zdGFuY2UiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/HubConnectionBuilder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/IHubProtocol.js":
/*!******************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/IHubProtocol.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MessageType: () => (/* binding */ MessageType)\n/* harmony export */ });\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n/** Defines the type of a Hub Message. */ var MessageType;\n(function(MessageType) {\n    /** Indicates the message is an Invocation message and implements the {@link @microsoft/signalr.InvocationMessage} interface. */ MessageType[MessageType[\"Invocation\"] = 1] = \"Invocation\";\n    /** Indicates the message is a StreamItem message and implements the {@link @microsoft/signalr.StreamItemMessage} interface. */ MessageType[MessageType[\"StreamItem\"] = 2] = \"StreamItem\";\n    /** Indicates the message is a Completion message and implements the {@link @microsoft/signalr.CompletionMessage} interface. */ MessageType[MessageType[\"Completion\"] = 3] = \"Completion\";\n    /** Indicates the message is a Stream Invocation message and implements the {@link @microsoft/signalr.StreamInvocationMessage} interface. */ MessageType[MessageType[\"StreamInvocation\"] = 4] = \"StreamInvocation\";\n    /** Indicates the message is a Cancel Invocation message and implements the {@link @microsoft/signalr.CancelInvocationMessage} interface. */ MessageType[MessageType[\"CancelInvocation\"] = 5] = \"CancelInvocation\";\n    /** Indicates the message is a Ping message and implements the {@link @microsoft/signalr.PingMessage} interface. */ MessageType[MessageType[\"Ping\"] = 6] = \"Ping\";\n    /** Indicates the message is a Close message and implements the {@link @microsoft/signalr.CloseMessage} interface. */ MessageType[MessageType[\"Close\"] = 7] = \"Close\";\n    MessageType[MessageType[\"Ack\"] = 8] = \"Ack\";\n    MessageType[MessageType[\"Sequence\"] = 9] = \"Sequence\";\n})(MessageType || (MessageType = {})); //# sourceMappingURL=IHubProtocol.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0lIdWJQcm90b2NvbC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsZ0VBQWdFO0FBQ2hFLHVFQUF1RTtBQUN2RSx1Q0FBdUMsR0FDaEMsSUFBSUEsWUFBWTtBQUN0QixVQUFVQSxXQUFXO0lBQ2xCLDhIQUE4SCxHQUM5SEEsV0FBVyxDQUFDQSxXQUFXLENBQUMsYUFBYSxHQUFHLEVBQUUsR0FBRztJQUM3Qyw2SEFBNkgsR0FDN0hBLFdBQVcsQ0FBQ0EsV0FBVyxDQUFDLGFBQWEsR0FBRyxFQUFFLEdBQUc7SUFDN0MsNkhBQTZILEdBQzdIQSxXQUFXLENBQUNBLFdBQVcsQ0FBQyxhQUFhLEdBQUcsRUFBRSxHQUFHO0lBQzdDLDBJQUEwSSxHQUMxSUEsV0FBVyxDQUFDQSxXQUFXLENBQUMsbUJBQW1CLEdBQUcsRUFBRSxHQUFHO0lBQ25ELDBJQUEwSSxHQUMxSUEsV0FBVyxDQUFDQSxXQUFXLENBQUMsbUJBQW1CLEdBQUcsRUFBRSxHQUFHO0lBQ25ELGlIQUFpSCxHQUNqSEEsV0FBVyxDQUFDQSxXQUFXLENBQUMsT0FBTyxHQUFHLEVBQUUsR0FBRztJQUN2QyxtSEFBbUgsR0FDbkhBLFdBQVcsQ0FBQ0EsV0FBVyxDQUFDLFFBQVEsR0FBRyxFQUFFLEdBQUc7SUFDeENBLFdBQVcsQ0FBQ0EsV0FBVyxDQUFDLE1BQU0sR0FBRyxFQUFFLEdBQUc7SUFDdENBLFdBQVcsQ0FBQ0EsV0FBVyxDQUFDLFdBQVcsR0FBRyxFQUFFLEdBQUc7QUFDL0MsR0FBR0EsZUFBZ0JBLENBQUFBLGNBQWMsQ0FBQyxLQUNsQyx3Q0FBd0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWItc29ja2V0cy1jaGF0LWNsaWVudC1hcHAvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0lIdWJQcm90b2NvbC5qcz8wOTE1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuLyoqIERlZmluZXMgdGhlIHR5cGUgb2YgYSBIdWIgTWVzc2FnZS4gKi9cclxuZXhwb3J0IHZhciBNZXNzYWdlVHlwZTtcclxuKGZ1bmN0aW9uIChNZXNzYWdlVHlwZSkge1xyXG4gICAgLyoqIEluZGljYXRlcyB0aGUgbWVzc2FnZSBpcyBhbiBJbnZvY2F0aW9uIG1lc3NhZ2UgYW5kIGltcGxlbWVudHMgdGhlIHtAbGluayBAbWljcm9zb2Z0L3NpZ25hbHIuSW52b2NhdGlvbk1lc3NhZ2V9IGludGVyZmFjZS4gKi9cclxuICAgIE1lc3NhZ2VUeXBlW01lc3NhZ2VUeXBlW1wiSW52b2NhdGlvblwiXSA9IDFdID0gXCJJbnZvY2F0aW9uXCI7XHJcbiAgICAvKiogSW5kaWNhdGVzIHRoZSBtZXNzYWdlIGlzIGEgU3RyZWFtSXRlbSBtZXNzYWdlIGFuZCBpbXBsZW1lbnRzIHRoZSB7QGxpbmsgQG1pY3Jvc29mdC9zaWduYWxyLlN0cmVhbUl0ZW1NZXNzYWdlfSBpbnRlcmZhY2UuICovXHJcbiAgICBNZXNzYWdlVHlwZVtNZXNzYWdlVHlwZVtcIlN0cmVhbUl0ZW1cIl0gPSAyXSA9IFwiU3RyZWFtSXRlbVwiO1xyXG4gICAgLyoqIEluZGljYXRlcyB0aGUgbWVzc2FnZSBpcyBhIENvbXBsZXRpb24gbWVzc2FnZSBhbmQgaW1wbGVtZW50cyB0aGUge0BsaW5rIEBtaWNyb3NvZnQvc2lnbmFsci5Db21wbGV0aW9uTWVzc2FnZX0gaW50ZXJmYWNlLiAqL1xyXG4gICAgTWVzc2FnZVR5cGVbTWVzc2FnZVR5cGVbXCJDb21wbGV0aW9uXCJdID0gM10gPSBcIkNvbXBsZXRpb25cIjtcclxuICAgIC8qKiBJbmRpY2F0ZXMgdGhlIG1lc3NhZ2UgaXMgYSBTdHJlYW0gSW52b2NhdGlvbiBtZXNzYWdlIGFuZCBpbXBsZW1lbnRzIHRoZSB7QGxpbmsgQG1pY3Jvc29mdC9zaWduYWxyLlN0cmVhbUludm9jYXRpb25NZXNzYWdlfSBpbnRlcmZhY2UuICovXHJcbiAgICBNZXNzYWdlVHlwZVtNZXNzYWdlVHlwZVtcIlN0cmVhbUludm9jYXRpb25cIl0gPSA0XSA9IFwiU3RyZWFtSW52b2NhdGlvblwiO1xyXG4gICAgLyoqIEluZGljYXRlcyB0aGUgbWVzc2FnZSBpcyBhIENhbmNlbCBJbnZvY2F0aW9uIG1lc3NhZ2UgYW5kIGltcGxlbWVudHMgdGhlIHtAbGluayBAbWljcm9zb2Z0L3NpZ25hbHIuQ2FuY2VsSW52b2NhdGlvbk1lc3NhZ2V9IGludGVyZmFjZS4gKi9cclxuICAgIE1lc3NhZ2VUeXBlW01lc3NhZ2VUeXBlW1wiQ2FuY2VsSW52b2NhdGlvblwiXSA9IDVdID0gXCJDYW5jZWxJbnZvY2F0aW9uXCI7XHJcbiAgICAvKiogSW5kaWNhdGVzIHRoZSBtZXNzYWdlIGlzIGEgUGluZyBtZXNzYWdlIGFuZCBpbXBsZW1lbnRzIHRoZSB7QGxpbmsgQG1pY3Jvc29mdC9zaWduYWxyLlBpbmdNZXNzYWdlfSBpbnRlcmZhY2UuICovXHJcbiAgICBNZXNzYWdlVHlwZVtNZXNzYWdlVHlwZVtcIlBpbmdcIl0gPSA2XSA9IFwiUGluZ1wiO1xyXG4gICAgLyoqIEluZGljYXRlcyB0aGUgbWVzc2FnZSBpcyBhIENsb3NlIG1lc3NhZ2UgYW5kIGltcGxlbWVudHMgdGhlIHtAbGluayBAbWljcm9zb2Z0L3NpZ25hbHIuQ2xvc2VNZXNzYWdlfSBpbnRlcmZhY2UuICovXHJcbiAgICBNZXNzYWdlVHlwZVtNZXNzYWdlVHlwZVtcIkNsb3NlXCJdID0gN10gPSBcIkNsb3NlXCI7XHJcbiAgICBNZXNzYWdlVHlwZVtNZXNzYWdlVHlwZVtcIkFja1wiXSA9IDhdID0gXCJBY2tcIjtcclxuICAgIE1lc3NhZ2VUeXBlW01lc3NhZ2VUeXBlW1wiU2VxdWVuY2VcIl0gPSA5XSA9IFwiU2VxdWVuY2VcIjtcclxufSkoTWVzc2FnZVR5cGUgfHwgKE1lc3NhZ2VUeXBlID0ge30pKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SUh1YlByb3RvY29sLmpzLm1hcCJdLCJuYW1lcyI6WyJNZXNzYWdlVHlwZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/IHubProtocol.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/ILogger.js":
/*!*************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/ILogger.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LogLevel: () => (/* binding */ LogLevel)\n/* harmony export */ });\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n// These values are designed to match the ASP.NET Log Levels since that's the pattern we're emulating here.\n/** Indicates the severity of a log message.\r\n *\r\n * Log Levels are ordered in increasing severity. So `Debug` is more severe than `Trace`, etc.\r\n */ var LogLevel;\n(function(LogLevel) {\n    /** Log level for very low severity diagnostic messages. */ LogLevel[LogLevel[\"Trace\"] = 0] = \"Trace\";\n    /** Log level for low severity diagnostic messages. */ LogLevel[LogLevel[\"Debug\"] = 1] = \"Debug\";\n    /** Log level for informational diagnostic messages. */ LogLevel[LogLevel[\"Information\"] = 2] = \"Information\";\n    /** Log level for diagnostic messages that indicate a non-fatal problem. */ LogLevel[LogLevel[\"Warning\"] = 3] = \"Warning\";\n    /** Log level for diagnostic messages that indicate a failure in the current operation. */ LogLevel[LogLevel[\"Error\"] = 4] = \"Error\";\n    /** Log level for diagnostic messages that indicate a failure that will terminate the entire application. */ LogLevel[LogLevel[\"Critical\"] = 5] = \"Critical\";\n    /** The highest possible log level. Used when configuring logging to indicate that no log messages should be emitted. */ LogLevel[LogLevel[\"None\"] = 6] = \"None\";\n})(LogLevel || (LogLevel = {})); //# sourceMappingURL=ILogger.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0lMb2dnZXIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGdFQUFnRTtBQUNoRSx1RUFBdUU7QUFDdkUsMkdBQTJHO0FBQzNHOzs7Q0FHQyxHQUNNLElBQUlBLFNBQVM7QUFDbkIsVUFBVUEsUUFBUTtJQUNmLHlEQUF5RCxHQUN6REEsUUFBUSxDQUFDQSxRQUFRLENBQUMsUUFBUSxHQUFHLEVBQUUsR0FBRztJQUNsQyxvREFBb0QsR0FDcERBLFFBQVEsQ0FBQ0EsUUFBUSxDQUFDLFFBQVEsR0FBRyxFQUFFLEdBQUc7SUFDbEMscURBQXFELEdBQ3JEQSxRQUFRLENBQUNBLFFBQVEsQ0FBQyxjQUFjLEdBQUcsRUFBRSxHQUFHO0lBQ3hDLHlFQUF5RSxHQUN6RUEsUUFBUSxDQUFDQSxRQUFRLENBQUMsVUFBVSxHQUFHLEVBQUUsR0FBRztJQUNwQyx3RkFBd0YsR0FDeEZBLFFBQVEsQ0FBQ0EsUUFBUSxDQUFDLFFBQVEsR0FBRyxFQUFFLEdBQUc7SUFDbEMsMEdBQTBHLEdBQzFHQSxRQUFRLENBQUNBLFFBQVEsQ0FBQyxXQUFXLEdBQUcsRUFBRSxHQUFHO0lBQ3JDLHNIQUFzSCxHQUN0SEEsUUFBUSxDQUFDQSxRQUFRLENBQUMsT0FBTyxHQUFHLEVBQUUsR0FBRztBQUNyQyxHQUFHQSxZQUFhQSxDQUFBQSxXQUFXLENBQUMsS0FDNUIsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLXNvY2tldHMtY2hhdC1jbGllbnQtYXBwLy4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvc2lnbmFsci9kaXN0L2VzbS9JTG9nZ2VyLmpzP2Y2MjAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG4vLyBUaGVzZSB2YWx1ZXMgYXJlIGRlc2lnbmVkIHRvIG1hdGNoIHRoZSBBU1AuTkVUIExvZyBMZXZlbHMgc2luY2UgdGhhdCdzIHRoZSBwYXR0ZXJuIHdlJ3JlIGVtdWxhdGluZyBoZXJlLlxyXG4vKiogSW5kaWNhdGVzIHRoZSBzZXZlcml0eSBvZiBhIGxvZyBtZXNzYWdlLlxyXG4gKlxyXG4gKiBMb2cgTGV2ZWxzIGFyZSBvcmRlcmVkIGluIGluY3JlYXNpbmcgc2V2ZXJpdHkuIFNvIGBEZWJ1Z2AgaXMgbW9yZSBzZXZlcmUgdGhhbiBgVHJhY2VgLCBldGMuXHJcbiAqL1xyXG5leHBvcnQgdmFyIExvZ0xldmVsO1xyXG4oZnVuY3Rpb24gKExvZ0xldmVsKSB7XHJcbiAgICAvKiogTG9nIGxldmVsIGZvciB2ZXJ5IGxvdyBzZXZlcml0eSBkaWFnbm9zdGljIG1lc3NhZ2VzLiAqL1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJUcmFjZVwiXSA9IDBdID0gXCJUcmFjZVwiO1xyXG4gICAgLyoqIExvZyBsZXZlbCBmb3IgbG93IHNldmVyaXR5IGRpYWdub3N0aWMgbWVzc2FnZXMuICovXHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIkRlYnVnXCJdID0gMV0gPSBcIkRlYnVnXCI7XHJcbiAgICAvKiogTG9nIGxldmVsIGZvciBpbmZvcm1hdGlvbmFsIGRpYWdub3N0aWMgbWVzc2FnZXMuICovXHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIkluZm9ybWF0aW9uXCJdID0gMl0gPSBcIkluZm9ybWF0aW9uXCI7XHJcbiAgICAvKiogTG9nIGxldmVsIGZvciBkaWFnbm9zdGljIG1lc3NhZ2VzIHRoYXQgaW5kaWNhdGUgYSBub24tZmF0YWwgcHJvYmxlbS4gKi9cclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiV2FybmluZ1wiXSA9IDNdID0gXCJXYXJuaW5nXCI7XHJcbiAgICAvKiogTG9nIGxldmVsIGZvciBkaWFnbm9zdGljIG1lc3NhZ2VzIHRoYXQgaW5kaWNhdGUgYSBmYWlsdXJlIGluIHRoZSBjdXJyZW50IG9wZXJhdGlvbi4gKi9cclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiRXJyb3JcIl0gPSA0XSA9IFwiRXJyb3JcIjtcclxuICAgIC8qKiBMb2cgbGV2ZWwgZm9yIGRpYWdub3N0aWMgbWVzc2FnZXMgdGhhdCBpbmRpY2F0ZSBhIGZhaWx1cmUgdGhhdCB3aWxsIHRlcm1pbmF0ZSB0aGUgZW50aXJlIGFwcGxpY2F0aW9uLiAqL1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJDcml0aWNhbFwiXSA9IDVdID0gXCJDcml0aWNhbFwiO1xyXG4gICAgLyoqIFRoZSBoaWdoZXN0IHBvc3NpYmxlIGxvZyBsZXZlbC4gVXNlZCB3aGVuIGNvbmZpZ3VyaW5nIGxvZ2dpbmcgdG8gaW5kaWNhdGUgdGhhdCBubyBsb2cgbWVzc2FnZXMgc2hvdWxkIGJlIGVtaXR0ZWQuICovXHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIk5vbmVcIl0gPSA2XSA9IFwiTm9uZVwiO1xyXG59KShMb2dMZXZlbCB8fCAoTG9nTGV2ZWwgPSB7fSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JTG9nZ2VyLmpzLm1hcCJdLCJuYW1lcyI6WyJMb2dMZXZlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/ILogger.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/ITransport.js":
/*!****************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/ITransport.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HttpTransportType: () => (/* binding */ HttpTransportType),\n/* harmony export */   TransferFormat: () => (/* binding */ TransferFormat)\n/* harmony export */ });\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n// This will be treated as a bit flag in the future, so we keep it using power-of-two values.\n/** Specifies a specific HTTP transport type. */ var HttpTransportType;\n(function(HttpTransportType) {\n    /** Specifies no transport preference. */ HttpTransportType[HttpTransportType[\"None\"] = 0] = \"None\";\n    /** Specifies the WebSockets transport. */ HttpTransportType[HttpTransportType[\"WebSockets\"] = 1] = \"WebSockets\";\n    /** Specifies the Server-Sent Events transport. */ HttpTransportType[HttpTransportType[\"ServerSentEvents\"] = 2] = \"ServerSentEvents\";\n    /** Specifies the Long Polling transport. */ HttpTransportType[HttpTransportType[\"LongPolling\"] = 4] = \"LongPolling\";\n})(HttpTransportType || (HttpTransportType = {}));\n/** Specifies the transfer format for a connection. */ var TransferFormat;\n(function(TransferFormat) {\n    /** Specifies that only text data will be transmitted over the connection. */ TransferFormat[TransferFormat[\"Text\"] = 1] = \"Text\";\n    /** Specifies that binary data will be transmitted over the connection. */ TransferFormat[TransferFormat[\"Binary\"] = 2] = \"Binary\";\n})(TransferFormat || (TransferFormat = {})); //# sourceMappingURL=ITransport.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0lUcmFuc3BvcnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxnRUFBZ0U7QUFDaEUsdUVBQXVFO0FBQ3ZFLDZGQUE2RjtBQUM3Riw4Q0FBOEMsR0FDdkMsSUFBSUEsa0JBQWtCO0FBQzVCLFVBQVVBLGlCQUFpQjtJQUN4Qix1Q0FBdUMsR0FDdkNBLGlCQUFpQixDQUFDQSxpQkFBaUIsQ0FBQyxPQUFPLEdBQUcsRUFBRSxHQUFHO0lBQ25ELHdDQUF3QyxHQUN4Q0EsaUJBQWlCLENBQUNBLGlCQUFpQixDQUFDLGFBQWEsR0FBRyxFQUFFLEdBQUc7SUFDekQsZ0RBQWdELEdBQ2hEQSxpQkFBaUIsQ0FBQ0EsaUJBQWlCLENBQUMsbUJBQW1CLEdBQUcsRUFBRSxHQUFHO0lBQy9ELDBDQUEwQyxHQUMxQ0EsaUJBQWlCLENBQUNBLGlCQUFpQixDQUFDLGNBQWMsR0FBRyxFQUFFLEdBQUc7QUFDOUQsR0FBR0EscUJBQXNCQSxDQUFBQSxvQkFBb0IsQ0FBQztBQUM5QyxvREFBb0QsR0FDN0MsSUFBSUMsZUFBZTtBQUN6QixVQUFVQSxjQUFjO0lBQ3JCLDJFQUEyRSxHQUMzRUEsY0FBYyxDQUFDQSxjQUFjLENBQUMsT0FBTyxHQUFHLEVBQUUsR0FBRztJQUM3Qyx3RUFBd0UsR0FDeEVBLGNBQWMsQ0FBQ0EsY0FBYyxDQUFDLFNBQVMsR0FBRyxFQUFFLEdBQUc7QUFDbkQsR0FBR0Esa0JBQW1CQSxDQUFBQSxpQkFBaUIsQ0FBQyxLQUN4QyxzQ0FBc0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWItc29ja2V0cy1jaGF0LWNsaWVudC1hcHAvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0lUcmFuc3BvcnQuanM/NWMxMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcbi8vIFRoaXMgd2lsbCBiZSB0cmVhdGVkIGFzIGEgYml0IGZsYWcgaW4gdGhlIGZ1dHVyZSwgc28gd2Uga2VlcCBpdCB1c2luZyBwb3dlci1vZi10d28gdmFsdWVzLlxyXG4vKiogU3BlY2lmaWVzIGEgc3BlY2lmaWMgSFRUUCB0cmFuc3BvcnQgdHlwZS4gKi9cclxuZXhwb3J0IHZhciBIdHRwVHJhbnNwb3J0VHlwZTtcclxuKGZ1bmN0aW9uIChIdHRwVHJhbnNwb3J0VHlwZSkge1xyXG4gICAgLyoqIFNwZWNpZmllcyBubyB0cmFuc3BvcnQgcHJlZmVyZW5jZS4gKi9cclxuICAgIEh0dHBUcmFuc3BvcnRUeXBlW0h0dHBUcmFuc3BvcnRUeXBlW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XHJcbiAgICAvKiogU3BlY2lmaWVzIHRoZSBXZWJTb2NrZXRzIHRyYW5zcG9ydC4gKi9cclxuICAgIEh0dHBUcmFuc3BvcnRUeXBlW0h0dHBUcmFuc3BvcnRUeXBlW1wiV2ViU29ja2V0c1wiXSA9IDFdID0gXCJXZWJTb2NrZXRzXCI7XHJcbiAgICAvKiogU3BlY2lmaWVzIHRoZSBTZXJ2ZXItU2VudCBFdmVudHMgdHJhbnNwb3J0LiAqL1xyXG4gICAgSHR0cFRyYW5zcG9ydFR5cGVbSHR0cFRyYW5zcG9ydFR5cGVbXCJTZXJ2ZXJTZW50RXZlbnRzXCJdID0gMl0gPSBcIlNlcnZlclNlbnRFdmVudHNcIjtcclxuICAgIC8qKiBTcGVjaWZpZXMgdGhlIExvbmcgUG9sbGluZyB0cmFuc3BvcnQuICovXHJcbiAgICBIdHRwVHJhbnNwb3J0VHlwZVtIdHRwVHJhbnNwb3J0VHlwZVtcIkxvbmdQb2xsaW5nXCJdID0gNF0gPSBcIkxvbmdQb2xsaW5nXCI7XHJcbn0pKEh0dHBUcmFuc3BvcnRUeXBlIHx8IChIdHRwVHJhbnNwb3J0VHlwZSA9IHt9KSk7XHJcbi8qKiBTcGVjaWZpZXMgdGhlIHRyYW5zZmVyIGZvcm1hdCBmb3IgYSBjb25uZWN0aW9uLiAqL1xyXG5leHBvcnQgdmFyIFRyYW5zZmVyRm9ybWF0O1xyXG4oZnVuY3Rpb24gKFRyYW5zZmVyRm9ybWF0KSB7XHJcbiAgICAvKiogU3BlY2lmaWVzIHRoYXQgb25seSB0ZXh0IGRhdGEgd2lsbCBiZSB0cmFuc21pdHRlZCBvdmVyIHRoZSBjb25uZWN0aW9uLiAqL1xyXG4gICAgVHJhbnNmZXJGb3JtYXRbVHJhbnNmZXJGb3JtYXRbXCJUZXh0XCJdID0gMV0gPSBcIlRleHRcIjtcclxuICAgIC8qKiBTcGVjaWZpZXMgdGhhdCBiaW5hcnkgZGF0YSB3aWxsIGJlIHRyYW5zbWl0dGVkIG92ZXIgdGhlIGNvbm5lY3Rpb24uICovXHJcbiAgICBUcmFuc2ZlckZvcm1hdFtUcmFuc2ZlckZvcm1hdFtcIkJpbmFyeVwiXSA9IDJdID0gXCJCaW5hcnlcIjtcclxufSkoVHJhbnNmZXJGb3JtYXQgfHwgKFRyYW5zZmVyRm9ybWF0ID0ge30pKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SVRyYW5zcG9ydC5qcy5tYXAiXSwibmFtZXMiOlsiSHR0cFRyYW5zcG9ydFR5cGUiLCJUcmFuc2ZlckZvcm1hdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/ITransport.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/JsonHubProtocol.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/JsonHubProtocol.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JsonHubProtocol: () => (/* binding */ JsonHubProtocol)\n/* harmony export */ });\n/* harmony import */ var _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./IHubProtocol */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/IHubProtocol.js\");\n/* harmony import */ var _ILogger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ILogger */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/ILogger.js\");\n/* harmony import */ var _ITransport__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ITransport */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/ITransport.js\");\n/* harmony import */ var _Loggers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Loggers */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Loggers.js\");\n/* harmony import */ var _TextMessageFormat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TextMessageFormat */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/TextMessageFormat.js\");\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n\n\n\n\n\nconst JSON_HUB_PROTOCOL_NAME = \"json\";\n/** Implements the JSON Hub Protocol. */ class JsonHubProtocol {\n    constructor(){\n        /** @inheritDoc */ this.name = JSON_HUB_PROTOCOL_NAME;\n        /** @inheritDoc */ this.version = 2;\n        /** @inheritDoc */ this.transferFormat = _ITransport__WEBPACK_IMPORTED_MODULE_0__.TransferFormat.Text;\n    }\n    /** Creates an array of {@link @microsoft/signalr.HubMessage} objects from the specified serialized representation.\r\n     *\r\n     * @param {string} input A string containing the serialized representation.\r\n     * @param {ILogger} logger A logger that will be used to log messages that occur during parsing.\r\n     */ parseMessages(input, logger) {\n        // The interface does allow \"ArrayBuffer\" to be passed in, but this implementation does not. So let's throw a useful error.\n        if (typeof input !== \"string\") {\n            throw new Error(\"Invalid input for JSON hub protocol. Expected a string.\");\n        }\n        if (!input) {\n            return [];\n        }\n        if (logger === null) {\n            logger = _Loggers__WEBPACK_IMPORTED_MODULE_1__.NullLogger.instance;\n        }\n        // Parse the messages\n        const messages = _TextMessageFormat__WEBPACK_IMPORTED_MODULE_2__.TextMessageFormat.parse(input);\n        const hubMessages = [];\n        for (const message of messages){\n            const parsedMessage = JSON.parse(message);\n            if (typeof parsedMessage.type !== \"number\") {\n                throw new Error(\"Invalid payload.\");\n            }\n            switch(parsedMessage.type){\n                case _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Invocation:\n                    this._isInvocationMessage(parsedMessage);\n                    break;\n                case _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.StreamItem:\n                    this._isStreamItemMessage(parsedMessage);\n                    break;\n                case _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Completion:\n                    this._isCompletionMessage(parsedMessage);\n                    break;\n                case _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Ping:\n                    break;\n                case _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Close:\n                    break;\n                case _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Ack:\n                    this._isAckMessage(parsedMessage);\n                    break;\n                case _IHubProtocol__WEBPACK_IMPORTED_MODULE_3__.MessageType.Sequence:\n                    this._isSequenceMessage(parsedMessage);\n                    break;\n                default:\n                    // Future protocol changes can add message types, old clients can ignore them\n                    logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_4__.LogLevel.Information, \"Unknown message type '\" + parsedMessage.type + \"' ignored.\");\n                    continue;\n            }\n            hubMessages.push(parsedMessage);\n        }\n        return hubMessages;\n    }\n    /** Writes the specified {@link @microsoft/signalr.HubMessage} to a string and returns it.\r\n     *\r\n     * @param {HubMessage} message The message to write.\r\n     * @returns {string} A string containing the serialized representation of the message.\r\n     */ writeMessage(message) {\n        return _TextMessageFormat__WEBPACK_IMPORTED_MODULE_2__.TextMessageFormat.write(JSON.stringify(message));\n    }\n    _isInvocationMessage(message) {\n        this._assertNotEmptyString(message.target, \"Invalid payload for Invocation message.\");\n        if (message.invocationId !== undefined) {\n            this._assertNotEmptyString(message.invocationId, \"Invalid payload for Invocation message.\");\n        }\n    }\n    _isStreamItemMessage(message) {\n        this._assertNotEmptyString(message.invocationId, \"Invalid payload for StreamItem message.\");\n        if (message.item === undefined) {\n            throw new Error(\"Invalid payload for StreamItem message.\");\n        }\n    }\n    _isCompletionMessage(message) {\n        if (message.result && message.error) {\n            throw new Error(\"Invalid payload for Completion message.\");\n        }\n        if (!message.result && message.error) {\n            this._assertNotEmptyString(message.error, \"Invalid payload for Completion message.\");\n        }\n        this._assertNotEmptyString(message.invocationId, \"Invalid payload for Completion message.\");\n    }\n    _isAckMessage(message) {\n        if (typeof message.sequenceId !== \"number\") {\n            throw new Error(\"Invalid SequenceId for Ack message.\");\n        }\n    }\n    _isSequenceMessage(message) {\n        if (typeof message.sequenceId !== \"number\") {\n            throw new Error(\"Invalid SequenceId for Sequence message.\");\n        }\n    }\n    _assertNotEmptyString(value, errorMessage) {\n        if (typeof value !== \"string\" || value === \"\") {\n            throw new Error(errorMessage);\n        }\n    }\n} //# sourceMappingURL=JsonHubProtocol.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0pzb25IdWJQcm90b2NvbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxnRUFBZ0U7QUFDaEUsdUVBQXVFO0FBQzFCO0FBQ1I7QUFDUztBQUNQO0FBQ2lCO0FBQ3hELE1BQU1LLHlCQUF5QjtBQUMvQixzQ0FBc0MsR0FDL0IsTUFBTUM7SUFDVEMsYUFBYztRQUNWLGdCQUFnQixHQUNoQixJQUFJLENBQUNDLElBQUksR0FBR0g7UUFDWixnQkFBZ0IsR0FDaEIsSUFBSSxDQUFDSSxPQUFPLEdBQUc7UUFDZixnQkFBZ0IsR0FDaEIsSUFBSSxDQUFDQyxjQUFjLEdBQUdSLHVEQUFjQSxDQUFDUyxJQUFJO0lBQzdDO0lBQ0E7Ozs7S0FJQyxHQUNEQyxjQUFjQyxLQUFLLEVBQUVDLE1BQU0sRUFBRTtRQUN6QiwySEFBMkg7UUFDM0gsSUFBSSxPQUFPRCxVQUFVLFVBQVU7WUFDM0IsTUFBTSxJQUFJRSxNQUFNO1FBQ3BCO1FBQ0EsSUFBSSxDQUFDRixPQUFPO1lBQ1IsT0FBTyxFQUFFO1FBQ2I7UUFDQSxJQUFJQyxXQUFXLE1BQU07WUFDakJBLFNBQVNYLGdEQUFVQSxDQUFDYSxRQUFRO1FBQ2hDO1FBQ0EscUJBQXFCO1FBQ3JCLE1BQU1DLFdBQVdiLGlFQUFpQkEsQ0FBQ2MsS0FBSyxDQUFDTDtRQUN6QyxNQUFNTSxjQUFjLEVBQUU7UUFDdEIsS0FBSyxNQUFNQyxXQUFXSCxTQUFVO1lBQzVCLE1BQU1JLGdCQUFnQkMsS0FBS0osS0FBSyxDQUFDRTtZQUNqQyxJQUFJLE9BQU9DLGNBQWNFLElBQUksS0FBSyxVQUFVO2dCQUN4QyxNQUFNLElBQUlSLE1BQU07WUFDcEI7WUFDQSxPQUFRTSxjQUFjRSxJQUFJO2dCQUN0QixLQUFLdkIsc0RBQVdBLENBQUN3QixVQUFVO29CQUN2QixJQUFJLENBQUNDLG9CQUFvQixDQUFDSjtvQkFDMUI7Z0JBQ0osS0FBS3JCLHNEQUFXQSxDQUFDMEIsVUFBVTtvQkFDdkIsSUFBSSxDQUFDQyxvQkFBb0IsQ0FBQ047b0JBQzFCO2dCQUNKLEtBQUtyQixzREFBV0EsQ0FBQzRCLFVBQVU7b0JBQ3ZCLElBQUksQ0FBQ0Msb0JBQW9CLENBQUNSO29CQUMxQjtnQkFDSixLQUFLckIsc0RBQVdBLENBQUM4QixJQUFJO29CQUVqQjtnQkFDSixLQUFLOUIsc0RBQVdBLENBQUMrQixLQUFLO29CQUVsQjtnQkFDSixLQUFLL0Isc0RBQVdBLENBQUNnQyxHQUFHO29CQUNoQixJQUFJLENBQUNDLGFBQWEsQ0FBQ1o7b0JBQ25CO2dCQUNKLEtBQUtyQixzREFBV0EsQ0FBQ2tDLFFBQVE7b0JBQ3JCLElBQUksQ0FBQ0Msa0JBQWtCLENBQUNkO29CQUN4QjtnQkFDSjtvQkFDSSw2RUFBNkU7b0JBQzdFUCxPQUFPc0IsR0FBRyxDQUFDbkMsOENBQVFBLENBQUNvQyxXQUFXLEVBQUUsMkJBQTJCaEIsY0FBY0UsSUFBSSxHQUFHO29CQUNqRjtZQUNSO1lBQ0FKLFlBQVltQixJQUFJLENBQUNqQjtRQUNyQjtRQUNBLE9BQU9GO0lBQ1g7SUFDQTs7OztLQUlDLEdBQ0RvQixhQUFhbkIsT0FBTyxFQUFFO1FBQ2xCLE9BQU9oQixpRUFBaUJBLENBQUNvQyxLQUFLLENBQUNsQixLQUFLbUIsU0FBUyxDQUFDckI7SUFDbEQ7SUFDQUsscUJBQXFCTCxPQUFPLEVBQUU7UUFDMUIsSUFBSSxDQUFDc0IscUJBQXFCLENBQUN0QixRQUFRdUIsTUFBTSxFQUFFO1FBQzNDLElBQUl2QixRQUFRd0IsWUFBWSxLQUFLQyxXQUFXO1lBQ3BDLElBQUksQ0FBQ0gscUJBQXFCLENBQUN0QixRQUFRd0IsWUFBWSxFQUFFO1FBQ3JEO0lBQ0o7SUFDQWpCLHFCQUFxQlAsT0FBTyxFQUFFO1FBQzFCLElBQUksQ0FBQ3NCLHFCQUFxQixDQUFDdEIsUUFBUXdCLFlBQVksRUFBRTtRQUNqRCxJQUFJeEIsUUFBUTBCLElBQUksS0FBS0QsV0FBVztZQUM1QixNQUFNLElBQUk5QixNQUFNO1FBQ3BCO0lBQ0o7SUFDQWMscUJBQXFCVCxPQUFPLEVBQUU7UUFDMUIsSUFBSUEsUUFBUTJCLE1BQU0sSUFBSTNCLFFBQVE0QixLQUFLLEVBQUU7WUFDakMsTUFBTSxJQUFJakMsTUFBTTtRQUNwQjtRQUNBLElBQUksQ0FBQ0ssUUFBUTJCLE1BQU0sSUFBSTNCLFFBQVE0QixLQUFLLEVBQUU7WUFDbEMsSUFBSSxDQUFDTixxQkFBcUIsQ0FBQ3RCLFFBQVE0QixLQUFLLEVBQUU7UUFDOUM7UUFDQSxJQUFJLENBQUNOLHFCQUFxQixDQUFDdEIsUUFBUXdCLFlBQVksRUFBRTtJQUNyRDtJQUNBWCxjQUFjYixPQUFPLEVBQUU7UUFDbkIsSUFBSSxPQUFPQSxRQUFRNkIsVUFBVSxLQUFLLFVBQVU7WUFDeEMsTUFBTSxJQUFJbEMsTUFBTTtRQUNwQjtJQUNKO0lBQ0FvQixtQkFBbUJmLE9BQU8sRUFBRTtRQUN4QixJQUFJLE9BQU9BLFFBQVE2QixVQUFVLEtBQUssVUFBVTtZQUN4QyxNQUFNLElBQUlsQyxNQUFNO1FBQ3BCO0lBQ0o7SUFDQTJCLHNCQUFzQlEsS0FBSyxFQUFFQyxZQUFZLEVBQUU7UUFDdkMsSUFBSSxPQUFPRCxVQUFVLFlBQVlBLFVBQVUsSUFBSTtZQUMzQyxNQUFNLElBQUluQyxNQUFNb0M7UUFDcEI7SUFDSjtBQUNKLEVBQ0EsMkNBQTJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLXNvY2tldHMtY2hhdC1jbGllbnQtYXBwLy4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvc2lnbmFsci9kaXN0L2VzbS9Kc29uSHViUHJvdG9jb2wuanM/ZDNmYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcbmltcG9ydCB7IE1lc3NhZ2VUeXBlIH0gZnJvbSBcIi4vSUh1YlByb3RvY29sXCI7XHJcbmltcG9ydCB7IExvZ0xldmVsIH0gZnJvbSBcIi4vSUxvZ2dlclwiO1xyXG5pbXBvcnQgeyBUcmFuc2ZlckZvcm1hdCB9IGZyb20gXCIuL0lUcmFuc3BvcnRcIjtcclxuaW1wb3J0IHsgTnVsbExvZ2dlciB9IGZyb20gXCIuL0xvZ2dlcnNcIjtcclxuaW1wb3J0IHsgVGV4dE1lc3NhZ2VGb3JtYXQgfSBmcm9tIFwiLi9UZXh0TWVzc2FnZUZvcm1hdFwiO1xyXG5jb25zdCBKU09OX0hVQl9QUk9UT0NPTF9OQU1FID0gXCJqc29uXCI7XHJcbi8qKiBJbXBsZW1lbnRzIHRoZSBKU09OIEh1YiBQcm90b2NvbC4gKi9cclxuZXhwb3J0IGNsYXNzIEpzb25IdWJQcm90b2NvbCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAvKiogQGluaGVyaXREb2MgKi9cclxuICAgICAgICB0aGlzLm5hbWUgPSBKU09OX0hVQl9QUk9UT0NPTF9OQU1FO1xyXG4gICAgICAgIC8qKiBAaW5oZXJpdERvYyAqL1xyXG4gICAgICAgIHRoaXMudmVyc2lvbiA9IDI7XHJcbiAgICAgICAgLyoqIEBpbmhlcml0RG9jICovXHJcbiAgICAgICAgdGhpcy50cmFuc2ZlckZvcm1hdCA9IFRyYW5zZmVyRm9ybWF0LlRleHQ7XHJcbiAgICB9XHJcbiAgICAvKiogQ3JlYXRlcyBhbiBhcnJheSBvZiB7QGxpbmsgQG1pY3Jvc29mdC9zaWduYWxyLkh1Yk1lc3NhZ2V9IG9iamVjdHMgZnJvbSB0aGUgc3BlY2lmaWVkIHNlcmlhbGl6ZWQgcmVwcmVzZW50YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlucHV0IEEgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIHNlcmlhbGl6ZWQgcmVwcmVzZW50YXRpb24uXHJcbiAgICAgKiBAcGFyYW0ge0lMb2dnZXJ9IGxvZ2dlciBBIGxvZ2dlciB0aGF0IHdpbGwgYmUgdXNlZCB0byBsb2cgbWVzc2FnZXMgdGhhdCBvY2N1ciBkdXJpbmcgcGFyc2luZy5cclxuICAgICAqL1xyXG4gICAgcGFyc2VNZXNzYWdlcyhpbnB1dCwgbG9nZ2VyKSB7XHJcbiAgICAgICAgLy8gVGhlIGludGVyZmFjZSBkb2VzIGFsbG93IFwiQXJyYXlCdWZmZXJcIiB0byBiZSBwYXNzZWQgaW4sIGJ1dCB0aGlzIGltcGxlbWVudGF0aW9uIGRvZXMgbm90LiBTbyBsZXQncyB0aHJvdyBhIHVzZWZ1bCBlcnJvci5cclxuICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW5wdXQgZm9yIEpTT04gaHViIHByb3RvY29sLiBFeHBlY3RlZCBhIHN0cmluZy5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaW5wdXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobG9nZ2VyID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlciA9IE51bGxMb2dnZXIuaW5zdGFuY2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFBhcnNlIHRoZSBtZXNzYWdlc1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gVGV4dE1lc3NhZ2VGb3JtYXQucGFyc2UoaW5wdXQpO1xyXG4gICAgICAgIGNvbnN0IGh1Yk1lc3NhZ2VzID0gW107XHJcbiAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIG1lc3NhZ2VzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZE1lc3NhZ2UgPSBKU09OLnBhcnNlKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcnNlZE1lc3NhZ2UudHlwZSAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXlsb2FkLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzd2l0Y2ggKHBhcnNlZE1lc3NhZ2UudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5JbnZvY2F0aW9uOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzSW52b2NhdGlvbk1lc3NhZ2UocGFyc2VkTWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLlN0cmVhbUl0ZW06XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNTdHJlYW1JdGVtTWVzc2FnZShwYXJzZWRNZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTWVzc2FnZVR5cGUuQ29tcGxldGlvbjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0NvbXBsZXRpb25NZXNzYWdlKHBhcnNlZE1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5QaW5nOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNpbmdsZSB2YWx1ZSwgbm8gbmVlZCB0byB2YWxpZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5DbG9zZTpcclxuICAgICAgICAgICAgICAgICAgICAvLyBBbGwgb3B0aW9uYWwgdmFsdWVzLCBubyBuZWVkIHRvIHZhbGlkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLkFjazpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0Fja01lc3NhZ2UocGFyc2VkTWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLlNlcXVlbmNlOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzU2VxdWVuY2VNZXNzYWdlKHBhcnNlZE1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAvLyBGdXR1cmUgcHJvdG9jb2wgY2hhbmdlcyBjYW4gYWRkIG1lc3NhZ2UgdHlwZXMsIG9sZCBjbGllbnRzIGNhbiBpZ25vcmUgdGhlbVxyXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coTG9nTGV2ZWwuSW5mb3JtYXRpb24sIFwiVW5rbm93biBtZXNzYWdlIHR5cGUgJ1wiICsgcGFyc2VkTWVzc2FnZS50eXBlICsgXCInIGlnbm9yZWQuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGh1Yk1lc3NhZ2VzLnB1c2gocGFyc2VkTWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBodWJNZXNzYWdlcztcclxuICAgIH1cclxuICAgIC8qKiBXcml0ZXMgdGhlIHNwZWNpZmllZCB7QGxpbmsgQG1pY3Jvc29mdC9zaWduYWxyLkh1Yk1lc3NhZ2V9IHRvIGEgc3RyaW5nIGFuZCByZXR1cm5zIGl0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7SHViTWVzc2FnZX0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byB3cml0ZS5cclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IEEgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIHNlcmlhbGl6ZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1lc3NhZ2UuXHJcbiAgICAgKi9cclxuICAgIHdyaXRlTWVzc2FnZShtZXNzYWdlKSB7XHJcbiAgICAgICAgcmV0dXJuIFRleHRNZXNzYWdlRm9ybWF0LndyaXRlKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKTtcclxuICAgIH1cclxuICAgIF9pc0ludm9jYXRpb25NZXNzYWdlKG1lc3NhZ2UpIHtcclxuICAgICAgICB0aGlzLl9hc3NlcnROb3RFbXB0eVN0cmluZyhtZXNzYWdlLnRhcmdldCwgXCJJbnZhbGlkIHBheWxvYWQgZm9yIEludm9jYXRpb24gbWVzc2FnZS5cIik7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2UuaW52b2NhdGlvbklkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fYXNzZXJ0Tm90RW1wdHlTdHJpbmcobWVzc2FnZS5pbnZvY2F0aW9uSWQsIFwiSW52YWxpZCBwYXlsb2FkIGZvciBJbnZvY2F0aW9uIG1lc3NhZ2UuXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9pc1N0cmVhbUl0ZW1NZXNzYWdlKG1lc3NhZ2UpIHtcclxuICAgICAgICB0aGlzLl9hc3NlcnROb3RFbXB0eVN0cmluZyhtZXNzYWdlLmludm9jYXRpb25JZCwgXCJJbnZhbGlkIHBheWxvYWQgZm9yIFN0cmVhbUl0ZW0gbWVzc2FnZS5cIik7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2UuaXRlbSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGF5bG9hZCBmb3IgU3RyZWFtSXRlbSBtZXNzYWdlLlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfaXNDb21wbGV0aW9uTWVzc2FnZShtZXNzYWdlKSB7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2UucmVzdWx0ICYmIG1lc3NhZ2UuZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXlsb2FkIGZvciBDb21wbGV0aW9uIG1lc3NhZ2UuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIW1lc3NhZ2UucmVzdWx0ICYmIG1lc3NhZ2UuZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5fYXNzZXJ0Tm90RW1wdHlTdHJpbmcobWVzc2FnZS5lcnJvciwgXCJJbnZhbGlkIHBheWxvYWQgZm9yIENvbXBsZXRpb24gbWVzc2FnZS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2Fzc2VydE5vdEVtcHR5U3RyaW5nKG1lc3NhZ2UuaW52b2NhdGlvbklkLCBcIkludmFsaWQgcGF5bG9hZCBmb3IgQ29tcGxldGlvbiBtZXNzYWdlLlwiKTtcclxuICAgIH1cclxuICAgIF9pc0Fja01lc3NhZ2UobWVzc2FnZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZS5zZXF1ZW5jZUlkICE9PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFNlcXVlbmNlSWQgZm9yIEFjayBtZXNzYWdlLlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfaXNTZXF1ZW5jZU1lc3NhZ2UobWVzc2FnZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZS5zZXF1ZW5jZUlkICE9PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFNlcXVlbmNlSWQgZm9yIFNlcXVlbmNlIG1lc3NhZ2UuXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9hc3NlcnROb3RFbXB0eVN0cmluZyh2YWx1ZSwgZXJyb3JNZXNzYWdlKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIiB8fCB2YWx1ZSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SnNvbkh1YlByb3RvY29sLmpzLm1hcCJdLCJuYW1lcyI6WyJNZXNzYWdlVHlwZSIsIkxvZ0xldmVsIiwiVHJhbnNmZXJGb3JtYXQiLCJOdWxsTG9nZ2VyIiwiVGV4dE1lc3NhZ2VGb3JtYXQiLCJKU09OX0hVQl9QUk9UT0NPTF9OQU1FIiwiSnNvbkh1YlByb3RvY29sIiwiY29uc3RydWN0b3IiLCJuYW1lIiwidmVyc2lvbiIsInRyYW5zZmVyRm9ybWF0IiwiVGV4dCIsInBhcnNlTWVzc2FnZXMiLCJpbnB1dCIsImxvZ2dlciIsIkVycm9yIiwiaW5zdGFuY2UiLCJtZXNzYWdlcyIsInBhcnNlIiwiaHViTWVzc2FnZXMiLCJtZXNzYWdlIiwicGFyc2VkTWVzc2FnZSIsIkpTT04iLCJ0eXBlIiwiSW52b2NhdGlvbiIsIl9pc0ludm9jYXRpb25NZXNzYWdlIiwiU3RyZWFtSXRlbSIsIl9pc1N0cmVhbUl0ZW1NZXNzYWdlIiwiQ29tcGxldGlvbiIsIl9pc0NvbXBsZXRpb25NZXNzYWdlIiwiUGluZyIsIkNsb3NlIiwiQWNrIiwiX2lzQWNrTWVzc2FnZSIsIlNlcXVlbmNlIiwiX2lzU2VxdWVuY2VNZXNzYWdlIiwibG9nIiwiSW5mb3JtYXRpb24iLCJwdXNoIiwid3JpdGVNZXNzYWdlIiwid3JpdGUiLCJzdHJpbmdpZnkiLCJfYXNzZXJ0Tm90RW1wdHlTdHJpbmciLCJ0YXJnZXQiLCJpbnZvY2F0aW9uSWQiLCJ1bmRlZmluZWQiLCJpdGVtIiwicmVzdWx0IiwiZXJyb3IiLCJzZXF1ZW5jZUlkIiwidmFsdWUiLCJlcnJvck1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/JsonHubProtocol.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/Loggers.js":
/*!*************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/Loggers.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NullLogger: () => (/* binding */ NullLogger)\n/* harmony export */ });\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n/** A logger that does nothing when log messages are sent to it. */ class NullLogger {\n    constructor(){}\n    /** @inheritDoc */ // eslint-disable-next-line\n    log(_logLevel, _message) {}\n}\n/** The singleton instance of the {@link @microsoft/signalr.NullLogger}. */ NullLogger.instance = new NullLogger(); //# sourceMappingURL=Loggers.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0xvZ2dlcnMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGdFQUFnRTtBQUNoRSx1RUFBdUU7QUFDdkUsaUVBQWlFLEdBQzFELE1BQU1BO0lBQ1RDLGFBQWMsQ0FBRTtJQUNoQixnQkFBZ0IsR0FDaEIsMkJBQTJCO0lBQzNCQyxJQUFJQyxTQUFTLEVBQUVDLFFBQVEsRUFBRSxDQUN6QjtBQUNKO0FBQ0EseUVBQXlFLEdBQ3pFSixXQUFXSyxRQUFRLEdBQUcsSUFBSUwsY0FDMUIsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLXNvY2tldHMtY2hhdC1jbGllbnQtYXBwLy4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvc2lnbmFsci9kaXN0L2VzbS9Mb2dnZXJzLmpzPzM2YmEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG4vKiogQSBsb2dnZXIgdGhhdCBkb2VzIG5vdGhpbmcgd2hlbiBsb2cgbWVzc2FnZXMgYXJlIHNlbnQgdG8gaXQuICovXHJcbmV4cG9ydCBjbGFzcyBOdWxsTG9nZ2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkgeyB9XHJcbiAgICAvKiogQGluaGVyaXREb2MgKi9cclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxyXG4gICAgbG9nKF9sb2dMZXZlbCwgX21lc3NhZ2UpIHtcclxuICAgIH1cclxufVxyXG4vKiogVGhlIHNpbmdsZXRvbiBpbnN0YW5jZSBvZiB0aGUge0BsaW5rIEBtaWNyb3NvZnQvc2lnbmFsci5OdWxsTG9nZ2VyfS4gKi9cclxuTnVsbExvZ2dlci5pbnN0YW5jZSA9IG5ldyBOdWxsTG9nZ2VyKCk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxvZ2dlcnMuanMubWFwIl0sIm5hbWVzIjpbIk51bGxMb2dnZXIiLCJjb25zdHJ1Y3RvciIsImxvZyIsIl9sb2dMZXZlbCIsIl9tZXNzYWdlIiwiaW5zdGFuY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/Loggers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/LongPollingTransport.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/LongPollingTransport.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LongPollingTransport: () => (/* binding */ LongPollingTransport)\n/* harmony export */ });\n/* harmony import */ var _AbortController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AbortController */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/AbortController.js\");\n/* harmony import */ var _Errors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Errors */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Errors.js\");\n/* harmony import */ var _ILogger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ILogger */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/ILogger.js\");\n/* harmony import */ var _ITransport__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ITransport */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/ITransport.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Utils.js\");\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n\n\n\n\n\n// Not exported from 'index', this type is internal.\n/** @private */ class LongPollingTransport {\n    // This is an internal type, not exported from 'index' so this is really just internal.\n    get pollAborted() {\n        return this._pollAbort.aborted;\n    }\n    constructor(httpClient, logger, options){\n        this._httpClient = httpClient;\n        this._logger = logger;\n        this._pollAbort = new _AbortController__WEBPACK_IMPORTED_MODULE_0__.AbortController();\n        this._options = options;\n        this._running = false;\n        this.onreceive = null;\n        this.onclose = null;\n    }\n    async connect(url, transferFormat) {\n        _Utils__WEBPACK_IMPORTED_MODULE_1__.Arg.isRequired(url, \"url\");\n        _Utils__WEBPACK_IMPORTED_MODULE_1__.Arg.isRequired(transferFormat, \"transferFormat\");\n        _Utils__WEBPACK_IMPORTED_MODULE_1__.Arg.isIn(transferFormat, _ITransport__WEBPACK_IMPORTED_MODULE_2__.TransferFormat, \"transferFormat\");\n        this._url = url;\n        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Trace, \"(LongPolling transport) Connecting.\");\n        // Allow binary format on Node and Browsers that support binary content (indicated by the presence of responseType property)\n        if (transferFormat === _ITransport__WEBPACK_IMPORTED_MODULE_2__.TransferFormat.Binary && typeof XMLHttpRequest !== \"undefined\" && typeof new XMLHttpRequest().responseType !== \"string\") {\n            throw new Error(\"Binary protocols over XmlHttpRequest not implementing advanced features are not supported.\");\n        }\n        const [name, value] = (0,_Utils__WEBPACK_IMPORTED_MODULE_1__.getUserAgentHeader)();\n        const headers = {\n            [name]: value,\n            ...this._options.headers\n        };\n        const pollOptions = {\n            abortSignal: this._pollAbort.signal,\n            headers,\n            timeout: 100000,\n            withCredentials: this._options.withCredentials\n        };\n        if (transferFormat === _ITransport__WEBPACK_IMPORTED_MODULE_2__.TransferFormat.Binary) {\n            pollOptions.responseType = \"arraybuffer\";\n        }\n        // Make initial long polling request\n        // Server uses first long polling request to finish initializing connection and it returns without data\n        const pollUrl = `${url}&_=${Date.now()}`;\n        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Trace, `(LongPolling transport) polling: ${pollUrl}.`);\n        const response = await this._httpClient.get(pollUrl, pollOptions);\n        if (response.statusCode !== 200) {\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Error, `(LongPolling transport) Unexpected response code: ${response.statusCode}.`);\n            // Mark running as false so that the poll immediately ends and runs the close logic\n            this._closeError = new _Errors__WEBPACK_IMPORTED_MODULE_4__.HttpError(response.statusText || \"\", response.statusCode);\n            this._running = false;\n        } else {\n            this._running = true;\n        }\n        this._receiving = this._poll(this._url, pollOptions);\n    }\n    async _poll(url, pollOptions) {\n        try {\n            while(this._running){\n                try {\n                    const pollUrl = `${url}&_=${Date.now()}`;\n                    this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Trace, `(LongPolling transport) polling: ${pollUrl}.`);\n                    const response = await this._httpClient.get(pollUrl, pollOptions);\n                    if (response.statusCode === 204) {\n                        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Information, \"(LongPolling transport) Poll terminated by server.\");\n                        this._running = false;\n                    } else if (response.statusCode !== 200) {\n                        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Error, `(LongPolling transport) Unexpected response code: ${response.statusCode}.`);\n                        // Unexpected status code\n                        this._closeError = new _Errors__WEBPACK_IMPORTED_MODULE_4__.HttpError(response.statusText || \"\", response.statusCode);\n                        this._running = false;\n                    } else {\n                        // Process the response\n                        if (response.content) {\n                            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Trace, `(LongPolling transport) data received. ${(0,_Utils__WEBPACK_IMPORTED_MODULE_1__.getDataDetail)(response.content, this._options.logMessageContent)}.`);\n                            if (this.onreceive) {\n                                this.onreceive(response.content);\n                            }\n                        } else {\n                            // This is another way timeout manifest.\n                            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Trace, \"(LongPolling transport) Poll timed out, reissuing.\");\n                        }\n                    }\n                } catch (e) {\n                    if (!this._running) {\n                        // Log but disregard errors that occur after stopping\n                        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Trace, `(LongPolling transport) Poll errored after shutdown: ${e.message}`);\n                    } else {\n                        if (e instanceof _Errors__WEBPACK_IMPORTED_MODULE_4__.TimeoutError) {\n                            // Ignore timeouts and reissue the poll.\n                            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Trace, \"(LongPolling transport) Poll timed out, reissuing.\");\n                        } else {\n                            // Close the connection with the error as the result.\n                            this._closeError = e;\n                            this._running = false;\n                        }\n                    }\n                }\n            }\n        } finally{\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Trace, \"(LongPolling transport) Polling complete.\");\n            // We will reach here with pollAborted==false when the server returned a response causing the transport to stop.\n            // If pollAborted==true then client initiated the stop and the stop method will raise the close event after DELETE is sent.\n            if (!this.pollAborted) {\n                this._raiseOnClose();\n            }\n        }\n    }\n    async send(data) {\n        if (!this._running) {\n            return Promise.reject(new Error(\"Cannot send until the transport is connected\"));\n        }\n        return (0,_Utils__WEBPACK_IMPORTED_MODULE_1__.sendMessage)(this._logger, \"LongPolling\", this._httpClient, this._url, data, this._options);\n    }\n    async stop() {\n        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Trace, \"(LongPolling transport) Stopping polling.\");\n        // Tell receiving loop to stop, abort any current request, and then wait for it to finish\n        this._running = false;\n        this._pollAbort.abort();\n        try {\n            await this._receiving;\n            // Send DELETE to clean up long polling on the server\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Trace, `(LongPolling transport) sending DELETE request to ${this._url}.`);\n            const headers = {};\n            const [name, value] = (0,_Utils__WEBPACK_IMPORTED_MODULE_1__.getUserAgentHeader)();\n            headers[name] = value;\n            const deleteOptions = {\n                headers: {\n                    ...headers,\n                    ...this._options.headers\n                },\n                timeout: this._options.timeout,\n                withCredentials: this._options.withCredentials\n            };\n            let error;\n            try {\n                await this._httpClient.delete(this._url, deleteOptions);\n            } catch (err) {\n                error = err;\n            }\n            if (error) {\n                if (error instanceof _Errors__WEBPACK_IMPORTED_MODULE_4__.HttpError) {\n                    if (error.statusCode === 404) {\n                        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Trace, \"(LongPolling transport) A 404 response was returned from sending a DELETE request.\");\n                    } else {\n                        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Trace, `(LongPolling transport) Error sending a DELETE request: ${error}`);\n                    }\n                }\n            } else {\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Trace, \"(LongPolling transport) DELETE request accepted.\");\n            }\n        } finally{\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Trace, \"(LongPolling transport) Stop finished.\");\n            // Raise close event here instead of in polling\n            // It needs to happen after the DELETE request is sent\n            this._raiseOnClose();\n        }\n    }\n    _raiseOnClose() {\n        if (this.onclose) {\n            let logMessage = \"(LongPolling transport) Firing onclose event.\";\n            if (this._closeError) {\n                logMessage += \" Error: \" + this._closeError;\n            }\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Trace, logMessage);\n            this.onclose(this._closeError);\n        }\n    }\n} //# sourceMappingURL=LongPollingTransport.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0xvbmdQb2xsaW5nVHJhbnNwb3J0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLGdFQUFnRTtBQUNoRSx1RUFBdUU7QUFDbkI7QUFDRDtBQUNkO0FBQ1M7QUFDZ0M7QUFDOUUsb0RBQW9EO0FBQ3BELGFBQWEsR0FDTixNQUFNUztJQUNULHVGQUF1RjtJQUN2RixJQUFJQyxjQUFjO1FBQ2QsT0FBTyxJQUFJLENBQUNDLFVBQVUsQ0FBQ0MsT0FBTztJQUNsQztJQUNBQyxZQUFZQyxVQUFVLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxDQUFFO1FBQ3JDLElBQUksQ0FBQ0MsV0FBVyxHQUFHSDtRQUNuQixJQUFJLENBQUNJLE9BQU8sR0FBR0g7UUFDZixJQUFJLENBQUNKLFVBQVUsR0FBRyxJQUFJWCw2REFBZUE7UUFDckMsSUFBSSxDQUFDbUIsUUFBUSxHQUFHSDtRQUNoQixJQUFJLENBQUNJLFFBQVEsR0FBRztRQUNoQixJQUFJLENBQUNDLFNBQVMsR0FBRztRQUNqQixJQUFJLENBQUNDLE9BQU8sR0FBRztJQUNuQjtJQUNBLE1BQU1DLFFBQVFDLEdBQUcsRUFBRUMsY0FBYyxFQUFFO1FBQy9CcEIsdUNBQUdBLENBQUNxQixVQUFVLENBQUNGLEtBQUs7UUFDcEJuQix1Q0FBR0EsQ0FBQ3FCLFVBQVUsQ0FBQ0QsZ0JBQWdCO1FBQy9CcEIsdUNBQUdBLENBQUNzQixJQUFJLENBQUNGLGdCQUFnQnJCLHVEQUFjQSxFQUFFO1FBQ3pDLElBQUksQ0FBQ3dCLElBQUksR0FBR0o7UUFDWixJQUFJLENBQUNOLE9BQU8sQ0FBQ1csR0FBRyxDQUFDMUIsOENBQVFBLENBQUMyQixLQUFLLEVBQUU7UUFDakMsNEhBQTRIO1FBQzVILElBQUlMLG1CQUFtQnJCLHVEQUFjQSxDQUFDMkIsTUFBTSxJQUN2QyxPQUFPQyxtQkFBbUIsZUFBZSxPQUFPLElBQUlBLGlCQUFpQkMsWUFBWSxLQUFLLFVB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L0BtaWNyb3NvZnQvc2lnbmFsci9kaXN0L2VzbS9Mb25nUG9sbGluZ1RyYW5zcG9ydC5qcz9lMDFmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuaW1wb3J0IHsgQWJvcnRDb250cm9sbGVyIH0gZnJvbSBcIi4vQWJvcnRDb250cm9sbGVyXCI7XHJcbmltcG9ydCB7IEh0dHBFcnJvciwgVGltZW91dEVycm9yIH0gZnJvbSBcIi4vRXJyb3JzXCI7XHJcbmltcG9ydCB7IExvZ0xldmVsIH0gZnJvbSBcIi4vSUxvZ2dlclwiO1xyXG5pbXBvcnQgeyBUcmFuc2ZlckZvcm1hdCB9IGZyb20gXCIuL0lUcmFuc3BvcnRcIjtcclxuaW1wb3J0IHsgQXJnLCBnZXREYXRhRGV0YWlsLCBnZXRVc2VyQWdlbnRIZWFkZXIsIHNlbmRNZXNzYWdlIH0gZnJvbSBcIi4vVXRpbHNcIjtcclxuLy8gTm90IGV4cG9ydGVkIGZyb20gJ2luZGV4JywgdGhpcyB0eXBlIGlzIGludGVybmFsLlxyXG4vKiogQHByaXZhdGUgKi9cclxuZXhwb3J0IGNsYXNzIExvbmdQb2xsaW5nVHJhbnNwb3J0IHtcclxuICAgIC8vIFRoaXMgaXMgYW4gaW50ZXJuYWwgdHlwZSwgbm90IGV4cG9ydGVkIGZyb20gJ2luZGV4JyBzbyB0aGlzIGlzIHJlYWxseSBqdXN0IGludGVybmFsLlxyXG4gICAgZ2V0IHBvbGxBYm9ydGVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wb2xsQWJvcnQuYWJvcnRlZDtcclxuICAgIH1cclxuICAgIGNvbnN0cnVjdG9yKGh0dHBDbGllbnQsIGxvZ2dlciwgb3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuX2h0dHBDbGllbnQgPSBodHRwQ2xpZW50O1xyXG4gICAgICAgIHRoaXMuX2xvZ2dlciA9IGxvZ2dlcjtcclxuICAgICAgICB0aGlzLl9wb2xsQWJvcnQgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgICAgdGhpcy5fcnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMub25yZWNlaXZlID0gbnVsbDtcclxuICAgICAgICB0aGlzLm9uY2xvc2UgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgY29ubmVjdCh1cmwsIHRyYW5zZmVyRm9ybWF0KSB7XHJcbiAgICAgICAgQXJnLmlzUmVxdWlyZWQodXJsLCBcInVybFwiKTtcclxuICAgICAgICBBcmcuaXNSZXF1aXJlZCh0cmFuc2ZlckZvcm1hdCwgXCJ0cmFuc2ZlckZvcm1hdFwiKTtcclxuICAgICAgICBBcmcuaXNJbih0cmFuc2ZlckZvcm1hdCwgVHJhbnNmZXJGb3JtYXQsIFwidHJhbnNmZXJGb3JtYXRcIik7XHJcbiAgICAgICAgdGhpcy5fdXJsID0gdXJsO1xyXG4gICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuVHJhY2UsIFwiKExvbmdQb2xsaW5nIHRyYW5zcG9ydCkgQ29ubmVjdGluZy5cIik7XHJcbiAgICAgICAgLy8gQWxsb3cgYmluYXJ5IGZvcm1hdCBvbiBOb2RlIGFuZCBCcm93c2VycyB0aGF0IHN1cHBvcnQgYmluYXJ5IGNvbnRlbnQgKGluZGljYXRlZCBieSB0aGUgcHJlc2VuY2Ugb2YgcmVzcG9uc2VUeXBlIHByb3BlcnR5KVxyXG4gICAgICAgIGlmICh0cmFuc2ZlckZvcm1hdCA9PT0gVHJhbnNmZXJGb3JtYXQuQmluYXJ5ICYmXHJcbiAgICAgICAgICAgICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIG5ldyBYTUxIdHRwUmVxdWVzdCgpLnJlc3BvbnNlVHlwZSAhPT0gXCJzdHJpbmdcIikpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQmluYXJ5IHByb3RvY29scyBvdmVyIFhtbEh0dHBSZXF1ZXN0IG5vdCBpbXBsZW1lbnRpbmcgYWR2YW5jZWQgZmVhdHVyZXMgYXJlIG5vdCBzdXBwb3J0ZWQuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBbbmFtZSwgdmFsdWVdID0gZ2V0VXNlckFnZW50SGVhZGVyKCk7XHJcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHsgW25hbWVdOiB2YWx1ZSwgLi4udGhpcy5fb3B0aW9ucy5oZWFkZXJzIH07XHJcbiAgICAgICAgY29uc3QgcG9sbE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIGFib3J0U2lnbmFsOiB0aGlzLl9wb2xsQWJvcnQuc2lnbmFsLFxyXG4gICAgICAgICAgICBoZWFkZXJzLFxyXG4gICAgICAgICAgICB0aW1lb3V0OiAxMDAwMDAsXHJcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy5fb3B0aW9ucy53aXRoQ3JlZGVudGlhbHMsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAodHJhbnNmZXJGb3JtYXQgPT09IFRyYW5zZmVyRm9ybWF0LkJpbmFyeSkge1xyXG4gICAgICAgICAgICBwb2xsT3B0aW9ucy5yZXNwb25zZVR5cGUgPSBcImFycmF5YnVmZmVyXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE1ha2UgaW5pdGlhbCBsb25nIHBvbGxpbmcgcmVxdWVzdFxyXG4gICAgICAgIC8vIFNlcnZlciB1c2VzIGZpcnN0IGxvbmcgcG9sbGluZyByZXF1ZXN0IHRvIGZpbmlzaCBpbml0aWFsaXppbmcgY29ubmVjdGlvbiBhbmQgaXQgcmV0dXJucyB3aXRob3V0IGRhdGFcclxuICAgICAgICBjb25zdCBwb2xsVXJsID0gYCR7dXJsfSZfPSR7RGF0ZS5ub3coKX1gO1xyXG4gICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuVHJhY2UsIGAoTG9uZ1BvbGxpbmcgdHJhbnNwb3J0KSBwb2xsaW5nOiAke3BvbGxVcmx9LmApO1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5faHR0cENsaWVudC5nZXQocG9sbFVybCwgcG9sbE9wdGlvbnMpO1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlICE9PSAyMDApIHtcclxuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5FcnJvciwgYChMb25nUG9sbGluZyB0cmFuc3BvcnQpIFVuZXhwZWN0ZWQgcmVzcG9uc2UgY29kZTogJHtyZXNwb25zZS5zdGF0dXNDb2RlfS5gKTtcclxuICAgICAgICAgICAgLy8gTWFyayBydW5uaW5nIGFzIGZhbHNlIHNvIHRoYXQgdGhlIHBvbGwgaW1tZWRpYXRlbHkgZW5kcyBhbmQgcnVucyB0aGUgY2xvc2UgbG9naWNcclxuICAgICAgICAgICAgdGhpcy5fY2xvc2VFcnJvciA9IG5ldyBIdHRwRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCB8fCBcIlwiLCByZXNwb25zZS5zdGF0dXNDb2RlKTtcclxuICAgICAgICAgICAgdGhpcy5fcnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fcnVubmluZyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3JlY2VpdmluZyA9IHRoaXMuX3BvbGwodGhpcy5fdXJsLCBwb2xsT3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgICBhc3luYyBfcG9sbCh1cmwsIHBvbGxPcHRpb25zKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgd2hpbGUgKHRoaXMuX3J1bm5pbmcpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9sbFVybCA9IGAke3VybH0mXz0ke0RhdGUubm93KCl9YDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLlRyYWNlLCBgKExvbmdQb2xsaW5nIHRyYW5zcG9ydCkgcG9sbGluZzogJHtwb2xsVXJsfS5gKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuX2h0dHBDbGllbnQuZ2V0KHBvbGxVcmwsIHBvbGxPcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gMjA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuSW5mb3JtYXRpb24sIFwiKExvbmdQb2xsaW5nIHRyYW5zcG9ydCkgUG9sbCB0ZXJtaW5hdGVkIGJ5IHNlcnZlci5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3J1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSAhPT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuRXJyb3IsIGAoTG9uZ1BvbGxpbmcgdHJhbnNwb3J0KSBVbmV4cGVjdGVkIHJlc3BvbnNlIGNvZGU6ICR7cmVzcG9uc2Uuc3RhdHVzQ29kZX0uYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVuZXhwZWN0ZWQgc3RhdHVzIGNvZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xvc2VFcnJvciA9IG5ldyBIdHRwRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCB8fCBcIlwiLCByZXNwb25zZS5zdGF0dXNDb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJvY2VzcyB0aGUgcmVzcG9uc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvbnRlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuVHJhY2UsIGAoTG9uZ1BvbGxpbmcgdHJhbnNwb3J0KSBkYXRhIHJlY2VpdmVkLiAke2dldERhdGFEZXRhaWwocmVzcG9uc2UuY29udGVudCwgdGhpcy5fb3B0aW9ucy5sb2dNZXNzYWdlQ29udGVudCl9LmApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub25yZWNlaXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbnJlY2VpdmUocmVzcG9uc2UuY29udGVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGFub3RoZXIgd2F5IHRpbWVvdXQgbWFuaWZlc3QuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLlRyYWNlLCBcIihMb25nUG9sbGluZyB0cmFuc3BvcnQpIFBvbGwgdGltZWQgb3V0LCByZWlzc3VpbmcuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3J1bm5pbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTG9nIGJ1dCBkaXNyZWdhcmQgZXJyb3JzIHRoYXQgb2NjdXIgYWZ0ZXIgc3RvcHBpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5UcmFjZSwgYChMb25nUG9sbGluZyB0cmFuc3BvcnQpIFBvbGwgZXJyb3JlZCBhZnRlciBzaHV0ZG93bjogJHtlLm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFRpbWVvdXRFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIHRpbWVvdXRzIGFuZCByZWlzc3VlIHRoZSBwb2xsLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5UcmFjZSwgXCIoTG9uZ1BvbGxpbmcgdHJhbnNwb3J0KSBQb2xsIHRpbWVkIG91dCwgcmVpc3N1aW5nLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsb3NlIHRoZSBjb25uZWN0aW9uIHdpdGggdGhlIGVycm9yIGFzIHRoZSByZXN1bHQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbG9zZUVycm9yID0gZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3J1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5UcmFjZSwgXCIoTG9uZ1BvbGxpbmcgdHJhbnNwb3J0KSBQb2xsaW5nIGNvbXBsZXRlLlwiKTtcclxuICAgICAgICAgICAgLy8gV2Ugd2lsbCByZWFjaCBoZXJlIHdpdGggcG9sbEFib3J0ZWQ9PWZhbHNlIHdoZW4gdGhlIHNlcnZlciByZXR1cm5lZCBhIHJlc3BvbnNlIGNhdXNpbmcgdGhlIHRyYW5zcG9ydCB0byBzdG9wLlxyXG4gICAgICAgICAgICAvLyBJZiBwb2xsQWJvcnRlZD09dHJ1ZSB0aGVuIGNsaWVudCBpbml0aWF0ZWQgdGhlIHN0b3AgYW5kIHRoZSBzdG9wIG1ldGhvZCB3aWxsIHJhaXNlIHRoZSBjbG9zZSBldmVudCBhZnRlciBERUxFVEUgaXMgc2VudC5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLnBvbGxBYm9ydGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yYWlzZU9uQ2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFzeW5jIHNlbmQoZGF0YSkge1xyXG4gICAgICAgIGlmICghdGhpcy5fcnVubmluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiQ2Fubm90IHNlbmQgdW50aWwgdGhlIHRyYW5zcG9ydCBpcyBjb25uZWN0ZWRcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2VuZE1lc3NhZ2UodGhpcy5fbG9nZ2VyLCBcIkxvbmdQb2xsaW5nXCIsIHRoaXMuX2h0dHBDbGllbnQsIHRoaXMuX3VybCwgZGF0YSwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgICBhc3luYyBzdG9wKCkge1xyXG4gICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuVHJhY2UsIFwiKExvbmdQb2xsaW5nIHRyYW5zcG9ydCkgU3RvcHBpbmcgcG9sbGluZy5cIik7XHJcbiAgICAgICAgLy8gVGVsbCByZWNlaXZpbmcgbG9vcCB0byBzdG9wLCBhYm9ydCBhbnkgY3VycmVudCByZXF1ZXN0LCBhbmQgdGhlbiB3YWl0IGZvciBpdCB0byBmaW5pc2hcclxuICAgICAgICB0aGlzLl9ydW5uaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fcG9sbEFib3J0LmFib3J0KCk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5fcmVjZWl2aW5nO1xyXG4gICAgICAgICAgICAvLyBTZW5kIERFTEVURSB0byBjbGVhbiB1cCBsb25nIHBvbGxpbmcgb24gdGhlIHNlcnZlclxyXG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLlRyYWNlLCBgKExvbmdQb2xsaW5nIHRyYW5zcG9ydCkgc2VuZGluZyBERUxFVEUgcmVxdWVzdCB0byAke3RoaXMuX3VybH0uYCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcclxuICAgICAgICAgICAgY29uc3QgW25hbWUsIHZhbHVlXSA9IGdldFVzZXJBZ2VudEhlYWRlcigpO1xyXG4gICAgICAgICAgICBoZWFkZXJzW25hbWVdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlbGV0ZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IC4uLmhlYWRlcnMsIC4uLnRoaXMuX29wdGlvbnMuaGVhZGVycyB9LFxyXG4gICAgICAgICAgICAgICAgdGltZW91dDogdGhpcy5fb3B0aW9ucy50aW1lb3V0LFxyXG4gICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0aGlzLl9vcHRpb25zLndpdGhDcmVkZW50aWFscyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgbGV0IGVycm9yO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5faHR0cENsaWVudC5kZWxldGUodGhpcy5fdXJsLCBkZWxldGVPcHRpb25zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBlcnJvciA9IGVycjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEh0dHBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5zdGF0dXNDb2RlID09PSA0MDQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5UcmFjZSwgXCIoTG9uZ1BvbGxpbmcgdHJhbnNwb3J0KSBBIDQwNCByZXNwb25zZSB3YXMgcmV0dXJuZWQgZnJvbSBzZW5kaW5nIGEgREVMRVRFIHJlcXVlc3QuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5UcmFjZSwgYChMb25nUG9sbGluZyB0cmFuc3BvcnQpIEVycm9yIHNlbmRpbmcgYSBERUxFVEUgcmVxdWVzdDogJHtlcnJvcn1gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLlRyYWNlLCBcIihMb25nUG9sbGluZyB0cmFuc3BvcnQpIERFTEVURSByZXF1ZXN0IGFjY2VwdGVkLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5UcmFjZSwgXCIoTG9uZ1BvbGxpbmcgdHJhbnNwb3J0KSBTdG9wIGZpbmlzaGVkLlwiKTtcclxuICAgICAgICAgICAgLy8gUmFpc2UgY2xvc2UgZXZlbnQgaGVyZSBpbnN0ZWFkIG9mIGluIHBvbGxpbmdcclxuICAgICAgICAgICAgLy8gSXQgbmVlZHMgdG8gaGFwcGVuIGFmdGVyIHRoZSBERUxFVEUgcmVxdWVzdCBpcyBzZW50XHJcbiAgICAgICAgICAgIHRoaXMuX3JhaXNlT25DbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9yYWlzZU9uQ2xvc2UoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMub25jbG9zZSkge1xyXG4gICAgICAgICAgICBsZXQgbG9nTWVzc2FnZSA9IFwiKExvbmdQb2xsaW5nIHRyYW5zcG9ydCkgRmlyaW5nIG9uY2xvc2UgZXZlbnQuXCI7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jbG9zZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBsb2dNZXNzYWdlICs9IFwiIEVycm9yOiBcIiArIHRoaXMuX2Nsb3NlRXJyb3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5UcmFjZSwgbG9nTWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHRoaXMub25jbG9zZSh0aGlzLl9jbG9zZUVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TG9uZ1BvbGxpbmdUcmFuc3BvcnQuanMubWFwIl0sIm5hbWVzIjpbIkFib3J0Q29udHJvbGxlciIsIkh0dHBFcnJvciIsIlRpbWVvdXRFcnJvciIsIkxvZ0xldmVsIiwiVHJhbnNmZXJGb3JtYXQiLCJBcmciLCJnZXREYXRhRGV0YWlsIiwiZ2V0VXNlckFnZW50SGVhZGVyIiwic2VuZE1lc3NhZ2UiLCJMb25nUG9sbGluZ1RyYW5zcG9ydCIsInBvbGxBYm9ydGVkIiwiX3BvbGxBYm9ydCIsImFib3J0ZWQiLCJjb25zdHJ1Y3RvciIsImh0dHBDbGllbnQiLCJsb2dnZXIiLCJvcHRpb25zIiwiX2h0dHBDbGllbnQiLCJfbG9nZ2VyIiwiX29wdGlvbnMiLCJfcnVubmluZyIsIm9ucmVjZWl2ZSIsIm9uY2xvc2UiLCJjb25uZWN0IiwidXJsIiwidHJhbnNmZXJGb3JtYXQiLCJpc1JlcXVpcmVkIiwiaXNJbiIsIl91cmwiLCJsb2ciLCJUcmFjZSIsIkJpbmFyeSIsIlhNTEh0dHBSZXF1ZXN0IiwicmVzcG9uc2VUeXBlIiwiRXJyb3IiLCJuYW1lIiwidmFsdWUiLCJoZWFkZXJzIiwicG9sbE9wdGlvbnMiLCJhYm9ydFNpZ25hbCIsInNpZ25hbCIsInRpbWVvdXQiLCJ3aXRoQ3JlZGVudGlhbHMiLCJwb2xsVXJsIiwiRGF0ZSIsIm5vdyIsInJlc3BvbnNlIiwiZ2V0Iiwic3RhdHVzQ29kZSIsIl9jbG9zZUVycm9yIiwic3RhdHVzVGV4dCIsIl9yZWNlaXZpbmciLCJfcG9sbCIsIkluZm9ybWF0aW9uIiwiY29udGVudCIsImxvZ01lc3NhZ2VDb250ZW50IiwiZSIsIm1lc3NhZ2UiLCJfcmFpc2VPbkNsb3NlIiwic2VuZCIsImRhdGEiLCJQcm9taXNlIiwicmVqZWN0Iiwic3RvcCIsImFib3J0IiwiZGVsZXRlT3B0aW9ucyIsImVycm9yIiwiZGVsZXRlIiwiZXJyIiwibG9nTWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/LongPollingTransport.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/MessageBuffer.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/MessageBuffer.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MessageBuffer: () => (/* binding */ MessageBuffer)\n/* harmony export */ });\n/* harmony import */ var _IHubProtocol__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./IHubProtocol */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/IHubProtocol.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Utils.js\");\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n\n\n/** @private */ class MessageBuffer {\n    constructor(protocol, connection, bufferSize){\n        this._bufferSize = 100000;\n        this._messages = [];\n        this._totalMessageCount = 0;\n        this._waitForSequenceMessage = false;\n        // Message IDs start at 1 and always increment by 1\n        this._nextReceivingSequenceId = 1;\n        this._latestReceivedSequenceId = 0;\n        this._bufferedByteCount = 0;\n        this._reconnectInProgress = false;\n        this._protocol = protocol;\n        this._connection = connection;\n        this._bufferSize = bufferSize;\n    }\n    async _send(message) {\n        const serializedMessage = this._protocol.writeMessage(message);\n        let backpressurePromise = Promise.resolve();\n        // Only count invocation messages. Acks, pings, etc. don't need to be resent on reconnect\n        if (this._isInvocationMessage(message)) {\n            this._totalMessageCount++;\n            let backpressurePromiseResolver = ()=>{};\n            let backpressurePromiseRejector = ()=>{};\n            if ((0,_Utils__WEBPACK_IMPORTED_MODULE_0__.isArrayBuffer)(serializedMessage)) {\n                this._bufferedByteCount += serializedMessage.byteLength;\n            } else {\n                this._bufferedByteCount += serializedMessage.length;\n            }\n            if (this._bufferedByteCount >= this._bufferSize) {\n                backpressurePromise = new Promise((resolve, reject)=>{\n                    backpressurePromiseResolver = resolve;\n                    backpressurePromiseRejector = reject;\n                });\n            }\n            this._messages.push(new BufferedItem(serializedMessage, this._totalMessageCount, backpressurePromiseResolver, backpressurePromiseRejector));\n        }\n        try {\n            // If this is set it means we are reconnecting or resending\n            // We don't want to send on a disconnected connection\n            // And we don't want to send if resend is running since that would mean sending\n            // this message twice\n            if (!this._reconnectInProgress) {\n                await this._connection.send(serializedMessage);\n            }\n        } catch  {\n            this._disconnected();\n        }\n        await backpressurePromise;\n    }\n    _ack(ackMessage) {\n        let newestAckedMessage = -1;\n        // Find index of newest message being acked\n        for(let index = 0; index < this._messages.length; index++){\n            const element = this._messages[index];\n            if (element._id <= ackMessage.sequenceId) {\n                newestAckedMessage = index;\n                if ((0,_Utils__WEBPACK_IMPORTED_MODULE_0__.isArrayBuffer)(element._message)) {\n                    this._bufferedByteCount -= element._message.byteLength;\n                } else {\n                    this._bufferedByteCount -= element._message.length;\n                }\n                // resolve items that have already been sent and acked\n                element._resolver();\n            } else if (this._bufferedByteCount < this._bufferSize) {\n                // resolve items that now fall under the buffer limit but haven't been acked\n                element._resolver();\n            } else {\n                break;\n            }\n        }\n        if (newestAckedMessage !== -1) {\n            // We're removing everything including the message pointed to, so add 1\n            this._messages = this._messages.slice(newestAckedMessage + 1);\n        }\n    }\n    _shouldProcessMessage(message) {\n        if (this._waitForSequenceMessage) {\n            if (message.type !== _IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Sequence) {\n                return false;\n            } else {\n                this._waitForSequenceMessage = false;\n                return true;\n            }\n        }\n        // No special processing for acks, pings, etc.\n        if (!this._isInvocationMessage(message)) {\n            return true;\n        }\n        const currentId = this._nextReceivingSequenceId;\n        this._nextReceivingSequenceId++;\n        if (currentId <= this._latestReceivedSequenceId) {\n            if (currentId === this._latestReceivedSequenceId) {\n                // Should only hit this if we just reconnected and the server is sending\n                // Messages it has buffered, which would mean it hasn't seen an Ack for these messages\n                this._ackTimer();\n            }\n            // Ignore, this is a duplicate message\n            return false;\n        }\n        this._latestReceivedSequenceId = currentId;\n        // Only start the timer for sending an Ack message when we have a message to ack. This also conveniently solves\n        // timer throttling by not having a recursive timer, and by starting the timer via a network call (recv)\n        this._ackTimer();\n        return true;\n    }\n    _resetSequence(message) {\n        if (message.sequenceId > this._nextReceivingSequenceId) {\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            this._connection.stop(new Error(\"Sequence ID greater than amount of messages we've received.\"));\n            return;\n        }\n        this._nextReceivingSequenceId = message.sequenceId;\n    }\n    _disconnected() {\n        this._reconnectInProgress = true;\n        this._waitForSequenceMessage = true;\n    }\n    async _resend() {\n        const sequenceId = this._messages.length !== 0 ? this._messages[0]._id : this._totalMessageCount + 1;\n        await this._connection.send(this._protocol.writeMessage({\n            type: _IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Sequence,\n            sequenceId\n        }));\n        // Get a local variable to the _messages, just in case messages are acked while resending\n        // Which would slice the _messages array (which creates a new copy)\n        const messages = this._messages;\n        for (const element of messages){\n            await this._connection.send(element._message);\n        }\n        this._reconnectInProgress = false;\n    }\n    _dispose(error) {\n        error !== null && error !== void 0 ? error : error = new Error(\"Unable to reconnect to server.\");\n        // Unblock backpressure if any\n        for (const element of this._messages){\n            element._rejector(error);\n        }\n    }\n    _isInvocationMessage(message) {\n        // There is no way to check if something implements an interface.\n        // So we individually check the messages in a switch statement.\n        // To make sure we don't miss any message types we rely on the compiler\n        // seeing the function returns a value and it will do the\n        // exhaustive check for us on the switch statement, since we don't use 'case default'\n        switch(message.type){\n            case _IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Invocation:\n            case _IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.StreamItem:\n            case _IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Completion:\n            case _IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.StreamInvocation:\n            case _IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.CancelInvocation:\n                return true;\n            case _IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Close:\n            case _IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Sequence:\n            case _IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Ping:\n            case _IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Ack:\n                return false;\n        }\n    }\n    _ackTimer() {\n        if (this._ackTimerHandle === undefined) {\n            this._ackTimerHandle = setTimeout(async ()=>{\n                try {\n                    if (!this._reconnectInProgress) {\n                        await this._connection.send(this._protocol.writeMessage({\n                            type: _IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Ack,\n                            sequenceId: this._latestReceivedSequenceId\n                        }));\n                    }\n                // Ignore errors, that means the connection is closed and we don't care about the Ack message anymore.\n                } catch  {}\n                clearTimeout(this._ackTimerHandle);\n                this._ackTimerHandle = undefined;\n            // 1 second delay so we don't spam Ack messages if there are many messages being received at once.\n            }, 1000);\n        }\n    }\n}\nclass BufferedItem {\n    constructor(message, id, resolver, rejector){\n        this._message = message;\n        this._id = id;\n        this._resolver = resolver;\n        this._rejector = rejector;\n    }\n} //# sourceMappingURL=MessageBuffer.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL01lc3NhZ2VCdWZmZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsZ0VBQWdFO0FBQ2hFLHVFQUF1RTtBQUMxQjtBQUNMO0FBQ3hDLGFBQWEsR0FDTixNQUFNRTtJQUNUQyxZQUFZQyxRQUFRLEVBQUVDLFVBQVUsRUFBRUMsVUFBVSxDQUFFO1FBQzFDLElBQUksQ0FBQ0MsV0FBVyxHQUFHO1FBQ25CLElBQUksQ0FBQ0MsU0FBUyxHQUFHLEVBQUU7UUFDbkIsSUFBSSxDQUFDQyxrQkFBa0IsR0FBRztRQUMxQixJQUFJLENBQUNDLHVCQUF1QixHQUFHO1FBQy9CLG1EQUFtRDtRQUNuRCxJQUFJLENBQUNDLHdCQUF3QixHQUFHO1FBQ2hDLElBQUksQ0FBQ0MseUJBQXlCLEdBQUc7UUFDakMsSUFBSSxDQUFDQyxrQkFBa0IsR0FBRztRQUMxQixJQUFJLENBQUNDLG9CQUFvQixHQUFHO1FBQzVCLElBQUksQ0FBQ0MsU0FBUyxHQUFHWDtRQUNqQixJQUFJLENBQUNZLFdBQVcsR0FBR1g7UUFDbkIsSUFBSSxDQUFDRSxXQUFXLEdBQUdEO0lBQ3ZCO0lBQ0EsTUFBTVcsTUFBTUMsT0FBTyxFQUFFO1FBQ2pCLE1BQU1DLG9CQUFvQixJQUFJLENBQUNKLFNBQVMsQ0FBQ0ssWUFBWSxDQUFDRjtRQUN0RCxJQUFJRyxzQkFBc0JDLFFBQVFDLE9BQU87UUFDekMseUZBQXlGO1FBQ3pGLElBQUksSUFBSSxDQUFDQyxvQkFBb0IsQ0FBQ04sVUFBVTtZQUNwQyxJQUFJLENBQUNULGtCQUFrQjtZQUN2QixJQUFJZ0IsOEJBQThCLEtBQVE7WUFDMUMsSUFBSUMsOEJBQThCLEtBQVE7WUFDMUMsSUFBSXpCLHFEQUFhQSxDQUFDa0Isb0JBQW9CO2dCQUNsQyxJQUFJLENBQUNOLGtCQUFrQixJQUFJTSxrQkFBa0JRLFVBQVU7WUFDM0QsT0FDSztnQkFDRCxJQUFJLENBQUNkLGtCQUFrQixJQUFJTSxr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Q0FBQ3FCLEdBQUcsR0FBRzhCO1FBQ1gsSUFBSSxDQUFDM0IsU0FBUyxHQUFHNEI7UUFDakIsSUFBSSxDQUFDZCxTQUFTLEdBQUdlO0lBQ3JCO0FBQ0osRUFDQSx5Q0FBeUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWItc29ja2V0cy1jaGF0LWNsaWVudC1hcHAvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL01lc3NhZ2VCdWZmZXIuanM/MGEzOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcbmltcG9ydCB7IE1lc3NhZ2VUeXBlIH0gZnJvbSBcIi4vSUh1YlByb3RvY29sXCI7XHJcbmltcG9ydCB7IGlzQXJyYXlCdWZmZXIgfSBmcm9tIFwiLi9VdGlsc1wiO1xyXG4vKiogQHByaXZhdGUgKi9cclxuZXhwb3J0IGNsYXNzIE1lc3NhZ2VCdWZmZXIge1xyXG4gICAgY29uc3RydWN0b3IocHJvdG9jb2wsIGNvbm5lY3Rpb24sIGJ1ZmZlclNpemUpIHtcclxuICAgICAgICB0aGlzLl9idWZmZXJTaXplID0gMTAwMDAwO1xyXG4gICAgICAgIHRoaXMuX21lc3NhZ2VzID0gW107XHJcbiAgICAgICAgdGhpcy5fdG90YWxNZXNzYWdlQ291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMuX3dhaXRGb3JTZXF1ZW5jZU1lc3NhZ2UgPSBmYWxzZTtcclxuICAgICAgICAvLyBNZXNzYWdlIElEcyBzdGFydCBhdCAxIGFuZCBhbHdheXMgaW5jcmVtZW50IGJ5IDFcclxuICAgICAgICB0aGlzLl9uZXh0UmVjZWl2aW5nU2VxdWVuY2VJZCA9IDE7XHJcbiAgICAgICAgdGhpcy5fbGF0ZXN0UmVjZWl2ZWRTZXF1ZW5jZUlkID0gMDtcclxuICAgICAgICB0aGlzLl9idWZmZXJlZEJ5dGVDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0SW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX3Byb3RvY29sID0gcHJvdG9jb2w7XHJcbiAgICAgICAgdGhpcy5fY29ubmVjdGlvbiA9IGNvbm5lY3Rpb247XHJcbiAgICAgICAgdGhpcy5fYnVmZmVyU2l6ZSA9IGJ1ZmZlclNpemU7XHJcbiAgICB9XHJcbiAgICBhc3luYyBfc2VuZChtZXNzYWdlKSB7XHJcbiAgICAgICAgY29uc3Qgc2VyaWFsaXplZE1lc3NhZ2UgPSB0aGlzLl9wcm90b2NvbC53cml0ZU1lc3NhZ2UobWVzc2FnZSk7XHJcbiAgICAgICAgbGV0IGJhY2twcmVzc3VyZVByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICAvLyBPbmx5IGNvdW50IGludm9jYXRpb24gbWVzc2FnZXMuIEFja3MsIHBpbmdzLCBldGMuIGRvbid0IG5lZWQgdG8gYmUgcmVzZW50IG9uIHJlY29ubmVjdFxyXG4gICAgICAgIGlmICh0aGlzLl9pc0ludm9jYXRpb25NZXNzYWdlKG1lc3NhZ2UpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RvdGFsTWVzc2FnZUNvdW50Kys7XHJcbiAgICAgICAgICAgIGxldCBiYWNrcHJlc3N1cmVQcm9taXNlUmVzb2x2ZXIgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgICAgIGxldCBiYWNrcHJlc3N1cmVQcm9taXNlUmVqZWN0b3IgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgICAgIGlmIChpc0FycmF5QnVmZmVyKHNlcmlhbGl6ZWRNZXNzYWdlKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYnVmZmVyZWRCeXRlQ291bnQgKz0gc2VyaWFsaXplZE1lc3NhZ2UuYnl0ZUxlbmd0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2J1ZmZlcmVkQnl0ZUNvdW50ICs9IHNlcmlhbGl6ZWRNZXNzYWdlLmxlbmd0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fYnVmZmVyZWRCeXRlQ291bnQgPj0gdGhpcy5fYnVmZmVyU2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgYmFja3ByZXNzdXJlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBiYWNrcHJlc3N1cmVQcm9taXNlUmVzb2x2ZXIgPSByZXNvbHZlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhY2twcmVzc3VyZVByb21pc2VSZWplY3RvciA9IHJlamVjdDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX21lc3NhZ2VzLnB1c2gobmV3IEJ1ZmZlcmVkSXRlbShzZXJpYWxpemVkTWVzc2FnZSwgdGhpcy5fdG90YWxNZXNzYWdlQ291bnQsIGJhY2twcmVzc3VyZVByb21pc2VSZXNvbHZlciwgYmFja3ByZXNzdXJlUHJvbWlzZVJlamVjdG9yKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgc2V0IGl0IG1lYW5zIHdlIGFyZSByZWNvbm5lY3Rpbmcgb3IgcmVzZW5kaW5nXHJcbiAgICAgICAgICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gc2VuZCBvbiBhIGRpc2Nvbm5lY3RlZCBjb25uZWN0aW9uXHJcbiAgICAgICAgICAgIC8vIEFuZCB3ZSBkb24ndCB3YW50IHRvIHNlbmQgaWYgcmVzZW5kIGlzIHJ1bm5pbmcgc2luY2UgdGhhdCB3b3VsZCBtZWFuIHNlbmRpbmdcclxuICAgICAgICAgICAgLy8gdGhpcyBtZXNzYWdlIHR3aWNlXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fcmVjb25uZWN0SW5Qcm9ncmVzcykge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fY29ubmVjdGlvbi5zZW5kKHNlcmlhbGl6ZWRNZXNzYWdlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc2Nvbm5lY3RlZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhd2FpdCBiYWNrcHJlc3N1cmVQcm9taXNlO1xyXG4gICAgfVxyXG4gICAgX2FjayhhY2tNZXNzYWdlKSB7XHJcbiAgICAgICAgbGV0IG5ld2VzdEFja2VkTWVzc2FnZSA9IC0xO1xyXG4gICAgICAgIC8vIEZpbmQgaW5kZXggb2YgbmV3ZXN0IG1lc3NhZ2UgYmVpbmcgYWNrZWRcclxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5fbWVzc2FnZXMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9tZXNzYWdlc1tpbmRleF07XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50Ll9pZCA8PSBhY2tNZXNzYWdlLnNlcXVlbmNlSWQpIHtcclxuICAgICAgICAgICAgICAgIG5ld2VzdEFja2VkTWVzc2FnZSA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXlCdWZmZXIoZWxlbWVudC5fbWVzc2FnZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9idWZmZXJlZEJ5dGVDb3VudCAtPSBlbGVtZW50Ll9tZXNzYWdlLmJ5dGVMZW5ndGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9idWZmZXJlZEJ5dGVDb3VudCAtPSBlbGVtZW50Ll9tZXNzYWdlLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHJlc29sdmUgaXRlbXMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBzZW50IGFuZCBhY2tlZFxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5fcmVzb2x2ZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9idWZmZXJlZEJ5dGVDb3VudCA8IHRoaXMuX2J1ZmZlclNpemUpIHtcclxuICAgICAgICAgICAgICAgIC8vIHJlc29sdmUgaXRlbXMgdGhhdCBub3cgZmFsbCB1bmRlciB0aGUgYnVmZmVyIGxpbWl0IGJ1dCBoYXZlbid0IGJlZW4gYWNrZWRcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuX3Jlc29sdmVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobmV3ZXN0QWNrZWRNZXNzYWdlICE9PSAtMSkge1xyXG4gICAgICAgICAgICAvLyBXZSdyZSByZW1vdmluZyBldmVyeXRoaW5nIGluY2x1ZGluZyB0aGUgbWVzc2FnZSBwb2ludGVkIHRvLCBzbyBhZGQgMVxyXG4gICAgICAgICAgICB0aGlzLl9tZXNzYWdlcyA9IHRoaXMuX21lc3NhZ2VzLnNsaWNlKG5ld2VzdEFja2VkTWVzc2FnZSArIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9zaG91bGRQcm9jZXNzTWVzc2FnZShtZXNzYWdlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3dhaXRGb3JTZXF1ZW5jZU1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSAhPT0gTWVzc2FnZVR5cGUuU2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3dhaXRGb3JTZXF1ZW5jZU1lc3NhZ2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE5vIHNwZWNpYWwgcHJvY2Vzc2luZyBmb3IgYWNrcywgcGluZ3MsIGV0Yy5cclxuICAgICAgICBpZiAoIXRoaXMuX2lzSW52b2NhdGlvbk1lc3NhZ2UobWVzc2FnZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRJZCA9IHRoaXMuX25leHRSZWNlaXZpbmdTZXF1ZW5jZUlkO1xyXG4gICAgICAgIHRoaXMuX25leHRSZWNlaXZpbmdTZXF1ZW5jZUlkKys7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRJZCA8PSB0aGlzLl9sYXRlc3RSZWNlaXZlZFNlcXVlbmNlSWQpIHtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRJZCA9PT0gdGhpcy5fbGF0ZXN0UmVjZWl2ZWRTZXF1ZW5jZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTaG91bGQgb25seSBoaXQgdGhpcyBpZiB3ZSBqdXN0IHJlY29ubmVjdGVkIGFuZCB0aGUgc2VydmVyIGlzIHNlbmRpbmdcclxuICAgICAgICAgICAgICAgIC8vIE1lc3NhZ2VzIGl0IGhhcyBidWZmZXJlZCwgd2hpY2ggd291bGQgbWVhbiBpdCBoYXNuJ3Qgc2VlbiBhbiBBY2sgZm9yIHRoZXNlIG1lc3NhZ2VzXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hY2tUaW1lcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIElnbm9yZSwgdGhpcyBpcyBhIGR1cGxpY2F0ZSBtZXNzYWdlXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbGF0ZXN0UmVjZWl2ZWRTZXF1ZW5jZUlkID0gY3VycmVudElkO1xyXG4gICAgICAgIC8vIE9ubHkgc3RhcnQgdGhlIHRpbWVyIGZvciBzZW5kaW5nIGFuIEFjayBtZXNzYWdlIHdoZW4gd2UgaGF2ZSBhIG1lc3NhZ2UgdG8gYWNrLiBUaGlzIGFsc28gY29udmVuaWVudGx5IHNvbHZlc1xyXG4gICAgICAgIC8vIHRpbWVyIHRocm90dGxpbmcgYnkgbm90IGhhdmluZyBhIHJlY3Vyc2l2ZSB0aW1lciwgYW5kIGJ5IHN0YXJ0aW5nIHRoZSB0aW1lciB2aWEgYSBuZXR3b3JrIGNhbGwgKHJlY3YpXHJcbiAgICAgICAgdGhpcy5fYWNrVGltZXIoKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIF9yZXNldFNlcXVlbmNlKG1lc3NhZ2UpIHtcclxuICAgICAgICBpZiAobWVzc2FnZS5zZXF1ZW5jZUlkID4gdGhpcy5fbmV4dFJlY2VpdmluZ1NlcXVlbmNlSWQpIHtcclxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xyXG4gICAgICAgICAgICB0aGlzLl9jb25uZWN0aW9uLnN0b3AobmV3IEVycm9yKFwiU2VxdWVuY2UgSUQgZ3JlYXRlciB0aGFuIGFtb3VudCBvZiBtZXNzYWdlcyB3ZSd2ZSByZWNlaXZlZC5cIikpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX25leHRSZWNlaXZpbmdTZXF1ZW5jZUlkID0gbWVzc2FnZS5zZXF1ZW5jZUlkO1xyXG4gICAgfVxyXG4gICAgX2Rpc2Nvbm5lY3RlZCgpIHtcclxuICAgICAgICB0aGlzLl9yZWNvbm5lY3RJblByb2dyZXNzID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl93YWl0Rm9yU2VxdWVuY2VNZXNzYWdlID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGFzeW5jIF9yZXNlbmQoKSB7XHJcbiAgICAgICAgY29uc3Qgc2VxdWVuY2VJZCA9IHRoaXMuX21lc3NhZ2VzLmxlbmd0aCAhPT0gMFxyXG4gICAgICAgICAgICA/IHRoaXMuX21lc3NhZ2VzWzBdLl9pZFxyXG4gICAgICAgICAgICA6IHRoaXMuX3RvdGFsTWVzc2FnZUNvdW50ICsgMTtcclxuICAgICAgICBhd2FpdCB0aGlzLl9jb25uZWN0aW9uLnNlbmQodGhpcy5fcHJvdG9jb2wud3JpdGVNZXNzYWdlKHsgdHlwZTogTWVzc2FnZVR5cGUuU2VxdWVuY2UsIHNlcXVlbmNlSWQgfSkpO1xyXG4gICAgICAgIC8vIEdldCBhIGxvY2FsIHZhcmlhYmxlIHRvIHRoZSBfbWVzc2FnZXMsIGp1c3QgaW4gY2FzZSBtZXNzYWdlcyBhcmUgYWNrZWQgd2hpbGUgcmVzZW5kaW5nXHJcbiAgICAgICAgLy8gV2hpY2ggd291bGQgc2xpY2UgdGhlIF9tZXNzYWdlcyBhcnJheSAod2hpY2ggY3JlYXRlcyBhIG5ldyBjb3B5KVxyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gdGhpcy5fbWVzc2FnZXM7XHJcbiAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIG1lc3NhZ2VzKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2Nvbm5lY3Rpb24uc2VuZChlbGVtZW50Ll9tZXNzYWdlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0SW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgX2Rpc3Bvc2UoZXJyb3IpIHtcclxuICAgICAgICBlcnJvciAhPT0gbnVsbCAmJiBlcnJvciAhPT0gdm9pZCAwID8gZXJyb3IgOiAoZXJyb3IgPSBuZXcgRXJyb3IoXCJVbmFibGUgdG8gcmVjb25uZWN0IHRvIHNlcnZlci5cIikpO1xyXG4gICAgICAgIC8vIFVuYmxvY2sgYmFja3ByZXNzdXJlIGlmIGFueVxyXG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLl9tZXNzYWdlcykge1xyXG4gICAgICAgICAgICBlbGVtZW50Ll9yZWplY3RvcihlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2lzSW52b2NhdGlvbk1lc3NhZ2UobWVzc2FnZSkge1xyXG4gICAgICAgIC8vIFRoZXJlIGlzIG5vIHdheSB0byBjaGVjayBpZiBzb21ldGhpbmcgaW1wbGVtZW50cyBhbiBpbnRlcmZhY2UuXHJcbiAgICAgICAgLy8gU28gd2UgaW5kaXZpZHVhbGx5IGNoZWNrIHRoZSBtZXNzYWdlcyBpbiBhIHN3aXRjaCBzdGF0ZW1lbnQuXHJcbiAgICAgICAgLy8gVG8gbWFrZSBzdXJlIHdlIGRvbid0IG1pc3MgYW55IG1lc3NhZ2UgdHlwZXMgd2UgcmVseSBvbiB0aGUgY29tcGlsZXJcclxuICAgICAgICAvLyBzZWVpbmcgdGhlIGZ1bmN0aW9uIHJldHVybnMgYSB2YWx1ZSBhbmQgaXQgd2lsbCBkbyB0aGVcclxuICAgICAgICAvLyBleGhhdXN0aXZlIGNoZWNrIGZvciB1cyBvbiB0aGUgc3dpdGNoIHN0YXRlbWVudCwgc2luY2Ugd2UgZG9uJ3QgdXNlICdjYXNlIGRlZmF1bHQnXHJcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5JbnZvY2F0aW9uOlxyXG4gICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLlN0cmVhbUl0ZW06XHJcbiAgICAgICAgICAgIGNhc2UgTWVzc2FnZVR5cGUuQ29tcGxldGlvbjpcclxuICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5TdHJlYW1JbnZvY2F0aW9uOlxyXG4gICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLkNhbmNlbEludm9jYXRpb246XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5DbG9zZTpcclxuICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5TZXF1ZW5jZTpcclxuICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5QaW5nOlxyXG4gICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLkFjazpcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfYWNrVGltZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Fja1RpbWVySGFuZGxlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fYWNrVGltZXJIYW5kbGUgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9yZWNvbm5lY3RJblByb2dyZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX2Nvbm5lY3Rpb24uc2VuZCh0aGlzLl9wcm90b2NvbC53cml0ZU1lc3NhZ2UoeyB0eXBlOiBNZXNzYWdlVHlwZS5BY2ssIHNlcXVlbmNlSWQ6IHRoaXMuX2xhdGVzdFJlY2VpdmVkU2VxdWVuY2VJZCB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBlcnJvcnMsIHRoYXQgbWVhbnMgdGhlIGNvbm5lY3Rpb24gaXMgY2xvc2VkIGFuZCB3ZSBkb24ndCBjYXJlIGFib3V0IHRoZSBBY2sgbWVzc2FnZSBhbnltb3JlLlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggeyB9XHJcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fYWNrVGltZXJIYW5kbGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYWNrVGltZXJIYW5kbGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAvLyAxIHNlY29uZCBkZWxheSBzbyB3ZSBkb24ndCBzcGFtIEFjayBtZXNzYWdlcyBpZiB0aGVyZSBhcmUgbWFueSBtZXNzYWdlcyBiZWluZyByZWNlaXZlZCBhdCBvbmNlLlxyXG4gICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgQnVmZmVyZWRJdGVtIHtcclxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGlkLCByZXNvbHZlciwgcmVqZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9tZXNzYWdlID0gbWVzc2FnZTtcclxuICAgICAgICB0aGlzLl9pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMuX3Jlc29sdmVyID0gcmVzb2x2ZXI7XHJcbiAgICAgICAgdGhpcy5fcmVqZWN0b3IgPSByZWplY3RvcjtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZXNzYWdlQnVmZmVyLmpzLm1hcCJdLCJuYW1lcyI6WyJNZXNzYWdlVHlwZSIsImlzQXJyYXlCdWZmZXIiLCJNZXNzYWdlQnVmZmVyIiwiY29uc3RydWN0b3IiLCJwcm90b2NvbCIsImNvbm5lY3Rpb24iLCJidWZmZXJTaXplIiwiX2J1ZmZlclNpemUiLCJfbWVzc2FnZXMiLCJfdG90YWxNZXNzYWdlQ291bnQiLCJfd2FpdEZvclNlcXVlbmNlTWVzc2FnZSIsIl9uZXh0UmVjZWl2aW5nU2VxdWVuY2VJZCIsIl9sYXRlc3RSZWNlaXZlZFNlcXVlbmNlSWQiLCJfYnVmZmVyZWRCeXRlQ291bnQiLCJfcmVjb25uZWN0SW5Qcm9ncmVzcyIsIl9wcm90b2NvbCIsIl9jb25uZWN0aW9uIiwiX3NlbmQiLCJtZXNzYWdlIiwic2VyaWFsaXplZE1lc3NhZ2UiLCJ3cml0ZU1lc3NhZ2UiLCJiYWNrcHJlc3N1cmVQcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJfaXNJbnZvY2F0aW9uTWVzc2FnZSIsImJhY2twcmVzc3VyZVByb21pc2VSZXNvbHZlciIsImJhY2twcmVzc3VyZVByb21pc2VSZWplY3RvciIsImJ5dGVMZW5ndGgiLCJsZW5ndGgiLCJyZWplY3QiLCJwdXNoIiwiQnVmZmVyZWRJdGVtIiwic2VuZCIsIl9kaXNjb25uZWN0ZWQiLCJfYWNrIiwiYWNrTWVzc2FnZSIsIm5ld2VzdEFja2VkTWVzc2FnZSIsImluZGV4IiwiZWxlbWVudCIsIl9pZCIsInNlcXVlbmNlSWQiLCJfbWVzc2FnZSIsIl9yZXNvbHZlciIsInNsaWNlIiwiX3Nob3VsZFByb2Nlc3NNZXNzYWdlIiwidHlwZSIsIlNlcXVlbmNlIiwiY3VycmVudElkIiwiX2Fja1RpbWVyIiwiX3Jlc2V0U2VxdWVuY2UiLCJzdG9wIiwiRXJyb3IiLCJfcmVzZW5kIiwibWVzc2FnZXMiLCJfZGlzcG9zZSIsImVycm9yIiwiX3JlamVjdG9yIiwiSW52b2NhdGlvbiIsIlN0cmVhbUl0ZW0iLCJDb21wbGV0aW9uIiwiU3RyZWFtSW52b2NhdGlvbiIsIkNhbmNlbEludm9jYXRpb24iLCJDbG9zZSIsIlBpbmciLCJBY2siLCJfYWNrVGltZXJIYW5kbGUiLCJ1bmRlZmluZWQiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiaWQiLCJyZXNvbHZlciIsInJlamVjdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/MessageBuffer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/ServerSentEventsTransport.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/ServerSentEventsTransport.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ServerSentEventsTransport: () => (/* binding */ ServerSentEventsTransport)\n/* harmony export */ });\n/* harmony import */ var _ILogger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ILogger */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/ILogger.js\");\n/* harmony import */ var _ITransport__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ITransport */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/ITransport.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Utils.js\");\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n\n\n\n/** @private */ class ServerSentEventsTransport {\n    constructor(httpClient, accessToken, logger, options){\n        this._httpClient = httpClient;\n        this._accessToken = accessToken;\n        this._logger = logger;\n        this._options = options;\n        this.onreceive = null;\n        this.onclose = null;\n    }\n    async connect(url, transferFormat) {\n        _Utils__WEBPACK_IMPORTED_MODULE_0__.Arg.isRequired(url, \"url\");\n        _Utils__WEBPACK_IMPORTED_MODULE_0__.Arg.isRequired(transferFormat, \"transferFormat\");\n        _Utils__WEBPACK_IMPORTED_MODULE_0__.Arg.isIn(transferFormat, _ITransport__WEBPACK_IMPORTED_MODULE_1__.TransferFormat, \"transferFormat\");\n        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Trace, \"(SSE transport) Connecting.\");\n        // set url before accessTokenFactory because this._url is only for send and we set the auth header instead of the query string for send\n        this._url = url;\n        if (this._accessToken) {\n            url += (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + `access_token=${encodeURIComponent(this._accessToken)}`;\n        }\n        return new Promise((resolve, reject)=>{\n            let opened = false;\n            if (transferFormat !== _ITransport__WEBPACK_IMPORTED_MODULE_1__.TransferFormat.Text) {\n                reject(new Error(\"The Server-Sent Events transport only supports the 'Text' transfer format\"));\n                return;\n            }\n            let eventSource;\n            if (_Utils__WEBPACK_IMPORTED_MODULE_0__.Platform.isBrowser || _Utils__WEBPACK_IMPORTED_MODULE_0__.Platform.isWebWorker) {\n                eventSource = new this._options.EventSource(url, {\n                    withCredentials: this._options.withCredentials\n                });\n            } else {\n                // Non-browser passes cookies via the dictionary\n                const cookies = this._httpClient.getCookieString(url);\n                const headers = {};\n                headers.Cookie = cookies;\n                const [name, value] = (0,_Utils__WEBPACK_IMPORTED_MODULE_0__.getUserAgentHeader)();\n                headers[name] = value;\n                eventSource = new this._options.EventSource(url, {\n                    withCredentials: this._options.withCredentials,\n                    headers: {\n                        ...headers,\n                        ...this._options.headers\n                    }\n                });\n            }\n            try {\n                eventSource.onmessage = (e)=>{\n                    if (this.onreceive) {\n                        try {\n                            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Trace, `(SSE transport) data received. ${(0,_Utils__WEBPACK_IMPORTED_MODULE_0__.getDataDetail)(e.data, this._options.logMessageContent)}.`);\n                            this.onreceive(e.data);\n                        } catch (error) {\n                            this._close(error);\n                            return;\n                        }\n                    }\n                };\n                // @ts-ignore: not using event on purpose\n                eventSource.onerror = (e)=>{\n                    // EventSource doesn't give any useful information about server side closes.\n                    if (opened) {\n                        this._close();\n                    } else {\n                        reject(new Error(\"EventSource failed to connect. The connection could not be found on the server,\" + \" either the connection ID is not present on the server, or a proxy is refusing/buffering the connection.\" + \" If you have multiple servers check that sticky sessions are enabled.\"));\n                    }\n                };\n                eventSource.onopen = ()=>{\n                    this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Information, `SSE connected to ${this._url}`);\n                    this._eventSource = eventSource;\n                    opened = true;\n                    resolve();\n                };\n            } catch (e) {\n                reject(e);\n                return;\n            }\n        });\n    }\n    async send(data) {\n        if (!this._eventSource) {\n            return Promise.reject(new Error(\"Cannot send until the transport is connected\"));\n        }\n        return (0,_Utils__WEBPACK_IMPORTED_MODULE_0__.sendMessage)(this._logger, \"SSE\", this._httpClient, this._url, data, this._options);\n    }\n    stop() {\n        this._close();\n        return Promise.resolve();\n    }\n    _close(e) {\n        if (this._eventSource) {\n            this._eventSource.close();\n            this._eventSource = undefined;\n            if (this.onclose) {\n                this.onclose(e);\n            }\n        }\n    }\n} //# sourceMappingURL=ServerSentEventsTransport.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL1NlcnZlclNlbnRFdmVudHNUcmFuc3BvcnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLGdFQUFnRTtBQUNoRSx1RUFBdUU7QUFDbEM7QUFDUztBQUMwQztBQUN4RixhQUFhLEdBQ04sTUFBTU87SUFDVEMsWUFBWUMsVUFBVSxFQUFFQyxXQUFXLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxDQUFFO1FBQ2xELElBQUksQ0FBQ0MsV0FBVyxHQUFHSjtRQUNuQixJQUFJLENBQUNLLFlBQVksR0FBR0o7UUFDcEIsSUFBSSxDQUFDSyxPQUFPLEdBQUdKO1FBQ2YsSUFBSSxDQUFDSyxRQUFRLEdBQUdKO1FBQ2hCLElBQUksQ0FBQ0ssU0FBUyxHQUFHO1FBQ2pCLElBQUksQ0FBQ0MsT0FBTyxHQUFHO0lBQ25CO0lBQ0EsTUFBTUMsUUFBUUMsR0FBRyxFQUFFQyxjQUFjLEVBQUU7UUFDL0JuQix1Q0FBR0EsQ0FBQ29CLFVBQVUsQ0FBQ0YsS0FBSztRQUNwQmxCLHVDQUFHQSxDQUFDb0IsVUFBVSxDQUFDRCxnQkFBZ0I7UUFDL0JuQix1Q0FBR0EsQ0FBQ3FCLElBQUksQ0FBQ0YsZ0JBQWdCcEIsdURBQWNBLEVBQUU7UUFDekMsSUFBSSxDQUFDYyxPQUFPLENBQUNTLEdBQUcsQ0FBQ3hCLDhDQUFRQSxDQUFDeUIsS0FBSyxFQUFFO1FBQ2pDLHVJQUF1STtRQUN2SSxJQUFJLENBQUNDLElBQUksR0FBR047UUFDWixJQUFJLElBQUksQ0FBQ04sWUFBWSxFQUFFO1lBQ25CTSxPQUFPLENBQUNBLElBQUlPLE9BQU8sQ0FBQyxPQUFPLElBQUksTUFBTSxHQUFFLElBQUssQ0FBQyxhQUFhLEVBQUVDLG1CQUFtQixJQUFJLENBQUNkLFlBQVksRUFBRSxDQUFDO1FBQ3ZHO1FBQ0EsT0FBTyxJQUFJZSxRQUFRLENBQUNDLFNBQVNDO1lBQ3pCLElBQUlDLFNBQVM7WUFDYixJQUFJWCxtQkFBbUJwQix1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QVksR0FBR0k7WUFDcEIsSUFBSSxJQUFJLENBQUN6QyxPQUFPLEVBQUU7Z0JBQ2QsSUFBSSxDQUFDQSxPQUFPLENBQUM2QjtZQUNqQjtRQUNKO0lBQ0o7QUFDSixFQUNBLHFEQUFxRCIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi1zb2NrZXRzLWNoYXQtY2xpZW50LWFwcC8uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L3NpZ25hbHIvZGlzdC9lc20vU2VydmVyU2VudEV2ZW50c1RyYW5zcG9ydC5qcz8wOTRlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuaW1wb3J0IHsgTG9nTGV2ZWwgfSBmcm9tIFwiLi9JTG9nZ2VyXCI7XHJcbmltcG9ydCB7IFRyYW5zZmVyRm9ybWF0IH0gZnJvbSBcIi4vSVRyYW5zcG9ydFwiO1xyXG5pbXBvcnQgeyBBcmcsIGdldERhdGFEZXRhaWwsIGdldFVzZXJBZ2VudEhlYWRlciwgUGxhdGZvcm0sIHNlbmRNZXNzYWdlIH0gZnJvbSBcIi4vVXRpbHNcIjtcclxuLyoqIEBwcml2YXRlICovXHJcbmV4cG9ydCBjbGFzcyBTZXJ2ZXJTZW50RXZlbnRzVHJhbnNwb3J0IHtcclxuICAgIGNvbnN0cnVjdG9yKGh0dHBDbGllbnQsIGFjY2Vzc1Rva2VuLCBsb2dnZXIsIG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLl9odHRwQ2xpZW50ID0gaHR0cENsaWVudDtcclxuICAgICAgICB0aGlzLl9hY2Nlc3NUb2tlbiA9IGFjY2Vzc1Rva2VuO1xyXG4gICAgICAgIHRoaXMuX2xvZ2dlciA9IGxvZ2dlcjtcclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICB0aGlzLm9ucmVjZWl2ZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5vbmNsb3NlID0gbnVsbDtcclxuICAgIH1cclxuICAgIGFzeW5jIGNvbm5lY3QodXJsLCB0cmFuc2ZlckZvcm1hdCkge1xyXG4gICAgICAgIEFyZy5pc1JlcXVpcmVkKHVybCwgXCJ1cmxcIik7XHJcbiAgICAgICAgQXJnLmlzUmVxdWlyZWQodHJhbnNmZXJGb3JtYXQsIFwidHJhbnNmZXJGb3JtYXRcIik7XHJcbiAgICAgICAgQXJnLmlzSW4odHJhbnNmZXJGb3JtYXQsIFRyYW5zZmVyRm9ybWF0LCBcInRyYW5zZmVyRm9ybWF0XCIpO1xyXG4gICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuVHJhY2UsIFwiKFNTRSB0cmFuc3BvcnQpIENvbm5lY3RpbmcuXCIpO1xyXG4gICAgICAgIC8vIHNldCB1cmwgYmVmb3JlIGFjY2Vzc1Rva2VuRmFjdG9yeSBiZWNhdXNlIHRoaXMuX3VybCBpcyBvbmx5IGZvciBzZW5kIGFuZCB3ZSBzZXQgdGhlIGF1dGggaGVhZGVyIGluc3RlYWQgb2YgdGhlIHF1ZXJ5IHN0cmluZyBmb3Igc2VuZFxyXG4gICAgICAgIHRoaXMuX3VybCA9IHVybDtcclxuICAgICAgICBpZiAodGhpcy5fYWNjZXNzVG9rZW4pIHtcclxuICAgICAgICAgICAgdXJsICs9ICh1cmwuaW5kZXhPZihcIj9cIikgPCAwID8gXCI/XCIgOiBcIiZcIikgKyBgYWNjZXNzX3Rva2VuPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuX2FjY2Vzc1Rva2VuKX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgb3BlbmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmICh0cmFuc2ZlckZvcm1hdCAhPT0gVHJhbnNmZXJGb3JtYXQuVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIlRoZSBTZXJ2ZXItU2VudCBFdmVudHMgdHJhbnNwb3J0IG9ubHkgc3VwcG9ydHMgdGhlICdUZXh0JyB0cmFuc2ZlciBmb3JtYXRcIikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBldmVudFNvdXJjZTtcclxuICAgICAgICAgICAgaWYgKFBsYXRmb3JtLmlzQnJvd3NlciB8fCBQbGF0Zm9ybS5pc1dlYldvcmtlcikge1xyXG4gICAgICAgICAgICAgICAgZXZlbnRTb3VyY2UgPSBuZXcgdGhpcy5fb3B0aW9ucy5FdmVudFNvdXJjZSh1cmwsIHsgd2l0aENyZWRlbnRpYWxzOiB0aGlzLl9vcHRpb25zLndpdGhDcmVkZW50aWFscyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIE5vbi1icm93c2VyIHBhc3NlcyBjb29raWVzIHZpYSB0aGUgZGljdGlvbmFyeVxyXG4gICAgICAgICAgICAgICAgY29uc3QgY29va2llcyA9IHRoaXMuX2h0dHBDbGllbnQuZ2V0Q29va2llU3RyaW5nKHVybCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJzID0ge307XHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzLkNvb2tpZSA9IGNvb2tpZXM7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBbbmFtZSwgdmFsdWVdID0gZ2V0VXNlckFnZW50SGVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzW25hbWVdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBldmVudFNvdXJjZSA9IG5ldyB0aGlzLl9vcHRpb25zLkV2ZW50U291cmNlKHVybCwgeyB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuX29wdGlvbnMud2l0aENyZWRlbnRpYWxzLCBoZWFkZXJzOiB7IC4uLmhlYWRlcnMsIC4uLnRoaXMuX29wdGlvbnMuaGVhZGVycyB9IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBldmVudFNvdXJjZS5vbm1lc3NhZ2UgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9ucmVjZWl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5UcmFjZSwgYChTU0UgdHJhbnNwb3J0KSBkYXRhIHJlY2VpdmVkLiAke2dldERhdGFEZXRhaWwoZS5kYXRhLCB0aGlzLl9vcHRpb25zLmxvZ01lc3NhZ2VDb250ZW50KX0uYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9ucmVjZWl2ZShlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xvc2UoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IG5vdCB1c2luZyBldmVudCBvbiBwdXJwb3NlXHJcbiAgICAgICAgICAgICAgICBldmVudFNvdXJjZS5vbmVycm9yID0gKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBFdmVudFNvdXJjZSBkb2Vzbid0IGdpdmUgYW55IHVzZWZ1bCBpbmZvcm1hdGlvbiBhYm91dCBzZXJ2ZXIgc2lkZSBjbG9zZXMuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wZW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIkV2ZW50U291cmNlIGZhaWxlZCB0byBjb25uZWN0LiBUaGUgY29ubmVjdGlvbiBjb3VsZCBub3QgYmUgZm91bmQgb24gdGhlIHNlcnZlcixcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBcIiBlaXRoZXIgdGhlIGNvbm5lY3Rpb24gSUQgaXMgbm90IHByZXNlbnQgb24gdGhlIHNlcnZlciwgb3IgYSBwcm94eSBpcyByZWZ1c2luZy9idWZmZXJpbmcgdGhlIGNvbm5lY3Rpb24uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgXCIgSWYgeW91IGhhdmUgbXVsdGlwbGUgc2VydmVycyBjaGVjayB0aGF0IHN0aWNreSBzZXNzaW9ucyBhcmUgZW5hYmxlZC5cIikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBldmVudFNvdXJjZS5vbm9wZW4gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5JbmZvcm1hdGlvbiwgYFNTRSBjb25uZWN0ZWQgdG8gJHt0aGlzLl91cmx9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRTb3VyY2UgPSBldmVudFNvdXJjZTtcclxuICAgICAgICAgICAgICAgICAgICBvcGVuZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdChlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgc2VuZChkYXRhKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9ldmVudFNvdXJjZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiQ2Fubm90IHNlbmQgdW50aWwgdGhlIHRyYW5zcG9ydCBpcyBjb25uZWN0ZWRcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2VuZE1lc3NhZ2UodGhpcy5fbG9nZ2VyLCBcIlNTRVwiLCB0aGlzLl9odHRwQ2xpZW50LCB0aGlzLl91cmwsIGRhdGEsIHRoaXMuX29wdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICB0aGlzLl9jbG9zZSgpO1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgIH1cclxuICAgIF9jbG9zZShlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2V2ZW50U291cmNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50U291cmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50U291cmNlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vbmNsb3NlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2xvc2UoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2VydmVyU2VudEV2ZW50c1RyYW5zcG9ydC5qcy5tYXAiXSwibmFtZXMiOlsiTG9nTGV2ZWwiLCJUcmFuc2ZlckZvcm1hdCIsIkFyZyIsImdldERhdGFEZXRhaWwiLCJnZXRVc2VyQWdlbnRIZWFkZXIiLCJQbGF0Zm9ybSIsInNlbmRNZXNzYWdlIiwiU2VydmVyU2VudEV2ZW50c1RyYW5zcG9ydCIsImNvbnN0cnVjdG9yIiwiaHR0cENsaWVudCIsImFjY2Vzc1Rva2VuIiwibG9nZ2VyIiwib3B0aW9ucyIsIl9odHRwQ2xpZW50IiwiX2FjY2Vzc1Rva2VuIiwiX2xvZ2dlciIsIl9vcHRpb25zIiwib25yZWNlaXZlIiwib25jbG9zZSIsImNvbm5lY3QiLCJ1cmwiLCJ0cmFuc2ZlckZvcm1hdCIsImlzUmVxdWlyZWQiLCJpc0luIiwibG9nIiwiVHJhY2UiLCJfdXJsIiwiaW5kZXhPZiIsImVuY29kZVVSSUNvbXBvbmVudCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwib3BlbmVkIiwiVGV4dCIsIkVycm9yIiwiZXZlbnRTb3VyY2UiLCJpc0Jyb3dzZXIiLCJpc1dlYldvcmtlciIsIkV2ZW50U291cmNlIiwid2l0aENyZWRlbnRpYWxzIiwiY29va2llcyIsImdldENvb2tpZVN0cmluZyIsImhlYWRlcnMiLCJDb29raWUiLCJuYW1lIiwidmFsdWUiLCJvbm1lc3NhZ2UiLCJlIiwiZGF0YSIsImxvZ01lc3NhZ2VDb250ZW50IiwiZXJyb3IiLCJfY2xvc2UiLCJvbmVycm9yIiwib25vcGVuIiwiSW5mb3JtYXRpb24iLCJfZXZlbnRTb3VyY2UiLCJzZW5kIiwic3RvcCIsImNsb3NlIiwidW5kZWZpbmVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/ServerSentEventsTransport.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/Subject.js":
/*!*************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/Subject.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Subject: () => (/* binding */ Subject)\n/* harmony export */ });\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Utils.js\");\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n\n/** Stream implementation to stream items to the server. */ class Subject {\n    constructor(){\n        this.observers = [];\n    }\n    next(item) {\n        for (const observer of this.observers){\n            observer.next(item);\n        }\n    }\n    error(err) {\n        for (const observer of this.observers){\n            if (observer.error) {\n                observer.error(err);\n            }\n        }\n    }\n    complete() {\n        for (const observer of this.observers){\n            if (observer.complete) {\n                observer.complete();\n            }\n        }\n    }\n    subscribe(observer) {\n        this.observers.push(observer);\n        return new _Utils__WEBPACK_IMPORTED_MODULE_0__.SubjectSubscription(this, observer);\n    }\n} //# sourceMappingURL=Subject.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL1N1YmplY3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxnRUFBZ0U7QUFDaEUsdUVBQXVFO0FBQ3pCO0FBQzlDLHlEQUF5RCxHQUNsRCxNQUFNQztJQUNUQyxhQUFjO1FBQ1YsSUFBSSxDQUFDQyxTQUFTLEdBQUcsRUFBRTtJQUN2QjtJQUNBQyxLQUFLQyxJQUFJLEVBQUU7UUFDUCxLQUFLLE1BQU1DLFlBQVksSUFBSSxDQUFDSCxTQUFTLENBQUU7WUFDbkNHLFNBQVNGLElBQUksQ0FBQ0M7UUFDbEI7SUFDSjtJQUNBRSxNQUFNQyxHQUFHLEVBQUU7UUFDUCxLQUFLLE1BQU1GLFlBQVksSUFBSSxDQUFDSCxTQUFTLENBQUU7WUFDbkMsSUFBSUcsU0FBU0MsS0FBSyxFQUFFO2dCQUNoQkQsU0FBU0MsS0FBSyxDQUFDQztZQUNuQjtRQUNKO0lBQ0o7SUFDQUMsV0FBVztRQUNQLEtBQUssTUFBTUgsWUFBWSxJQUFJLENBQUNILFNBQVMsQ0FBRTtZQUNuQyxJQUFJRyxTQUFTRyxRQUFRLEVBQUU7Z0JBQ25CSCxTQUFTRyxRQUFRO1lBQ3JCO1FBQ0o7SUFDSjtJQUNBQyxVQUFVSixRQUFRLEVBQUU7UUFDaEIsSUFBSSxDQUFDSCxTQUFTLENBQUNRLElBQUksQ0FBQ0w7UUFDcEIsT0FBTyxJQUFJTix1REFBbUJBLENBQUMsSUFBSSxFQUFFTTtJQUN6QztBQUNKLEVBQ0EsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLXNvY2tldHMtY2hhdC1jbGllbnQtYXBwLy4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvc2lnbmFsci9kaXN0L2VzbS9TdWJqZWN0LmpzPzdlNGIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5pbXBvcnQgeyBTdWJqZWN0U3Vic2NyaXB0aW9uIH0gZnJvbSBcIi4vVXRpbHNcIjtcclxuLyoqIFN0cmVhbSBpbXBsZW1lbnRhdGlvbiB0byBzdHJlYW0gaXRlbXMgdG8gdGhlIHNlcnZlci4gKi9cclxuZXhwb3J0IGNsYXNzIFN1YmplY3Qge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBbXTtcclxuICAgIH1cclxuICAgIG5leHQoaXRlbSkge1xyXG4gICAgICAgIGZvciAoY29uc3Qgb2JzZXJ2ZXIgb2YgdGhpcy5vYnNlcnZlcnMpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChpdGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlcnJvcihlcnIpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IG9ic2VydmVyIG9mIHRoaXMub2JzZXJ2ZXJzKSB7XHJcbiAgICAgICAgICAgIGlmIChvYnNlcnZlci5lcnJvcikge1xyXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbXBsZXRlKCkge1xyXG4gICAgICAgIGZvciAoY29uc3Qgb2JzZXJ2ZXIgb2YgdGhpcy5vYnNlcnZlcnMpIHtcclxuICAgICAgICAgICAgaWYgKG9ic2VydmVyLmNvbXBsZXRlKSB7XHJcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3Vic2NyaWJlKG9ic2VydmVyKSB7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTdWJqZWN0U3Vic2NyaXB0aW9uKHRoaXMsIG9ic2VydmVyKTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJqZWN0LmpzLm1hcCJdLCJuYW1lcyI6WyJTdWJqZWN0U3Vic2NyaXB0aW9uIiwiU3ViamVjdCIsImNvbnN0cnVjdG9yIiwib2JzZXJ2ZXJzIiwibmV4dCIsIml0ZW0iLCJvYnNlcnZlciIsImVycm9yIiwiZXJyIiwiY29tcGxldGUiLCJzdWJzY3JpYmUiLCJwdXNoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/Subject.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/TextMessageFormat.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/TextMessageFormat.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TextMessageFormat: () => (/* binding */ TextMessageFormat)\n/* harmony export */ });\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n// Not exported from index\n/** @private */ class TextMessageFormat {\n    static write(output) {\n        return `${output}${TextMessageFormat.RecordSeparator}`;\n    }\n    static parse(input) {\n        if (input[input.length - 1] !== TextMessageFormat.RecordSeparator) {\n            throw new Error(\"Message is incomplete.\");\n        }\n        const messages = input.split(TextMessageFormat.RecordSeparator);\n        messages.pop();\n        return messages;\n    }\n}\nTextMessageFormat.RecordSeparatorCode = 0x1e;\nTextMessageFormat.RecordSeparator = String.fromCharCode(TextMessageFormat.RecordSeparatorCode); //# sourceMappingURL=TextMessageFormat.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL1RleHRNZXNzYWdlRm9ybWF0LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxnRUFBZ0U7QUFDaEUsdUVBQXVFO0FBQ3ZFLDBCQUEwQjtBQUMxQixhQUFhLEdBQ04sTUFBTUE7SUFDVCxPQUFPQyxNQUFNQyxNQUFNLEVBQUU7UUFDakIsT0FBTyxDQUFDLEVBQUVBLE9BQU8sRUFBRUYsa0JBQWtCRyxlQUFlLENBQUMsQ0FBQztJQUMxRDtJQUNBLE9BQU9DLE1BQU1DLEtBQUssRUFBRTtRQUNoQixJQUFJQSxLQUFLLENBQUNBLE1BQU1DLE1BQU0sR0FBRyxFQUFFLEtBQUtOLGtCQUFrQkcsZUFBZSxFQUFFO1lBQy9ELE1BQU0sSUFBSUksTUFBTTtRQUNwQjtRQUNBLE1BQU1DLFdBQVdILE1BQU1JLEtBQUssQ0FBQ1Qsa0JBQWtCRyxlQUFlO1FBQzlESyxTQUFTRSxHQUFHO1FBQ1osT0FBT0Y7SUFDWDtBQUNKO0FBQ0FSLGtCQUFrQlcsbUJBQW1CLEdBQUc7QUFDeENYLGtCQUFrQkcsZUFBZSxHQUFHUyxPQUFPQyxZQUFZLENBQUNiLGtCQUFrQlcsbUJBQW1CLEdBQzdGLDZDQUE2QyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi1zb2NrZXRzLWNoYXQtY2xpZW50LWFwcC8uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L3NpZ25hbHIvZGlzdC9lc20vVGV4dE1lc3NhZ2VGb3JtYXQuanM/ZjJkMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcbi8vIE5vdCBleHBvcnRlZCBmcm9tIGluZGV4XHJcbi8qKiBAcHJpdmF0ZSAqL1xyXG5leHBvcnQgY2xhc3MgVGV4dE1lc3NhZ2VGb3JtYXQge1xyXG4gICAgc3RhdGljIHdyaXRlKG91dHB1dCkge1xyXG4gICAgICAgIHJldHVybiBgJHtvdXRwdXR9JHtUZXh0TWVzc2FnZUZvcm1hdC5SZWNvcmRTZXBhcmF0b3J9YDtcclxuICAgIH1cclxuICAgIHN0YXRpYyBwYXJzZShpbnB1dCkge1xyXG4gICAgICAgIGlmIChpbnB1dFtpbnB1dC5sZW5ndGggLSAxXSAhPT0gVGV4dE1lc3NhZ2VGb3JtYXQuUmVjb3JkU2VwYXJhdG9yKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1lc3NhZ2UgaXMgaW5jb21wbGV0ZS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gaW5wdXQuc3BsaXQoVGV4dE1lc3NhZ2VGb3JtYXQuUmVjb3JkU2VwYXJhdG9yKTtcclxuICAgICAgICBtZXNzYWdlcy5wb3AoKTtcclxuICAgICAgICByZXR1cm4gbWVzc2FnZXM7XHJcbiAgICB9XHJcbn1cclxuVGV4dE1lc3NhZ2VGb3JtYXQuUmVjb3JkU2VwYXJhdG9yQ29kZSA9IDB4MWU7XHJcblRleHRNZXNzYWdlRm9ybWF0LlJlY29yZFNlcGFyYXRvciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoVGV4dE1lc3NhZ2VGb3JtYXQuUmVjb3JkU2VwYXJhdG9yQ29kZSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHRNZXNzYWdlRm9ybWF0LmpzLm1hcCJdLCJuYW1lcyI6WyJUZXh0TWVzc2FnZUZvcm1hdCIsIndyaXRlIiwib3V0cHV0IiwiUmVjb3JkU2VwYXJhdG9yIiwicGFyc2UiLCJpbnB1dCIsImxlbmd0aCIsIkVycm9yIiwibWVzc2FnZXMiLCJzcGxpdCIsInBvcCIsIlJlY29yZFNlcGFyYXRvckNvZGUiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/TextMessageFormat.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/Utils.js":
/*!***********************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/Utils.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Arg: () => (/* binding */ Arg),\n/* harmony export */   ConsoleLogger: () => (/* binding */ ConsoleLogger),\n/* harmony export */   Platform: () => (/* binding */ Platform),\n/* harmony export */   SubjectSubscription: () => (/* binding */ SubjectSubscription),\n/* harmony export */   VERSION: () => (/* binding */ VERSION),\n/* harmony export */   constructUserAgent: () => (/* binding */ constructUserAgent),\n/* harmony export */   createLogger: () => (/* binding */ createLogger),\n/* harmony export */   formatArrayBuffer: () => (/* binding */ formatArrayBuffer),\n/* harmony export */   getDataDetail: () => (/* binding */ getDataDetail),\n/* harmony export */   getErrorString: () => (/* binding */ getErrorString),\n/* harmony export */   getGlobalThis: () => (/* binding */ getGlobalThis),\n/* harmony export */   getUserAgentHeader: () => (/* binding */ getUserAgentHeader),\n/* harmony export */   isArrayBuffer: () => (/* binding */ isArrayBuffer),\n/* harmony export */   sendMessage: () => (/* binding */ sendMessage)\n/* harmony export */ });\n/* harmony import */ var _ILogger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ILogger */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/ILogger.js\");\n/* harmony import */ var _Loggers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Loggers */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Loggers.js\");\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n\n\n// Version token that will be replaced by the prepack command\n/** The version of the SignalR client. */ const VERSION = \"8.0.0\";\n/** @private */ class Arg {\n    static isRequired(val, name) {\n        if (val === null || val === undefined) {\n            throw new Error(`The '${name}' argument is required.`);\n        }\n    }\n    static isNotEmpty(val, name) {\n        if (!val || val.match(/^\\s*$/)) {\n            throw new Error(`The '${name}' argument should not be empty.`);\n        }\n    }\n    static isIn(val, values, name) {\n        // TypeScript enums have keys for **both** the name and the value of each enum member on the type itself.\n        if (!(val in values)) {\n            throw new Error(`Unknown ${name} value: ${val}.`);\n        }\n    }\n}\n/** @private */ class Platform {\n    // react-native has a window but no document so we should check both\n    static get isBrowser() {\n        return !Platform.isNode && \"undefined\" === \"object\" && 0;\n    }\n    // WebWorkers don't have a window object so the isBrowser check would fail\n    static get isWebWorker() {\n        return !Platform.isNode && typeof self === \"object\" && \"importScripts\" in self;\n    }\n    // react-native has a window but no document\n    static get isReactNative() {\n        return !Platform.isNode && \"undefined\" === \"object\" && 0;\n    }\n    // Node apps shouldn't have a window object, but WebWorkers don't either\n    // so we need to check for both WebWorker and window\n    static get isNode() {\n        return typeof process !== \"undefined\" && process.release && process.release.name === \"node\";\n    }\n}\n/** @private */ function getDataDetail(data, includeContent) {\n    let detail = \"\";\n    if (isArrayBuffer(data)) {\n        detail = `Binary data of length ${data.byteLength}`;\n        if (includeContent) {\n            detail += `. Content: '${formatArrayBuffer(data)}'`;\n        }\n    } else if (typeof data === \"string\") {\n        detail = `String data of length ${data.length}`;\n        if (includeContent) {\n            detail += `. Content: '${data}'`;\n        }\n    }\n    return detail;\n}\n/** @private */ function formatArrayBuffer(data) {\n    const view = new Uint8Array(data);\n    // Uint8Array.map only supports returning another Uint8Array?\n    let str = \"\";\n    view.forEach((num)=>{\n        const pad = num < 16 ? \"0\" : \"\";\n        str += `0x${pad}${num.toString(16)} `;\n    });\n    // Trim of trailing space.\n    return str.substr(0, str.length - 1);\n}\n// Also in signalr-protocol-msgpack/Utils.ts\n/** @private */ function isArrayBuffer(val) {\n    return val && typeof ArrayBuffer !== \"undefined\" && (val instanceof ArrayBuffer || // Sometimes we get an ArrayBuffer that doesn't satisfy instanceof\n    val.constructor && val.constructor.name === \"ArrayBuffer\");\n}\n/** @private */ async function sendMessage(logger, transportName, httpClient, url, content, options) {\n    const headers = {};\n    const [name, value] = getUserAgentHeader();\n    headers[name] = value;\n    logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Trace, `(${transportName} transport) sending data. ${getDataDetail(content, options.logMessageContent)}.`);\n    const responseType = isArrayBuffer(content) ? \"arraybuffer\" : \"text\";\n    const response = await httpClient.post(url, {\n        content,\n        headers: {\n            ...headers,\n            ...options.headers\n        },\n        responseType,\n        timeout: options.timeout,\n        withCredentials: options.withCredentials\n    });\n    logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Trace, `(${transportName} transport) request complete. Response status: ${response.statusCode}.`);\n}\n/** @private */ function createLogger(logger) {\n    if (logger === undefined) {\n        return new ConsoleLogger(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Information);\n    }\n    if (logger === null) {\n        return _Loggers__WEBPACK_IMPORTED_MODULE_1__.NullLogger.instance;\n    }\n    if (logger.log !== undefined) {\n        return logger;\n    }\n    return new ConsoleLogger(logger);\n}\n/** @private */ class SubjectSubscription {\n    constructor(subject, observer){\n        this._subject = subject;\n        this._observer = observer;\n    }\n    dispose() {\n        const index = this._subject.observers.indexOf(this._observer);\n        if (index > -1) {\n            this._subject.observers.splice(index, 1);\n        }\n        if (this._subject.observers.length === 0 && this._subject.cancelCallback) {\n            this._subject.cancelCallback().catch((_)=>{});\n        }\n    }\n}\n/** @private */ class ConsoleLogger {\n    constructor(minimumLogLevel){\n        this._minLevel = minimumLogLevel;\n        this.out = console;\n    }\n    log(logLevel, message) {\n        if (logLevel >= this._minLevel) {\n            const msg = `[${new Date().toISOString()}] ${_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel[logLevel]}: ${message}`;\n            switch(logLevel){\n                case _ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Critical:\n                case _ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Error:\n                    this.out.error(msg);\n                    break;\n                case _ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Warning:\n                    this.out.warn(msg);\n                    break;\n                case _ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Information:\n                    this.out.info(msg);\n                    break;\n                default:\n                    // console.debug only goes to attached debuggers in Node, so we use console.log for Trace and Debug\n                    this.out.log(msg);\n                    break;\n            }\n        }\n    }\n}\n/** @private */ function getUserAgentHeader() {\n    let userAgentHeaderName = \"X-SignalR-User-Agent\";\n    if (Platform.isNode) {\n        userAgentHeaderName = \"User-Agent\";\n    }\n    return [\n        userAgentHeaderName,\n        constructUserAgent(VERSION, getOsName(), getRuntime(), getRuntimeVersion())\n    ];\n}\n/** @private */ function constructUserAgent(version, os, runtime, runtimeVersion) {\n    // Microsoft SignalR/[Version] ([Detailed Version]; [Operating System]; [Runtime]; [Runtime Version])\n    let userAgent = \"Microsoft SignalR/\";\n    const majorAndMinor = version.split(\".\");\n    userAgent += `${majorAndMinor[0]}.${majorAndMinor[1]}`;\n    userAgent += ` (${version}; `;\n    if (os && os !== \"\") {\n        userAgent += `${os}; `;\n    } else {\n        userAgent += \"Unknown OS; \";\n    }\n    userAgent += `${runtime}`;\n    if (runtimeVersion) {\n        userAgent += `; ${runtimeVersion}`;\n    } else {\n        userAgent += \"; Unknown Runtime Version\";\n    }\n    userAgent += \")\";\n    return userAgent;\n}\n// eslint-disable-next-line spaced-comment\n/*#__PURE__*/ function getOsName() {\n    if (Platform.isNode) {\n        switch(process.platform){\n            case \"win32\":\n                return \"Windows NT\";\n            case \"darwin\":\n                return \"macOS\";\n            case \"linux\":\n                return \"Linux\";\n            default:\n                return process.platform;\n        }\n    } else {\n        return \"\";\n    }\n}\n// eslint-disable-next-line spaced-comment\n/*#__PURE__*/ function getRuntimeVersion() {\n    if (Platform.isNode) {\n        return process.versions.node;\n    }\n    return undefined;\n}\nfunction getRuntime() {\n    if (Platform.isNode) {\n        return \"NodeJS\";\n    } else {\n        return \"Browser\";\n    }\n}\n/** @private */ function getErrorString(e) {\n    if (e.stack) {\n        return e.stack;\n    } else if (e.message) {\n        return e.message;\n    }\n    return `${e}`;\n}\n/** @private */ function getGlobalThis() {\n    // globalThis is semi-new and not available in Node until v12\n    if (typeof globalThis !== \"undefined\") {\n        return globalThis;\n    }\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    if (false) {}\n    if (typeof global !== \"undefined\") {\n        return global;\n    }\n    throw new Error(\"could not find global\");\n} //# sourceMappingURL=Utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL1V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxnRUFBZ0U7QUFDaEUsdUVBQXVFO0FBQ2xDO0FBQ0U7QUFDdkMsNkRBQTZEO0FBQzdELHVDQUF1QyxHQUNoQyxNQUFNRSxVQUFVLFFBQVE7QUFDL0IsYUFBYSxHQUNOLE1BQU1DO0lBQ1QsT0FBT0MsV0FBV0MsR0FBRyxFQUFFQyxJQUFJLEVBQUU7UUFDekIsSUFBSUQsUUFBUSxRQUFRQSxRQUFRRSxXQUFXO1lBQ25DLE1BQU0sSUFBSUMsTUFBTSxDQUFDLEtBQUssRUFBRUYsS0FBSyx1QkFBdUIsQ0FBQztRQUN6RDtJQUNKO0lBQ0EsT0FBT0csV0FBV0osR0FBRyxFQUFFQyxJQUFJLEVBQUU7UUFDekIsSUFBSSxDQUFDRCxPQUFPQSxJQUFJSyxLQUFLLENBQUMsVUFBVTtZQUM1QixNQUFNLElBQUlGLE1BQU0sQ0FBQyxLQUFLLEVBQUVGLEtBQUssK0JBQStCLENBQUM7UUFDakU7SUFDSjtJQUNBLE9BQU9LLEtBQUtOLEdBQUcsRUFBRU8sTUFBTSxFQUFFTixJQUFJLEVBQUU7UUFDM0IseUdBQXlHO1FBQ3pHLElBQUksQ0FBRUQsQ0FBQUEsT0FBT08sTUFBSyxHQUFJO1lBQ2xCLE1BQU0sSUFBSUosTUFBTSxDQUFDLFFBQVEsRUFBRUYsS0FBSyxRQUFRLEVBQUVELElBQUksQ0FBQyxDQUFDO1FBQ3BEO0lBQ0o7QUFDSjtBQUNBLGFBQWEsR0FDTixNQUFNUTtJQUNULG9FQUFvRTtJQUNwRSxXQUFXQyxZQUFZO1FBQ25CLE9BQU8sQ0FBQ0QsU0FBU0UsTUFBTSxJQUFJLGdCQUFrQixZQUFZLENBQW1DO0lBQ2hHO0lBQ0EsMEVBQTBFO0lBQzFFLFdBQVdHLGNBQWM7UUFDckIsT0FBTyxDQUFDTCxTQUFTRSxNQUFNLElBQUksT0FBT0ksU0FBUyxZQUFZLG1CQUFtQkE7SUFDOUU7SUFDQSw0Q0FBNEM7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QUFJdkcsTUFBTTtBQUNwQixFQUNBLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi1zb2NrZXRzLWNoYXQtY2xpZW50LWFwcC8uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L3NpZ25hbHIvZGlzdC9lc20vVXRpbHMuanM/Y2JlMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcbmltcG9ydCB7IExvZ0xldmVsIH0gZnJvbSBcIi4vSUxvZ2dlclwiO1xyXG5pbXBvcnQgeyBOdWxsTG9nZ2VyIH0gZnJvbSBcIi4vTG9nZ2Vyc1wiO1xyXG4vLyBWZXJzaW9uIHRva2VuIHRoYXQgd2lsbCBiZSByZXBsYWNlZCBieSB0aGUgcHJlcGFjayBjb21tYW5kXHJcbi8qKiBUaGUgdmVyc2lvbiBvZiB0aGUgU2lnbmFsUiBjbGllbnQuICovXHJcbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gXCI4LjAuMFwiO1xyXG4vKiogQHByaXZhdGUgKi9cclxuZXhwb3J0IGNsYXNzIEFyZyB7XHJcbiAgICBzdGF0aWMgaXNSZXF1aXJlZCh2YWwsIG5hbWUpIHtcclxuICAgICAgICBpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlICcke25hbWV9JyBhcmd1bWVudCBpcyByZXF1aXJlZC5gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgaXNOb3RFbXB0eSh2YWwsIG5hbWUpIHtcclxuICAgICAgICBpZiAoIXZhbCB8fCB2YWwubWF0Y2goL15cXHMqJC8pKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlICcke25hbWV9JyBhcmd1bWVudCBzaG91bGQgbm90IGJlIGVtcHR5LmApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0YXRpYyBpc0luKHZhbCwgdmFsdWVzLCBuYW1lKSB7XHJcbiAgICAgICAgLy8gVHlwZVNjcmlwdCBlbnVtcyBoYXZlIGtleXMgZm9yICoqYm90aCoqIHRoZSBuYW1lIGFuZCB0aGUgdmFsdWUgb2YgZWFjaCBlbnVtIG1lbWJlciBvbiB0aGUgdHlwZSBpdHNlbGYuXHJcbiAgICAgICAgaWYgKCEodmFsIGluIHZhbHVlcykpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duICR7bmFtZX0gdmFsdWU6ICR7dmFsfS5gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqIEBwcml2YXRlICovXHJcbmV4cG9ydCBjbGFzcyBQbGF0Zm9ybSB7XHJcbiAgICAvLyByZWFjdC1uYXRpdmUgaGFzIGEgd2luZG93IGJ1dCBubyBkb2N1bWVudCBzbyB3ZSBzaG91bGQgY2hlY2sgYm90aFxyXG4gICAgc3RhdGljIGdldCBpc0Jyb3dzZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuICFQbGF0Zm9ybS5pc05vZGUgJiYgdHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ID09PSBcIm9iamVjdFwiO1xyXG4gICAgfVxyXG4gICAgLy8gV2ViV29ya2VycyBkb24ndCBoYXZlIGEgd2luZG93IG9iamVjdCBzbyB0aGUgaXNCcm93c2VyIGNoZWNrIHdvdWxkIGZhaWxcclxuICAgIHN0YXRpYyBnZXQgaXNXZWJXb3JrZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuICFQbGF0Zm9ybS5pc05vZGUgJiYgdHlwZW9mIHNlbGYgPT09IFwib2JqZWN0XCIgJiYgXCJpbXBvcnRTY3JpcHRzXCIgaW4gc2VsZjtcclxuICAgIH1cclxuICAgIC8vIHJlYWN0LW5hdGl2ZSBoYXMgYSB3aW5kb3cgYnV0IG5vIGRvY3VtZW50XHJcbiAgICBzdGF0aWMgZ2V0IGlzUmVhY3ROYXRpdmUoKSB7XHJcbiAgICAgICAgcmV0dXJuICFQbGF0Zm9ybS5pc05vZGUgJiYgdHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiO1xyXG4gICAgfVxyXG4gICAgLy8gTm9kZSBhcHBzIHNob3VsZG4ndCBoYXZlIGEgd2luZG93IG9iamVjdCwgYnV0IFdlYldvcmtlcnMgZG9uJ3QgZWl0aGVyXHJcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIGNoZWNrIGZvciBib3RoIFdlYldvcmtlciBhbmQgd2luZG93XHJcbiAgICBzdGF0aWMgZ2V0IGlzTm9kZSgpIHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgcHJvY2Vzcy5yZWxlYXNlICYmIHByb2Nlc3MucmVsZWFzZS5uYW1lID09PSBcIm5vZGVcIjtcclxuICAgIH1cclxufVxyXG4vKiogQHByaXZhdGUgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldERhdGFEZXRhaWwoZGF0YSwgaW5jbHVkZUNvbnRlbnQpIHtcclxuICAgIGxldCBkZXRhaWwgPSBcIlwiO1xyXG4gICAgaWYgKGlzQXJyYXlCdWZmZXIoZGF0YSkpIHtcclxuICAgICAgICBkZXRhaWwgPSBgQmluYXJ5IGRhdGEgb2YgbGVuZ3RoICR7ZGF0YS5ieXRlTGVuZ3RofWA7XHJcbiAgICAgICAgaWYgKGluY2x1ZGVDb250ZW50KSB7XHJcbiAgICAgICAgICAgIGRldGFpbCArPSBgLiBDb250ZW50OiAnJHtmb3JtYXRBcnJheUJ1ZmZlcihkYXRhKX0nYDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgIGRldGFpbCA9IGBTdHJpbmcgZGF0YSBvZiBsZW5ndGggJHtkYXRhLmxlbmd0aH1gO1xyXG4gICAgICAgIGlmIChpbmNsdWRlQ29udGVudCkge1xyXG4gICAgICAgICAgICBkZXRhaWwgKz0gYC4gQ29udGVudDogJyR7ZGF0YX0nYDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGV0YWlsO1xyXG59XHJcbi8qKiBAcHJpdmF0ZSAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0QXJyYXlCdWZmZXIoZGF0YSkge1xyXG4gICAgY29uc3QgdmlldyA9IG5ldyBVaW50OEFycmF5KGRhdGEpO1xyXG4gICAgLy8gVWludDhBcnJheS5tYXAgb25seSBzdXBwb3J0cyByZXR1cm5pbmcgYW5vdGhlciBVaW50OEFycmF5P1xyXG4gICAgbGV0IHN0ciA9IFwiXCI7XHJcbiAgICB2aWV3LmZvckVhY2goKG51bSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHBhZCA9IG51bSA8IDE2ID8gXCIwXCIgOiBcIlwiO1xyXG4gICAgICAgIHN0ciArPSBgMHgke3BhZH0ke251bS50b1N0cmluZygxNil9IGA7XHJcbiAgICB9KTtcclxuICAgIC8vIFRyaW0gb2YgdHJhaWxpbmcgc3BhY2UuXHJcbiAgICByZXR1cm4gc3RyLnN1YnN0cigwLCBzdHIubGVuZ3RoIC0gMSk7XHJcbn1cclxuLy8gQWxzbyBpbiBzaWduYWxyLXByb3RvY29sLW1zZ3BhY2svVXRpbHMudHNcclxuLyoqIEBwcml2YXRlICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5QnVmZmVyKHZhbCkge1xyXG4gICAgcmV0dXJuIHZhbCAmJiB0eXBlb2YgQXJyYXlCdWZmZXIgIT09IFwidW5kZWZpbmVkXCIgJiZcclxuICAgICAgICAodmFsIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHxcclxuICAgICAgICAgICAgLy8gU29tZXRpbWVzIHdlIGdldCBhbiBBcnJheUJ1ZmZlciB0aGF0IGRvZXNuJ3Qgc2F0aXNmeSBpbnN0YW5jZW9mXHJcbiAgICAgICAgICAgICh2YWwuY29uc3RydWN0b3IgJiYgdmFsLmNvbnN0cnVjdG9yLm5hbWUgPT09IFwiQXJyYXlCdWZmZXJcIikpO1xyXG59XHJcbi8qKiBAcHJpdmF0ZSAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE1lc3NhZ2UobG9nZ2VyLCB0cmFuc3BvcnROYW1lLCBodHRwQ2xpZW50LCB1cmwsIGNvbnRlbnQsIG9wdGlvbnMpIHtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcclxuICAgIGNvbnN0IFtuYW1lLCB2YWx1ZV0gPSBnZXRVc2VyQWdlbnRIZWFkZXIoKTtcclxuICAgIGhlYWRlcnNbbmFtZV0gPSB2YWx1ZTtcclxuICAgIGxvZ2dlci5sb2coTG9nTGV2ZWwuVHJhY2UsIGAoJHt0cmFuc3BvcnROYW1lfSB0cmFuc3BvcnQpIHNlbmRpbmcgZGF0YS4gJHtnZXREYXRhRGV0YWlsKGNvbnRlbnQsIG9wdGlvbnMubG9nTWVzc2FnZUNvbnRlbnQpfS5gKTtcclxuICAgIGNvbnN0IHJlc3BvbnNlVHlwZSA9IGlzQXJyYXlCdWZmZXIoY29udGVudCkgPyBcImFycmF5YnVmZmVyXCIgOiBcInRleHRcIjtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgaHR0cENsaWVudC5wb3N0KHVybCwge1xyXG4gICAgICAgIGNvbnRlbnQsXHJcbiAgICAgICAgaGVhZGVyczogeyAuLi5oZWFkZXJzLCAuLi5vcHRpb25zLmhlYWRlcnMgfSxcclxuICAgICAgICByZXNwb25zZVR5cGUsXHJcbiAgICAgICAgdGltZW91dDogb3B0aW9ucy50aW1lb3V0LFxyXG4gICAgICAgIHdpdGhDcmVkZW50aWFsczogb3B0aW9ucy53aXRoQ3JlZGVudGlhbHMsXHJcbiAgICB9KTtcclxuICAgIGxvZ2dlci5sb2coTG9nTGV2ZWwuVHJhY2UsIGAoJHt0cmFuc3BvcnROYW1lfSB0cmFuc3BvcnQpIHJlcXVlc3QgY29tcGxldGUuIFJlc3BvbnNlIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXNDb2RlfS5gKTtcclxufVxyXG4vKiogQHByaXZhdGUgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUxvZ2dlcihsb2dnZXIpIHtcclxuICAgIGlmIChsb2dnZXIgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ29uc29sZUxvZ2dlcihMb2dMZXZlbC5JbmZvcm1hdGlvbik7XHJcbiAgICB9XHJcbiAgICBpZiAobG9nZ2VyID09PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIE51bGxMb2dnZXIuaW5zdGFuY2U7XHJcbiAgICB9XHJcbiAgICBpZiAobG9nZ2VyLmxvZyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIGxvZ2dlcjtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXcgQ29uc29sZUxvZ2dlcihsb2dnZXIpO1xyXG59XHJcbi8qKiBAcHJpdmF0ZSAqL1xyXG5leHBvcnQgY2xhc3MgU3ViamVjdFN1YnNjcmlwdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcihzdWJqZWN0LCBvYnNlcnZlcikge1xyXG4gICAgICAgIHRoaXMuX3N1YmplY3QgPSBzdWJqZWN0O1xyXG4gICAgICAgIHRoaXMuX29ic2VydmVyID0gb2JzZXJ2ZXI7XHJcbiAgICB9XHJcbiAgICBkaXNwb3NlKCkge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fc3ViamVjdC5vYnNlcnZlcnMuaW5kZXhPZih0aGlzLl9vYnNlcnZlcik7XHJcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3ViamVjdC5vYnNlcnZlcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX3N1YmplY3Qub2JzZXJ2ZXJzLmxlbmd0aCA9PT0gMCAmJiB0aGlzLl9zdWJqZWN0LmNhbmNlbENhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1YmplY3QuY2FuY2VsQ2FsbGJhY2soKS5jYXRjaCgoXykgPT4geyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqIEBwcml2YXRlICovXHJcbmV4cG9ydCBjbGFzcyBDb25zb2xlTG9nZ2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKG1pbmltdW1Mb2dMZXZlbCkge1xyXG4gICAgICAgIHRoaXMuX21pbkxldmVsID0gbWluaW11bUxvZ0xldmVsO1xyXG4gICAgICAgIHRoaXMub3V0ID0gY29uc29sZTtcclxuICAgIH1cclxuICAgIGxvZyhsb2dMZXZlbCwgbWVzc2FnZSkge1xyXG4gICAgICAgIGlmIChsb2dMZXZlbCA+PSB0aGlzLl9taW5MZXZlbCkge1xyXG4gICAgICAgICAgICBjb25zdCBtc2cgPSBgWyR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfV0gJHtMb2dMZXZlbFtsb2dMZXZlbF19OiAke21lc3NhZ2V9YDtcclxuICAgICAgICAgICAgc3dpdGNoIChsb2dMZXZlbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMb2dMZXZlbC5Dcml0aWNhbDpcclxuICAgICAgICAgICAgICAgIGNhc2UgTG9nTGV2ZWwuRXJyb3I6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vdXQuZXJyb3IobXNnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTG9nTGV2ZWwuV2FybmluZzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm91dC53YXJuKG1zZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIExvZ0xldmVsLkluZm9ybWF0aW9uOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0LmluZm8obXNnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5kZWJ1ZyBvbmx5IGdvZXMgdG8gYXR0YWNoZWQgZGVidWdnZXJzIGluIE5vZGUsIHNvIHdlIHVzZSBjb25zb2xlLmxvZyBmb3IgVHJhY2UgYW5kIERlYnVnXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vdXQubG9nKG1zZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqIEBwcml2YXRlICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2VyQWdlbnRIZWFkZXIoKSB7XHJcbiAgICBsZXQgdXNlckFnZW50SGVhZGVyTmFtZSA9IFwiWC1TaWduYWxSLVVzZXItQWdlbnRcIjtcclxuICAgIGlmIChQbGF0Zm9ybS5pc05vZGUpIHtcclxuICAgICAgICB1c2VyQWdlbnRIZWFkZXJOYW1lID0gXCJVc2VyLUFnZW50XCI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gW3VzZXJBZ2VudEhlYWRlck5hbWUsIGNvbnN0cnVjdFVzZXJBZ2VudChWRVJTSU9OLCBnZXRPc05hbWUoKSwgZ2V0UnVudGltZSgpLCBnZXRSdW50aW1lVmVyc2lvbigpKV07XHJcbn1cclxuLyoqIEBwcml2YXRlICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjb25zdHJ1Y3RVc2VyQWdlbnQodmVyc2lvbiwgb3MsIHJ1bnRpbWUsIHJ1bnRpbWVWZXJzaW9uKSB7XHJcbiAgICAvLyBNaWNyb3NvZnQgU2lnbmFsUi9bVmVyc2lvbl0gKFtEZXRhaWxlZCBWZXJzaW9uXTsgW09wZXJhdGluZyBTeXN0ZW1dOyBbUnVudGltZV07IFtSdW50aW1lIFZlcnNpb25dKVxyXG4gICAgbGV0IHVzZXJBZ2VudCA9IFwiTWljcm9zb2Z0IFNpZ25hbFIvXCI7XHJcbiAgICBjb25zdCBtYWpvckFuZE1pbm9yID0gdmVyc2lvbi5zcGxpdChcIi5cIik7XHJcbiAgICB1c2VyQWdlbnQgKz0gYCR7bWFqb3JBbmRNaW5vclswXX0uJHttYWpvckFuZE1pbm9yWzFdfWA7XHJcbiAgICB1c2VyQWdlbnQgKz0gYCAoJHt2ZXJzaW9ufTsgYDtcclxuICAgIGlmIChvcyAmJiBvcyAhPT0gXCJcIikge1xyXG4gICAgICAgIHVzZXJBZ2VudCArPSBgJHtvc307IGA7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB1c2VyQWdlbnQgKz0gXCJVbmtub3duIE9TOyBcIjtcclxuICAgIH1cclxuICAgIHVzZXJBZ2VudCArPSBgJHtydW50aW1lfWA7XHJcbiAgICBpZiAocnVudGltZVZlcnNpb24pIHtcclxuICAgICAgICB1c2VyQWdlbnQgKz0gYDsgJHtydW50aW1lVmVyc2lvbn1gO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdXNlckFnZW50ICs9IFwiOyBVbmtub3duIFJ1bnRpbWUgVmVyc2lvblwiO1xyXG4gICAgfVxyXG4gICAgdXNlckFnZW50ICs9IFwiKVwiO1xyXG4gICAgcmV0dXJuIHVzZXJBZ2VudDtcclxufVxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc3BhY2VkLWNvbW1lbnRcclxuLyojX19QVVJFX18qLyBmdW5jdGlvbiBnZXRPc05hbWUoKSB7XHJcbiAgICBpZiAoUGxhdGZvcm0uaXNOb2RlKSB7XHJcbiAgICAgICAgc3dpdGNoIChwcm9jZXNzLnBsYXRmb3JtKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ3aW4zMlwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiV2luZG93cyBOVFwiO1xyXG4gICAgICAgICAgICBjYXNlIFwiZGFyd2luXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJtYWNPU1wiO1xyXG4gICAgICAgICAgICBjYXNlIFwibGludXhcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIkxpbnV4XCI7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvY2Vzcy5wbGF0Zm9ybTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgIH1cclxufVxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc3BhY2VkLWNvbW1lbnRcclxuLyojX19QVVJFX18qLyBmdW5jdGlvbiBnZXRSdW50aW1lVmVyc2lvbigpIHtcclxuICAgIGlmIChQbGF0Zm9ybS5pc05vZGUpIHtcclxuICAgICAgICByZXR1cm4gcHJvY2Vzcy52ZXJzaW9ucy5ub2RlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxufVxyXG5mdW5jdGlvbiBnZXRSdW50aW1lKCkge1xyXG4gICAgaWYgKFBsYXRmb3JtLmlzTm9kZSkge1xyXG4gICAgICAgIHJldHVybiBcIk5vZGVKU1wiO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIFwiQnJvd3NlclwiO1xyXG4gICAgfVxyXG59XHJcbi8qKiBAcHJpdmF0ZSAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXJyb3JTdHJpbmcoZSkge1xyXG4gICAgaWYgKGUuc3RhY2spIHtcclxuICAgICAgICByZXR1cm4gZS5zdGFjaztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGUubWVzc2FnZSkge1xyXG4gICAgICAgIHJldHVybiBlLm1lc3NhZ2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYCR7ZX1gO1xyXG59XHJcbi8qKiBAcHJpdmF0ZSAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0R2xvYmFsVGhpcygpIHtcclxuICAgIC8vIGdsb2JhbFRoaXMgaXMgc2VtaS1uZXcgYW5kIG5vdCBhdmFpbGFibGUgaW4gTm9kZSB1bnRpbCB2MTJcclxuICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgIHJldHVybiBnbG9iYWxUaGlzO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgIHJldHVybiB3aW5kb3c7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgIHJldHVybiBnbG9iYWw7XHJcbiAgICB9XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb3VsZCBub3QgZmluZCBnbG9iYWxcIik7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VXRpbHMuanMubWFwIl0sIm5hbWVzIjpbIkxvZ0xldmVsIiwiTnVsbExvZ2dlciIsIlZFUlNJT04iLCJBcmciLCJpc1JlcXVpcmVkIiwidmFsIiwibmFtZSIsInVuZGVmaW5lZCIsIkVycm9yIiwiaXNOb3RFbXB0eSIsIm1hdGNoIiwiaXNJbiIsInZhbHVlcyIsIlBsYXRmb3JtIiwiaXNCcm93c2VyIiwiaXNOb2RlIiwid2luZG93IiwiZG9jdW1lbnQiLCJpc1dlYldvcmtlciIsInNlbGYiLCJpc1JlYWN0TmF0aXZlIiwicHJvY2VzcyIsInJlbGVhc2UiLCJnZXREYXRhRGV0YWlsIiwiZGF0YSIsImluY2x1ZGVDb250ZW50IiwiZGV0YWlsIiwiaXNBcnJheUJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJmb3JtYXRBcnJheUJ1ZmZlciIsImxlbmd0aCIsInZpZXciLCJVaW50OEFycmF5Iiwic3RyIiwiZm9yRWFjaCIsIm51bSIsInBhZCIsInRvU3RyaW5nIiwic3Vic3RyIiwiQXJyYXlCdWZmZXIiLCJjb25zdHJ1Y3RvciIsInNlbmRNZXNzYWdlIiwibG9nZ2VyIiwidHJhbnNwb3J0TmFtZSIsImh0dHBDbGllbnQiLCJ1cmwiLCJjb250ZW50Iiwib3B0aW9ucyIsImhlYWRlcnMiLCJ2YWx1ZSIsImdldFVzZXJBZ2VudEhlYWRlciIsImxvZyIsIlRyYWNlIiwibG9nTWVzc2FnZUNvbnRlbnQiLCJyZXNwb25zZVR5cGUiLCJyZXNwb25zZSIsInBvc3QiLCJ0aW1lb3V0Iiwid2l0aENyZWRlbnRpYWxzIiwic3RhdHVzQ29kZSIsImNyZWF0ZUxvZ2dlciIsIkNvbnNvbGVMb2dnZXIiLCJJbmZvcm1hdGlvbiIsImluc3RhbmNlIiwiU3ViamVjdFN1YnNjcmlwdGlvbiIsInN1YmplY3QiLCJvYnNlcnZlciIsIl9zdWJqZWN0IiwiX29ic2VydmVyIiwiZGlzcG9zZSIsImluZGV4Iiwib2JzZXJ2ZXJzIiwiaW5kZXhPZiIsInNwbGljZSIsImNhbmNlbENhbGxiYWNrIiwiY2F0Y2giLCJfIiwibWluaW11bUxvZ0xldmVsIiwiX21pbkxldmVsIiwib3V0IiwiY29uc29sZSIsImxvZ0xldmVsIiwibWVzc2FnZSIsIm1zZyIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIkNyaXRpY2FsIiwiZXJyb3IiLCJXYXJuaW5nIiwid2FybiIsImluZm8iLCJ1c2VyQWdlbnRIZWFkZXJOYW1lIiwiY29uc3RydWN0VXNlckFnZW50IiwiZ2V0T3NOYW1lIiwiZ2V0UnVudGltZSIsImdldFJ1bnRpbWVWZXJzaW9uIiwidmVyc2lvbiIsIm9zIiwicnVudGltZSIsInJ1bnRpbWVWZXJzaW9uIiwidXNlckFnZW50IiwibWFqb3JBbmRNaW5vciIsInNwbGl0IiwicGxhdGZvcm0iLCJ2ZXJzaW9ucyIsIm5vZGUiLCJnZXRFcnJvclN0cmluZyIsImUiLCJzdGFjayIsImdldEdsb2JhbFRoaXMiLCJnbG9iYWxUaGlzIiwiZ2xvYmFsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/Utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/WebSocketTransport.js":
/*!************************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/WebSocketTransport.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WebSocketTransport: () => (/* binding */ WebSocketTransport)\n/* harmony export */ });\n/* harmony import */ var _HeaderNames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./HeaderNames */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/HeaderNames.js\");\n/* harmony import */ var _ILogger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ILogger */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/ILogger.js\");\n/* harmony import */ var _ITransport__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ITransport */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/ITransport.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Utils.js\");\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n\n\n\n\n/** @private */ class WebSocketTransport {\n    constructor(httpClient, accessTokenFactory, logger, logMessageContent, webSocketConstructor, headers){\n        this._logger = logger;\n        this._accessTokenFactory = accessTokenFactory;\n        this._logMessageContent = logMessageContent;\n        this._webSocketConstructor = webSocketConstructor;\n        this._httpClient = httpClient;\n        this.onreceive = null;\n        this.onclose = null;\n        this._headers = headers;\n    }\n    async connect(url, transferFormat) {\n        _Utils__WEBPACK_IMPORTED_MODULE_0__.Arg.isRequired(url, \"url\");\n        _Utils__WEBPACK_IMPORTED_MODULE_0__.Arg.isRequired(transferFormat, \"transferFormat\");\n        _Utils__WEBPACK_IMPORTED_MODULE_0__.Arg.isIn(transferFormat, _ITransport__WEBPACK_IMPORTED_MODULE_1__.TransferFormat, \"transferFormat\");\n        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Trace, \"(WebSockets transport) Connecting.\");\n        let token;\n        if (this._accessTokenFactory) {\n            token = await this._accessTokenFactory();\n        }\n        return new Promise((resolve, reject)=>{\n            url = url.replace(/^http/, \"ws\");\n            let webSocket;\n            const cookies = this._httpClient.getCookieString(url);\n            let opened = false;\n            if (_Utils__WEBPACK_IMPORTED_MODULE_0__.Platform.isNode || _Utils__WEBPACK_IMPORTED_MODULE_0__.Platform.isReactNative) {\n                const headers = {};\n                const [name, value] = (0,_Utils__WEBPACK_IMPORTED_MODULE_0__.getUserAgentHeader)();\n                headers[name] = value;\n                if (token) {\n                    headers[_HeaderNames__WEBPACK_IMPORTED_MODULE_3__.HeaderNames.Authorization] = `Bearer ${token}`;\n                }\n                if (cookies) {\n                    headers[_HeaderNames__WEBPACK_IMPORTED_MODULE_3__.HeaderNames.Cookie] = cookies;\n                }\n                // Only pass headers when in non-browser environments\n                webSocket = new this._webSocketConstructor(url, undefined, {\n                    headers: {\n                        ...headers,\n                        ...this._headers\n                    }\n                });\n            } else {\n                if (token) {\n                    url += (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + `access_token=${encodeURIComponent(token)}`;\n                }\n            }\n            if (!webSocket) {\n                // Chrome is not happy with passing 'undefined' as protocol\n                webSocket = new this._webSocketConstructor(url);\n            }\n            if (transferFormat === _ITransport__WEBPACK_IMPORTED_MODULE_1__.TransferFormat.Binary) {\n                webSocket.binaryType = \"arraybuffer\";\n            }\n            webSocket.onopen = (_event)=>{\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Information, `WebSocket connected to ${url}.`);\n                this._webSocket = webSocket;\n                opened = true;\n                resolve();\n            };\n            webSocket.onerror = (event)=>{\n                let error = null;\n                // ErrorEvent is a browser only type we need to check if the type exists before using it\n                if (typeof ErrorEvent !== \"undefined\" && event instanceof ErrorEvent) {\n                    error = event.error;\n                } else {\n                    error = \"There was an error with the transport\";\n                }\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Information, `(WebSockets transport) ${error}.`);\n            };\n            webSocket.onmessage = (message)=>{\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Trace, `(WebSockets transport) data received. ${(0,_Utils__WEBPACK_IMPORTED_MODULE_0__.getDataDetail)(message.data, this._logMessageContent)}.`);\n                if (this.onreceive) {\n                    try {\n                        this.onreceive(message.data);\n                    } catch (error) {\n                        this._close(error);\n                        return;\n                    }\n                }\n            };\n            webSocket.onclose = (event)=>{\n                // Don't call close handler if connection was never established\n                // We'll reject the connect call instead\n                if (opened) {\n                    this._close(event);\n                } else {\n                    let error = null;\n                    // ErrorEvent is a browser only type we need to check if the type exists before using it\n                    if (typeof ErrorEvent !== \"undefined\" && event instanceof ErrorEvent) {\n                        error = event.error;\n                    } else {\n                        error = \"WebSocket failed to connect. The connection could not be found on the server,\" + \" either the endpoint may not be a SignalR endpoint,\" + \" the connection ID is not present on the server, or there is a proxy blocking WebSockets.\" + \" If you have multiple servers check that sticky sessions are enabled.\";\n                    }\n                    reject(new Error(error));\n                }\n            };\n        });\n    }\n    send(data) {\n        if (this._webSocket && this._webSocket.readyState === this._webSocketConstructor.OPEN) {\n            this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Trace, `(WebSockets transport) sending data. ${(0,_Utils__WEBPACK_IMPORTED_MODULE_0__.getDataDetail)(data, this._logMessageContent)}.`);\n            this._webSocket.send(data);\n            return Promise.resolve();\n        }\n        return Promise.reject(\"WebSocket is not in the OPEN state\");\n    }\n    stop() {\n        if (this._webSocket) {\n            // Manually invoke onclose callback inline so we know the HttpConnection was closed properly before returning\n            // This also solves an issue where websocket.onclose could take 18+ seconds to trigger during network disconnects\n            this._close(undefined);\n        }\n        return Promise.resolve();\n    }\n    _close(event) {\n        // webSocket will be null if the transport did not start successfully\n        if (this._webSocket) {\n            // Clear websocket handlers because we are considering the socket closed now\n            this._webSocket.onclose = ()=>{};\n            this._webSocket.onmessage = ()=>{};\n            this._webSocket.onerror = ()=>{};\n            this._webSocket.close();\n            this._webSocket = undefined;\n        }\n        this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Trace, \"(WebSockets transport) socket closed.\");\n        if (this.onclose) {\n            if (this._isCloseEvent(event) && (event.wasClean === false || event.code !== 1000)) {\n                this.onclose(new Error(`WebSocket closed with status code: ${event.code} (${event.reason || \"no reason given\"}).`));\n            } else if (event instanceof Error) {\n                this.onclose(event);\n            } else {\n                this.onclose();\n            }\n        }\n    }\n    _isCloseEvent(event) {\n        return event && typeof event.wasClean === \"boolean\" && typeof event.code === \"number\";\n    }\n} //# sourceMappingURL=WebSocketTransport.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL1dlYlNvY2tldFRyYW5zcG9ydC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLGdFQUFnRTtBQUNoRSx1RUFBdUU7QUFDM0I7QUFDUDtBQUNTO0FBQzZCO0FBQzNFLGFBQWEsR0FDTixNQUFNTztJQUNUQyxZQUFZQyxVQUFVLEVBQUVDLGtCQUFrQixFQUFFQyxNQUFNLEVBQUVDLGlCQUFpQixFQUFFQyxvQkFBb0IsRUFBRUMsT0FBTyxDQUFFO1FBQ2xHLElBQUksQ0FBQ0MsT0FBTyxHQUFHSjtRQUNmLElBQUksQ0FBQ0ssbUJBQW1CLEdBQUdOO1FBQzNCLElBQUksQ0FBQ08sa0JBQWtCLEdBQUdMO1FBQzFCLElBQUksQ0FBQ00scUJBQXFCLEdBQUdMO1FBQzdCLElBQUksQ0FBQ00sV0FBVyxHQUFHVjtRQUNuQixJQUFJLENBQUNXLFNBQVMsR0FBRztRQUNqQixJQUFJLENBQUNDLE9BQU8sR0FBRztRQUNmLElBQUksQ0FBQ0MsUUFBUSxHQUFHUjtJQUNwQjtJQUNBLE1BQU1TLFFBQVFDLEdBQUcsRUFBRUMsY0FBYyxFQUFFO1FBQy9CdEIsdUNBQUdBLENBQUN1QixVQUFVLENBQUNGLEtBQUs7UUFDcEJyQix1Q0FBR0EsQ0FBQ3VCLFVBQVUsQ0FBQ0QsZ0JBQWdCO1FBQy9CdEIsdUNBQUdBLENBQUN3QixJQUFJLENBQUNGLGdCQUFnQnZCLHVEQUFjQSxFQUFFO1FBQ3pDLElBQUksQ0FBQ2EsT0FBTyxDQUFDYSxHQUFHLENBQUMzQiw4Q0FBUUEsQ0FBQzRCLEtBQUssRUFBRTtRQUNqQyxJQUFJQztRQUNKLElBQUksSUFBSSxDQUFDZCxtQkFBbUIsRUFBRTtZQUMxQmMsUUFBUSxNQUFNLElBQUksQ0FBQ2QsbUJBQW1CO1FBQzFDO1FBQ0EsT0FBTyxJQUFJZSxRQUFRLENBQUNDLFNBQVNDO1lBQ3pCVCxNQUFNQSxJQUFJVSxPQUFPLENBQUMsU0FBUztZQUMzQixJQUFJQztZQUNK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QUksQ0FBQzlCLE9BQU8sQ0FBQ2EsR0FBRyxDQUFDM0IsOENBQVFBLENBQUM0QixLQUFLLEVBQUU7UUFDakMsSUFBSSxJQUFJLENBQUNSLE9BQU8sRUFBRTtZQUNkLElBQUksSUFBSSxDQUFDK0MsYUFBYSxDQUFDYixVQUFXQSxDQUFBQSxNQUFNYyxRQUFRLEtBQUssU0FBU2QsTUFBTWUsSUFBSSxLQUFLLElBQUcsR0FBSTtnQkFDaEYsSUFBSSxDQUFDakQsT0FBTyxDQUFDLElBQUl5QyxNQUFNLENBQUMsbUNBQW1DLEVBQUVQLE1BQU1lLElBQUksQ0FBQyxFQUFFLEVBQUVmLE1BQU1nQixNQUFNLElBQUksa0JBQWtCLEVBQUUsQ0FBQztZQUNySCxPQUNLLElBQUloQixpQkFBaUJPLE9BQU87Z0JBQzdCLElBQUksQ0FBQ3pDLE9BQU8sQ0FBQ2tDO1lBQ2pCLE9BQ0s7Z0JBQ0QsSUFBSSxDQUFDbEMsT0FBTztZQUNoQjtRQUNKO0lBQ0o7SUFDQStDLGNBQWNiLEtBQUssRUFBRTtRQUNqQixPQUFPQSxTQUFTLE9BQU9BLE1BQU1jLFFBQVEsS0FBSyxhQUFhLE9BQU9kLE1BQU1lLElBQUksS0FBSztJQUNqRjtBQUNKLEVBQ0EsOENBQThDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLXNvY2tldHMtY2hhdC1jbGllbnQtYXBwLy4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvc2lnbmFsci9kaXN0L2VzbS9XZWJTb2NrZXRUcmFuc3BvcnQuanM/Yjk5YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcbmltcG9ydCB7IEhlYWRlck5hbWVzIH0gZnJvbSBcIi4vSGVhZGVyTmFtZXNcIjtcclxuaW1wb3J0IHsgTG9nTGV2ZWwgfSBmcm9tIFwiLi9JTG9nZ2VyXCI7XHJcbmltcG9ydCB7IFRyYW5zZmVyRm9ybWF0IH0gZnJvbSBcIi4vSVRyYW5zcG9ydFwiO1xyXG5pbXBvcnQgeyBBcmcsIGdldERhdGFEZXRhaWwsIGdldFVzZXJBZ2VudEhlYWRlciwgUGxhdGZvcm0gfSBmcm9tIFwiLi9VdGlsc1wiO1xyXG4vKiogQHByaXZhdGUgKi9cclxuZXhwb3J0IGNsYXNzIFdlYlNvY2tldFRyYW5zcG9ydCB7XHJcbiAgICBjb25zdHJ1Y3RvcihodHRwQ2xpZW50LCBhY2Nlc3NUb2tlbkZhY3RvcnksIGxvZ2dlciwgbG9nTWVzc2FnZUNvbnRlbnQsIHdlYlNvY2tldENvbnN0cnVjdG9yLCBoZWFkZXJzKSB7XHJcbiAgICAgICAgdGhpcy5fbG9nZ2VyID0gbG9nZ2VyO1xyXG4gICAgICAgIHRoaXMuX2FjY2Vzc1Rva2VuRmFjdG9yeSA9IGFjY2Vzc1Rva2VuRmFjdG9yeTtcclxuICAgICAgICB0aGlzLl9sb2dNZXNzYWdlQ29udGVudCA9IGxvZ01lc3NhZ2VDb250ZW50O1xyXG4gICAgICAgIHRoaXMuX3dlYlNvY2tldENvbnN0cnVjdG9yID0gd2ViU29ja2V0Q29uc3RydWN0b3I7XHJcbiAgICAgICAgdGhpcy5faHR0cENsaWVudCA9IGh0dHBDbGllbnQ7XHJcbiAgICAgICAgdGhpcy5vbnJlY2VpdmUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMub25jbG9zZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgICB9XHJcbiAgICBhc3luYyBjb25uZWN0KHVybCwgdHJhbnNmZXJGb3JtYXQpIHtcclxuICAgICAgICBBcmcuaXNSZXF1aXJlZCh1cmwsIFwidXJsXCIpO1xyXG4gICAgICAgIEFyZy5pc1JlcXVpcmVkKHRyYW5zZmVyRm9ybWF0LCBcInRyYW5zZmVyRm9ybWF0XCIpO1xyXG4gICAgICAgIEFyZy5pc0luKHRyYW5zZmVyRm9ybWF0LCBUcmFuc2ZlckZvcm1hdCwgXCJ0cmFuc2ZlckZvcm1hdFwiKTtcclxuICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLlRyYWNlLCBcIihXZWJTb2NrZXRzIHRyYW5zcG9ydCkgQ29ubmVjdGluZy5cIik7XHJcbiAgICAgICAgbGV0IHRva2VuO1xyXG4gICAgICAgIGlmICh0aGlzLl9hY2Nlc3NUb2tlbkZhY3RvcnkpIHtcclxuICAgICAgICAgICAgdG9rZW4gPSBhd2FpdCB0aGlzLl9hY2Nlc3NUb2tlbkZhY3RvcnkoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoL15odHRwLywgXCJ3c1wiKTtcclxuICAgICAgICAgICAgbGV0IHdlYlNvY2tldDtcclxuICAgICAgICAgICAgY29uc3QgY29va2llcyA9IHRoaXMuX2h0dHBDbGllbnQuZ2V0Q29va2llU3RyaW5nKHVybCk7XHJcbiAgICAgICAgICAgIGxldCBvcGVuZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKFBsYXRmb3JtLmlzTm9kZSB8fCBQbGF0Zm9ybS5pc1JlYWN0TmF0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJzID0ge307XHJcbiAgICAgICAgICAgICAgICBjb25zdCBbbmFtZSwgdmFsdWVdID0gZ2V0VXNlckFnZW50SGVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzW25hbWVdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzW0hlYWRlck5hbWVzLkF1dGhvcml6YXRpb25dID0gYEJlYXJlciAke3Rva2VufWA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY29va2llcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbSGVhZGVyTmFtZXMuQ29va2llXSA9IGNvb2tpZXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHBhc3MgaGVhZGVycyB3aGVuIGluIG5vbi1icm93c2VyIGVudmlyb25tZW50c1xyXG4gICAgICAgICAgICAgICAgd2ViU29ja2V0ID0gbmV3IHRoaXMuX3dlYlNvY2tldENvbnN0cnVjdG9yKHVybCwgdW5kZWZpbmVkLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAuLi5oZWFkZXJzLCAuLi50aGlzLl9oZWFkZXJzIH0sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybCArPSAodXJsLmluZGV4T2YoXCI/XCIpIDwgMCA/IFwiP1wiIDogXCImXCIpICsgYGFjY2Vzc190b2tlbj0ke2VuY29kZVVSSUNvbXBvbmVudCh0b2tlbil9YDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXdlYlNvY2tldCkge1xyXG4gICAgICAgICAgICAgICAgLy8gQ2hyb21lIGlzIG5vdCBoYXBweSB3aXRoIHBhc3NpbmcgJ3VuZGVmaW5lZCcgYXMgcHJvdG9jb2xcclxuICAgICAgICAgICAgICAgIHdlYlNvY2tldCA9IG5ldyB0aGlzLl93ZWJTb2NrZXRDb25zdHJ1Y3Rvcih1cmwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0cmFuc2ZlckZvcm1hdCA9PT0gVHJhbnNmZXJGb3JtYXQuQmluYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICB3ZWJTb2NrZXQuYmluYXJ5VHlwZSA9IFwiYXJyYXlidWZmZXJcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3ZWJTb2NrZXQub25vcGVuID0gKF9ldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5JbmZvcm1hdGlvbiwgYFdlYlNvY2tldCBjb25uZWN0ZWQgdG8gJHt1cmx9LmApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2ViU29ja2V0ID0gd2ViU29ja2V0O1xyXG4gICAgICAgICAgICAgICAgb3BlbmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgd2ViU29ja2V0Lm9uZXJyb3IgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBlcnJvciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAvLyBFcnJvckV2ZW50IGlzIGEgYnJvd3NlciBvbmx5IHR5cGUgd2UgbmVlZCB0byBjaGVjayBpZiB0aGUgdHlwZSBleGlzdHMgYmVmb3JlIHVzaW5nIGl0XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIEVycm9yRXZlbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgZXZlbnQgaW5zdGFuY2VvZiBFcnJvckV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBldmVudC5lcnJvcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yID0gXCJUaGVyZSB3YXMgYW4gZXJyb3Igd2l0aCB0aGUgdHJhbnNwb3J0XCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLkluZm9ybWF0aW9uLCBgKFdlYlNvY2tldHMgdHJhbnNwb3J0KSAke2Vycm9yfS5gKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgd2ViU29ja2V0Lm9ubWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLlRyYWNlLCBgKFdlYlNvY2tldHMgdHJhbnNwb3J0KSBkYXRhIHJlY2VpdmVkLiAke2dldERhdGFEZXRhaWwobWVzc2FnZS5kYXRhLCB0aGlzLl9sb2dNZXNzYWdlQ29udGVudCl9LmApO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub25yZWNlaXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbnJlY2VpdmUobWVzc2FnZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Nsb3NlKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgd2ViU29ja2V0Lm9uY2xvc2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIERvbid0IGNhbGwgY2xvc2UgaGFuZGxlciBpZiBjb25uZWN0aW9uIHdhcyBuZXZlciBlc3RhYmxpc2hlZFxyXG4gICAgICAgICAgICAgICAgLy8gV2UnbGwgcmVqZWN0IHRoZSBjb25uZWN0IGNhbGwgaW5zdGVhZFxyXG4gICAgICAgICAgICAgICAgaWYgKG9wZW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Nsb3NlKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlcnJvciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRXJyb3JFdmVudCBpcyBhIGJyb3dzZXIgb25seSB0eXBlIHdlIG5lZWQgdG8gY2hlY2sgaWYgdGhlIHR5cGUgZXhpc3RzIGJlZm9yZSB1c2luZyBpdFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgRXJyb3JFdmVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBldmVudCBpbnN0YW5jZW9mIEVycm9yRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBldmVudC5lcnJvcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gXCJXZWJTb2NrZXQgZmFpbGVkIHRvIGNvbm5lY3QuIFRoZSBjb25uZWN0aW9uIGNvdWxkIG5vdCBiZSBmb3VuZCBvbiB0aGUgc2VydmVyLFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFwiIGVpdGhlciB0aGUgZW5kcG9pbnQgbWF5IG5vdCBiZSBhIFNpZ25hbFIgZW5kcG9pbnQsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgXCIgdGhlIGNvbm5lY3Rpb24gSUQgaXMgbm90IHByZXNlbnQgb24gdGhlIHNlcnZlciwgb3IgdGhlcmUgaXMgYSBwcm94eSBibG9ja2luZyBXZWJTb2NrZXRzLlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFwiIElmIHlvdSBoYXZlIG11bHRpcGxlIHNlcnZlcnMgY2hlY2sgdGhhdCBzdGlja3kgc2Vzc2lvbnMgYXJlIGVuYWJsZWQuXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoZXJyb3IpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHNlbmQoZGF0YSkge1xyXG4gICAgICAgIGlmICh0aGlzLl93ZWJTb2NrZXQgJiYgdGhpcy5fd2ViU29ja2V0LnJlYWR5U3RhdGUgPT09IHRoaXMuX3dlYlNvY2tldENvbnN0cnVjdG9yLk9QRU4pIHtcclxuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhMb2dMZXZlbC5UcmFjZSwgYChXZWJTb2NrZXRzIHRyYW5zcG9ydCkgc2VuZGluZyBkYXRhLiAke2dldERhdGFEZXRhaWwoZGF0YSwgdGhpcy5fbG9nTWVzc2FnZUNvbnRlbnQpfS5gKTtcclxuICAgICAgICAgICAgdGhpcy5fd2ViU29ja2V0LnNlbmQoZGF0YSk7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiV2ViU29ja2V0IGlzIG5vdCBpbiB0aGUgT1BFTiBzdGF0ZVwiKTtcclxuICAgIH1cclxuICAgIHN0b3AoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3dlYlNvY2tldCkge1xyXG4gICAgICAgICAgICAvLyBNYW51YWxseSBpbnZva2Ugb25jbG9zZSBjYWxsYmFjayBpbmxpbmUgc28gd2Uga25vdyB0aGUgSHR0cENvbm5lY3Rpb24gd2FzIGNsb3NlZCBwcm9wZXJseSBiZWZvcmUgcmV0dXJuaW5nXHJcbiAgICAgICAgICAgIC8vIFRoaXMgYWxzbyBzb2x2ZXMgYW4gaXNzdWUgd2hlcmUgd2Vic29ja2V0Lm9uY2xvc2UgY291bGQgdGFrZSAxOCsgc2Vjb25kcyB0byB0cmlnZ2VyIGR1cmluZyBuZXR3b3JrIGRpc2Nvbm5lY3RzXHJcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlKHVuZGVmaW5lZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgIH1cclxuICAgIF9jbG9zZShldmVudCkge1xyXG4gICAgICAgIC8vIHdlYlNvY2tldCB3aWxsIGJlIG51bGwgaWYgdGhlIHRyYW5zcG9ydCBkaWQgbm90IHN0YXJ0IHN1Y2Nlc3NmdWxseVxyXG4gICAgICAgIGlmICh0aGlzLl93ZWJTb2NrZXQpIHtcclxuICAgICAgICAgICAgLy8gQ2xlYXIgd2Vic29ja2V0IGhhbmRsZXJzIGJlY2F1c2Ugd2UgYXJlIGNvbnNpZGVyaW5nIHRoZSBzb2NrZXQgY2xvc2VkIG5vd1xyXG4gICAgICAgICAgICB0aGlzLl93ZWJTb2NrZXQub25jbG9zZSA9ICgpID0+IHsgfTtcclxuICAgICAgICAgICAgdGhpcy5fd2ViU29ja2V0Lm9ubWVzc2FnZSA9ICgpID0+IHsgfTtcclxuICAgICAgICAgICAgdGhpcy5fd2ViU29ja2V0Lm9uZXJyb3IgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgICAgIHRoaXMuX3dlYlNvY2tldC5jbG9zZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl93ZWJTb2NrZXQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuVHJhY2UsIFwiKFdlYlNvY2tldHMgdHJhbnNwb3J0KSBzb2NrZXQgY2xvc2VkLlwiKTtcclxuICAgICAgICBpZiAodGhpcy5vbmNsb3NlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0Nsb3NlRXZlbnQoZXZlbnQpICYmIChldmVudC53YXNDbGVhbiA9PT0gZmFsc2UgfHwgZXZlbnQuY29kZSAhPT0gMTAwMCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25jbG9zZShuZXcgRXJyb3IoYFdlYlNvY2tldCBjbG9zZWQgd2l0aCBzdGF0dXMgY29kZTogJHtldmVudC5jb2RlfSAoJHtldmVudC5yZWFzb24gfHwgXCJubyByZWFzb24gZ2l2ZW5cIn0pLmApKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChldmVudCBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2xvc2UoZXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfaXNDbG9zZUV2ZW50KGV2ZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIGV2ZW50ICYmIHR5cGVvZiBldmVudC53YXNDbGVhbiA9PT0gXCJib29sZWFuXCIgJiYgdHlwZW9mIGV2ZW50LmNvZGUgPT09IFwibnVtYmVyXCI7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V2ViU29ja2V0VHJhbnNwb3J0LmpzLm1hcCJdLCJuYW1lcyI6WyJIZWFkZXJOYW1lcyIsIkxvZ0xldmVsIiwiVHJhbnNmZXJGb3JtYXQiLCJBcmciLCJnZXREYXRhRGV0YWlsIiwiZ2V0VXNlckFnZW50SGVhZGVyIiwiUGxhdGZvcm0iLCJXZWJTb2NrZXRUcmFuc3BvcnQiLCJjb25zdHJ1Y3RvciIsImh0dHBDbGllbnQiLCJhY2Nlc3NUb2tlbkZhY3RvcnkiLCJsb2dnZXIiLCJsb2dNZXNzYWdlQ29udGVudCIsIndlYlNvY2tldENvbnN0cnVjdG9yIiwiaGVhZGVycyIsIl9sb2dnZXIiLCJfYWNjZXNzVG9rZW5GYWN0b3J5IiwiX2xvZ01lc3NhZ2VDb250ZW50IiwiX3dlYlNvY2tldENvbnN0cnVjdG9yIiwiX2h0dHBDbGllbnQiLCJvbnJlY2VpdmUiLCJvbmNsb3NlIiwiX2hlYWRlcnMiLCJjb25uZWN0IiwidXJsIiwidHJhbnNmZXJGb3JtYXQiLCJpc1JlcXVpcmVkIiwiaXNJbiIsImxvZyIsIlRyYWNlIiwidG9rZW4iLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlcGxhY2UiLCJ3ZWJTb2NrZXQiLCJjb29raWVzIiwiZ2V0Q29va2llU3RyaW5nIiwib3BlbmVkIiwiaXNOb2RlIiwiaXNSZWFjdE5hdGl2ZSIsIm5hbWUiLCJ2YWx1ZSIsIkF1dGhvcml6YXRpb24iLCJDb29raWUiLCJ1bmRlZmluZWQiLCJpbmRleE9mIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiQmluYXJ5IiwiYmluYXJ5VHlwZSIsIm9ub3BlbiIsIl9ldmVudCIsIkluZm9ybWF0aW9uIiwiX3dlYlNvY2tldCIsIm9uZXJyb3IiLCJldmVudCIsImVycm9yIiwiRXJyb3JFdmVudCIsIm9ubWVzc2FnZSIsIm1lc3NhZ2UiLCJkYXRhIiwiX2Nsb3NlIiwiRXJyb3IiLCJzZW5kIiwicmVhZHlTdGF0ZSIsIk9QRU4iLCJzdG9wIiwiY2xvc2UiLCJfaXNDbG9zZUV2ZW50Iiwid2FzQ2xlYW4iLCJjb2RlIiwicmVhc29uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/WebSocketTransport.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@microsoft/signalr/dist/esm/XhrHttpClient.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@microsoft/signalr/dist/esm/XhrHttpClient.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   XhrHttpClient: () => (/* binding */ XhrHttpClient)\n/* harmony export */ });\n/* harmony import */ var _Errors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Errors */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Errors.js\");\n/* harmony import */ var _HttpClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./HttpClient */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/HttpClient.js\");\n/* harmony import */ var _ILogger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ILogger */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/ILogger.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@microsoft/signalr/dist/esm/Utils.js\");\n// Licensed to the .NET Foundation under one or more agreements.\n// The .NET Foundation licenses this file to you under the MIT license.\n\n\n\n\nclass XhrHttpClient extends _HttpClient__WEBPACK_IMPORTED_MODULE_0__.HttpClient {\n    constructor(logger){\n        super();\n        this._logger = logger;\n    }\n    /** @inheritDoc */ send(request) {\n        // Check that abort was not signaled before calling send\n        if (request.abortSignal && request.abortSignal.aborted) {\n            return Promise.reject(new _Errors__WEBPACK_IMPORTED_MODULE_1__.AbortError());\n        }\n        if (!request.method) {\n            return Promise.reject(new Error(\"No method defined.\"));\n        }\n        if (!request.url) {\n            return Promise.reject(new Error(\"No url defined.\"));\n        }\n        return new Promise((resolve, reject)=>{\n            const xhr = new XMLHttpRequest();\n            xhr.open(request.method, request.url, true);\n            xhr.withCredentials = request.withCredentials === undefined ? true : request.withCredentials;\n            xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n            if (request.content === \"\") {\n                request.content = undefined;\n            }\n            if (request.content) {\n                // Explicitly setting the Content-Type header for React Native on Android platform.\n                if ((0,_Utils__WEBPACK_IMPORTED_MODULE_2__.isArrayBuffer)(request.content)) {\n                    xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n                } else {\n                    xhr.setRequestHeader(\"Content-Type\", \"text/plain;charset=UTF-8\");\n                }\n            }\n            const headers = request.headers;\n            if (headers) {\n                Object.keys(headers).forEach((header)=>{\n                    xhr.setRequestHeader(header, headers[header]);\n                });\n            }\n            if (request.responseType) {\n                xhr.responseType = request.responseType;\n            }\n            if (request.abortSignal) {\n                request.abortSignal.onabort = ()=>{\n                    xhr.abort();\n                    reject(new _Errors__WEBPACK_IMPORTED_MODULE_1__.AbortError());\n                };\n            }\n            if (request.timeout) {\n                xhr.timeout = request.timeout;\n            }\n            xhr.onload = ()=>{\n                if (request.abortSignal) {\n                    request.abortSignal.onabort = null;\n                }\n                if (xhr.status >= 200 && xhr.status < 300) {\n                    resolve(new _HttpClient__WEBPACK_IMPORTED_MODULE_0__.HttpResponse(xhr.status, xhr.statusText, xhr.response || xhr.responseText));\n                } else {\n                    reject(new _Errors__WEBPACK_IMPORTED_MODULE_1__.HttpError(xhr.response || xhr.responseText || xhr.statusText, xhr.status));\n                }\n            };\n            xhr.onerror = ()=>{\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Warning, `Error from HTTP request. ${xhr.status}: ${xhr.statusText}.`);\n                reject(new _Errors__WEBPACK_IMPORTED_MODULE_1__.HttpError(xhr.statusText, xhr.status));\n            };\n            xhr.ontimeout = ()=>{\n                this._logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Warning, `Timeout from HTTP request.`);\n                reject(new _Errors__WEBPACK_IMPORTED_MODULE_1__.TimeoutError());\n            };\n            xhr.send(request.content);\n        });\n    }\n} //# sourceMappingURL=XhrHttpClient.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL1hockh0dHBDbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxnRUFBZ0U7QUFDaEUsdUVBQXVFO0FBQ1I7QUFDUDtBQUNuQjtBQUNHO0FBQ2pDLE1BQU1PLHNCQUFzQkosbURBQVVBO0lBQ3pDSyxZQUFZQyxNQUFNLENBQUU7UUFDaEIsS0FBSztRQUNMLElBQUksQ0FBQ0MsT0FBTyxHQUFHRDtJQUNuQjtJQUNBLGdCQUFnQixHQUNoQkUsS0FBS0MsT0FBTyxFQUFFO1FBQ1Ysd0RBQXdEO1FBQ3hELElBQUlBLFFBQVFDLFdBQVcsSUFBSUQsUUFBUUMsV0FBVyxDQUFDQyxPQUFPLEVBQUU7WUFDcEQsT0FBT0MsUUFBUUMsTUFBTSxDQUFDLElBQUloQiwrQ0FBVUE7UUFDeEM7UUFDQSxJQUFJLENBQUNZLFFBQVFLLE1BQU0sRUFBRTtZQUNqQixPQUFPRixRQUFRQyxNQUFNLENBQUMsSUFBSUUsTUFBTTtRQUNwQztRQUNBLElBQUksQ0FBQ04sUUFBUU8sR0FBRyxFQUFFO1lBQ2QsT0FBT0osUUFBUUMsTUFBTSxDQUFDLElBQUlFLE1BQU07UUFDcEM7UUFDQSxPQUFPLElBQUlILFFBQVEsQ0FBQ0ssU0FBU0o7WUFDekIsTUFBTUssTUFBTSxJQUFJQztZQUNoQkQsSUFBSUUsSUFBSSxDQUFDWCxRQUFRSyxNQUFNLEVBQUVMLFFBQVFPLEdBQUcsRUFBRTtZQUN0Q0UsSUFBSUcsZUFBZSxHQUFHWixRQUFRWSxlQUFlLEtBQUtDLFlBQVksT0FBT2IsUUFBUVksZUFBZTtZQUM1RkgsSUFBSUssZ0JBQWdCLENBQUMsb0JBQW9CO1lBQ3pDLElBQUlkLFFBQVFlLE9BQU8sS0FBSyxJQUFJO2dCQUN4QmYsUUFBUWUsT0FBTyxHQUFHRjtZQUN0QjtZQUNBLElBQUliLFFBQVFlLE9BQU8sRUFBRTtnQkFDakIsbUZBQW1GO2dCQUNuRixJQUFJckIscURBQWFBLENBQUNNLFFBQVFlLE9BQU8sR0FBRztvQkFDaENOLElBQUlLLGdCQUFnQixDQUFDLGdCQUFnQjtnQkFDekMsT0FDSztvQkFDREwsSUFBSUssZ0JBQWdCLENBQUMsZ0JBQWdCO2dCQUN6QztZQUNKO1lBQ0EsTUFBTUUsVUFBVWhCLFFBQVFnQixPQUFPO1lBQy9CLElBQUlBLFNBQVM7Z0JBQ1RDLE9BQU9DLElBQUksQ0FBQ0YsU0FDUEcsT0FBTyxDQUFDLENBQUNDO29CQUNWWCxJQUFJSyxnQkFBZ0IsQ0FBQ00sUUFBUUosT0FBTyxDQUFDSSxPQUFPO2dCQUNoRDtZQUNKO1lBQ0EsSUFBSXBCLFFBQVFxQixZQUFZLEVBQUU7Z0JBQ3RCWixJQUFJWSxZQUFZLEdBQUdyQixRQUFRcUIsWUFBWTtZQUMzQztZQUNBLElBQUlyQixRQUFRQyxXQUFXLEVBQUU7Z0JBQ3JCRCxRQUFRQyxXQUFXLENBQUNxQixPQUFPLEdBQUc7b0JBQzFCYixJQUFJYyxLQUFLO29CQUNUbkIsT0FBTyxJQUFJaEIsK0NBQVVBO2dCQUN6QjtZQUNKO1lBQ0EsSUFBSVksUUFBUXdCLE9BQU8sRUFBRTtnQkFDakJmLElBQUllLE9BQU8sR0FBR3hCLFFBQVF3QixPQUFPO1lBQ2pDO1lBQ0FmLElBQUlnQixNQUFNLEdBQUc7Z0JBQ1QsSUFBSXpCLFFBQVFDLFdBQVcsRUFBRTtvQkFDckJELFFBQVFDLFdBQVcsQ0FBQ3FCLE9BQU8sR0FBRztnQkFDbEM7Z0JBQ0EsSUFBSWIsSUFBSWlCLE1BQU0sSUFBSSxPQUFPakIsSUFBSWlCLE1BQU0sR0FBRyxLQUFLO29CQUN2Q2xCLFFBQVEsSUFBSWhCLHFEQUFZQSxDQUFDaUIsSUFBSWlCLE1BQU0sRUFBRWpCLElBQUlrQixVQUFVLEVBQUVsQixJQUFJbUIsUUFBUSxJQUFJbkIsSUFBSW9CLFlBQVk7Z0JBQ3pGLE9BQ0s7b0JBQ0R6QixPQUFPLElBQUlmLDhDQUFTQSxDQUFDb0IsSUFBSW1CLFFBQVEsSUFBSW5CLElBQUlvQixZQUFZLElBQUlwQixJQUFJa0IsVUFBVSxFQUFFbEIsSUFBSWlCLE1BQU07Z0JBQ3ZGO1lBQ0o7WUFDQWpCLElBQUlxQixPQUFPLEdBQUc7Z0JBQ1YsSUFBSSxDQUFDaEMsT0FBTyxDQUFDaUMsR0FBRyxDQUFDdEMsOENBQVFBLENBQUN1QyxPQUFPLEVBQUUsQ0FBQyx5QkFBeUIsRUFBRXZCLElBQUlpQixNQUFNLENBQUMsRUFBRSxFQUFFakIsSUFBSWtCLFVBQVUsQ0FBQyxDQUFDLENBQUM7Z0JBQy9GdkIsT0FBTyxJQUFJZiw4Q0FBU0EsQ0FBQ29CLElBQUlrQixVQUFVLEVBQUVsQixJQUFJaUIsTUFBTTtZQUNuRDtZQUNBakIsSUFBSXdCLFNBQVMsR0FBRztnQkFDWixJQUFJLENBQUNuQyxPQUFPLENBQUNpQyxHQUFHLENBQUN0Qyw4Q0FBUUEsQ0FBQ3VDLE9BQU8sRUFBRSxDQUFDLDBCQUEwQixDQUFDO2dCQUMvRDVCLE9BQU8sSUFBSWQsaURBQVlBO1lBQzNCO1lBQ0FtQixJQUFJVixJQUFJLENBQUNDLFFBQVFlLE9BQU87UUFDNUI7SUFDSjtBQUNKLEVBQ0EseUNBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLXNvY2tldHMtY2hhdC1jbGllbnQtYXBwLy4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvc2lnbmFsci9kaXN0L2VzbS9YaHJIdHRwQ2xpZW50LmpzP2M5NWMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5pbXBvcnQgeyBBYm9ydEVycm9yLCBIdHRwRXJyb3IsIFRpbWVvdXRFcnJvciB9IGZyb20gXCIuL0Vycm9yc1wiO1xyXG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwUmVzcG9uc2UgfSBmcm9tIFwiLi9IdHRwQ2xpZW50XCI7XHJcbmltcG9ydCB7IExvZ0xldmVsIH0gZnJvbSBcIi4vSUxvZ2dlclwiO1xyXG5pbXBvcnQgeyBpc0FycmF5QnVmZmVyIH0gZnJvbSBcIi4vVXRpbHNcIjtcclxuZXhwb3J0IGNsYXNzIFhockh0dHBDbGllbnQgZXh0ZW5kcyBIdHRwQ2xpZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKGxvZ2dlcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5fbG9nZ2VyID0gbG9nZ2VyO1xyXG4gICAgfVxyXG4gICAgLyoqIEBpbmhlcml0RG9jICovXHJcbiAgICBzZW5kKHJlcXVlc3QpIHtcclxuICAgICAgICAvLyBDaGVjayB0aGF0IGFib3J0IHdhcyBub3Qgc2lnbmFsZWQgYmVmb3JlIGNhbGxpbmcgc2VuZFxyXG4gICAgICAgIGlmIChyZXF1ZXN0LmFib3J0U2lnbmFsICYmIHJlcXVlc3QuYWJvcnRTaWduYWwuYWJvcnRlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEFib3J0RXJyb3IoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcmVxdWVzdC5tZXRob2QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vIG1ldGhvZCBkZWZpbmVkLlwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcmVxdWVzdC51cmwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vIHVybCBkZWZpbmVkLlwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwsIHRydWUpO1xyXG4gICAgICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPT09IHVuZGVmaW5lZCA/IHRydWUgOiByZXF1ZXN0LndpdGhDcmVkZW50aWFscztcclxuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJYLVJlcXVlc3RlZC1XaXRoXCIsIFwiWE1MSHR0cFJlcXVlc3RcIik7XHJcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0LmNvbnRlbnQgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3QuY29udGVudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocmVxdWVzdC5jb250ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBFeHBsaWNpdGx5IHNldHRpbmcgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXIgZm9yIFJlYWN0IE5hdGl2ZSBvbiBBbmRyb2lkIHBsYXRmb3JtLlxyXG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXlCdWZmZXIocmVxdWVzdC5jb250ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJ0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLThcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IHJlcXVlc3QuaGVhZGVycztcclxuICAgICAgICAgICAgaWYgKGhlYWRlcnMpIHtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGhlYWRlcnMpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goKGhlYWRlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGhlYWRlciwgaGVhZGVyc1toZWFkZXJdKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0LnJlc3BvbnNlVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IHJlcXVlc3QucmVzcG9uc2VUeXBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0LmFib3J0U2lnbmFsKSB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0LmFib3J0U2lnbmFsLm9uYWJvcnQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgeGhyLmFib3J0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBBYm9ydEVycm9yKCkpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocmVxdWVzdC50aW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICB4aHIudGltZW91dCA9IHJlcXVlc3QudGltZW91dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB4aHIub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QuYWJvcnRTaWduYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LmFib3J0U2lnbmFsLm9uYWJvcnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG5ldyBIdHRwUmVzcG9uc2UoeGhyLnN0YXR1cywgeGhyLnN0YXR1c1RleHQsIHhoci5yZXNwb25zZSB8fCB4aHIucmVzcG9uc2VUZXh0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEh0dHBFcnJvcih4aHIucmVzcG9uc2UgfHwgeGhyLnJlc3BvbnNlVGV4dCB8fCB4aHIuc3RhdHVzVGV4dCwgeGhyLnN0YXR1cykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB4aHIub25lcnJvciA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coTG9nTGV2ZWwuV2FybmluZywgYEVycm9yIGZyb20gSFRUUCByZXF1ZXN0LiAke3hoci5zdGF0dXN9OiAke3hoci5zdGF0dXNUZXh0fS5gKTtcclxuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgSHR0cEVycm9yKHhoci5zdGF0dXNUZXh0LCB4aHIuc3RhdHVzKSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHhoci5vbnRpbWVvdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nKExvZ0xldmVsLldhcm5pbmcsIGBUaW1lb3V0IGZyb20gSFRUUCByZXF1ZXN0LmApO1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBUaW1lb3V0RXJyb3IoKSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHhoci5zZW5kKHJlcXVlc3QuY29udGVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9WGhySHR0cENsaWVudC5qcy5tYXAiXSwibmFtZXMiOlsiQWJvcnRFcnJvciIsIkh0dHBFcnJvciIsIlRpbWVvdXRFcnJvciIsIkh0dHBDbGllbnQiLCJIdHRwUmVzcG9uc2UiLCJMb2dMZXZlbCIsImlzQXJyYXlCdWZmZXIiLCJYaHJIdHRwQ2xpZW50IiwiY29uc3RydWN0b3IiLCJsb2dnZXIiLCJfbG9nZ2VyIiwic2VuZCIsInJlcXVlc3QiLCJhYm9ydFNpZ25hbCIsImFib3J0ZWQiLCJQcm9taXNlIiwicmVqZWN0IiwibWV0aG9kIiwiRXJyb3IiLCJ1cmwiLCJyZXNvbHZlIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwid2l0aENyZWRlbnRpYWxzIiwidW5kZWZpbmVkIiwic2V0UmVxdWVzdEhlYWRlciIsImNvbnRlbnQiLCJoZWFkZXJzIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJoZWFkZXIiLCJyZXNwb25zZVR5cGUiLCJvbmFib3J0IiwiYWJvcnQiLCJ0aW1lb3V0Iiwib25sb2FkIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsInJlc3BvbnNlIiwicmVzcG9uc2VUZXh0Iiwib25lcnJvciIsImxvZyIsIldhcm5pbmciLCJvbnRpbWVvdXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@microsoft/signalr/dist/esm/XhrHttpClient.js\n");

/***/ })

};
;